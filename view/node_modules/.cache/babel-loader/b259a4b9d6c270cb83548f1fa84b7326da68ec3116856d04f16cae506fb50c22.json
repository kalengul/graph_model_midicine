{"ast":null,"code":"/**\n * nav-mesh\n *\n * Waits for a mesh to be loaded on the current entity, then sets it as the\n * nav mesh in the pathfinding system.\n */\nmodule.exports = AFRAME.registerComponent('nav-mesh', {\n  schema: {\n    nodeName: {\n      type: 'string'\n    }\n  },\n  init: function () {\n    this.system = this.el.sceneEl.systems.nav;\n    this.hasLoadedNavMesh = false;\n    this.nodeName = this.data.nodeName;\n    this.el.addEventListener('object3dset', this.loadNavMesh.bind(this));\n  },\n  play: function () {\n    if (!this.hasLoadedNavMesh) this.loadNavMesh();\n  },\n  loadNavMesh: function () {\n    var self = this;\n    const object = this.el.getObject3D('mesh');\n    const scene = this.el.sceneEl.object3D;\n    if (!object) return;\n    let navMesh;\n    object.traverse(node => {\n      if (node.isMesh && (!self.nodeName || node.name === self.nodeName)) navMesh = node;\n    });\n    if (!navMesh) return;\n    const navMeshGeometry = navMesh.geometry.clone();\n    navMesh.updateWorldMatrix(true, false);\n    navMeshGeometry.applyMatrix4(navMesh.matrixWorld);\n    this.system.setNavMeshGeometry(navMeshGeometry);\n    this.hasLoadedNavMesh = true;\n  }\n});","map":{"version":3,"names":["module","exports","AFRAME","registerComponent","schema","nodeName","type","init","system","el","sceneEl","systems","nav","hasLoadedNavMesh","data","addEventListener","loadNavMesh","bind","play","self","object","getObject3D","scene","object3D","navMesh","traverse","node","isMesh","name","navMeshGeometry","geometry","clone","updateWorldMatrix","applyMatrix4","matrixWorld","setNavMeshGeometry"],"sources":["C:/UsersFolders/Polina/РЭУ/Graph/view/node_modules/aframe-extras/src/pathfinding/nav-mesh.js"],"sourcesContent":["/**\n * nav-mesh\n *\n * Waits for a mesh to be loaded on the current entity, then sets it as the\n * nav mesh in the pathfinding system.\n */\nmodule.exports = AFRAME.registerComponent('nav-mesh', {\n  schema: {\n    nodeName: {type: 'string'}\n  },\n\n  init: function () {\n    this.system = this.el.sceneEl.systems.nav;\n    this.hasLoadedNavMesh = false;\n    this.nodeName = this.data.nodeName;\n    this.el.addEventListener('object3dset', this.loadNavMesh.bind(this));\n  },\n\n  play: function () {\n    if (!this.hasLoadedNavMesh) this.loadNavMesh();\n  },\n\n  loadNavMesh: function () {\n    var self = this;\n    const object = this.el.getObject3D('mesh');\n    const scene = this.el.sceneEl.object3D;\n\n    if (!object) return;\n\n    let navMesh;\n    object.traverse((node) => {\n      if (node.isMesh &&\n          (!self.nodeName || node.name === self.nodeName)) navMesh = node;\n    });\n\n    if (!navMesh) return;\n\n    const navMeshGeometry = navMesh.geometry.clone();\n    navMesh.updateWorldMatrix(true, false);\n    navMeshGeometry.applyMatrix4(navMesh.matrixWorld);\n    this.system.setNavMeshGeometry(navMeshGeometry);\n    this.hasLoadedNavMesh = true;\n  }\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,OAAO,GAAGC,MAAM,CAACC,iBAAiB,CAAC,UAAU,EAAE;EACpDC,MAAM,EAAE;IACNC,QAAQ,EAAE;MAACC,IAAI,EAAE;IAAQ;EAC3B,CAAC;EAEDC,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAI,CAACC,MAAM,GAAG,IAAI,CAACC,EAAE,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG;IACzC,IAAI,CAACC,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACR,QAAQ,GAAG,IAAI,CAACS,IAAI,CAACT,QAAQ;IAClC,IAAI,CAACI,EAAE,CAACM,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAACC,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EACtE,CAAC;EAEDC,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAI,CAAC,IAAI,CAACL,gBAAgB,EAAE,IAAI,CAACG,WAAW,CAAC,CAAC;EAChD,CAAC;EAEDA,WAAW,EAAE,SAAAA,CAAA,EAAY;IACvB,IAAIG,IAAI,GAAG,IAAI;IACf,MAAMC,MAAM,GAAG,IAAI,CAACX,EAAE,CAACY,WAAW,CAAC,MAAM,CAAC;IAC1C,MAAMC,KAAK,GAAG,IAAI,CAACb,EAAE,CAACC,OAAO,CAACa,QAAQ;IAEtC,IAAI,CAACH,MAAM,EAAE;IAEb,IAAII,OAAO;IACXJ,MAAM,CAACK,QAAQ,CAAEC,IAAI,IAAK;MACxB,IAAIA,IAAI,CAACC,MAAM,KACV,CAACR,IAAI,CAACd,QAAQ,IAAIqB,IAAI,CAACE,IAAI,KAAKT,IAAI,CAACd,QAAQ,CAAC,EAAEmB,OAAO,GAAGE,IAAI;IACrE,CAAC,CAAC;IAEF,IAAI,CAACF,OAAO,EAAE;IAEd,MAAMK,eAAe,GAAGL,OAAO,CAACM,QAAQ,CAACC,KAAK,CAAC,CAAC;IAChDP,OAAO,CAACQ,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC;IACtCH,eAAe,CAACI,YAAY,CAACT,OAAO,CAACU,WAAW,CAAC;IACjD,IAAI,CAAC1B,MAAM,CAAC2B,kBAAkB,CAACN,eAAe,CAAC;IAC/C,IAAI,CAAChB,gBAAgB,GAAG,IAAI;EAC9B;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}