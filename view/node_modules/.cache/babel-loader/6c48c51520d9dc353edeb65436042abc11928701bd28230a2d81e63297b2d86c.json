{"ast":null,"code":"import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport { map } from \"d3-collection\";\nfunction index(d) {\n  return d.index;\n}\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\nexport default function (links) {\n  var id = index,\n    strength = defaultStrength,\n    strengths,\n    distance = constant(30),\n    distances,\n    nodes,\n    count,\n    bias,\n    iterations = 1;\n  if (links == null) links = [];\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n  function initialize() {\n    if (!nodes) return;\n    var i,\n      n = nodes.length,\n      m = links.length,\n      nodeById = map(nodes, id),\n      link;\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n  function initializeStrength() {\n    if (!nodes) return;\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n  function initializeDistance() {\n    if (!nodes) return;\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n  force.initialize = function (_) {\n    nodes = _;\n    initialize();\n  };\n  force.links = function (_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n  force.id = function (_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n  force.iterations = function (_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n  force.distance = function (_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n  return force;\n}","map":{"version":3,"names":["constant","jiggle","map","index","d","find","nodeById","nodeId","node","get","Error","links","id","strength","defaultStrength","strengths","distance","distances","nodes","count","bias","iterations","link","Math","min","source","target","force","alpha","k","n","length","i","x","y","l","b","vx","vy","sqrt","initialize","m","Array","initializeStrength","initializeDistance","_","arguments"],"sources":["C:/UsersFolders/Polina/РЭУ/Graph/graph_model_midicine/view/node_modules/d3-force/src/link.js"],"sourcesContent":["import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {map} from \"d3-collection\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}