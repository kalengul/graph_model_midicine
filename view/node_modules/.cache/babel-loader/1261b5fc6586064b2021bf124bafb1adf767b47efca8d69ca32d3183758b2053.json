{"ast":null,"code":"import { AmbientLight, DirectionalLight, Vector3, REVISION } from 'three';\nimport { DragControls } from 'three/examples/jsm/controls/DragControls.js';\nimport ThreeForceGraph from 'three-forcegraph';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\nvar css_248z = \".graph-info-msg {\\n  top: 50%;\\n  width: 100%;\\n  text-align: center;\\n  color: lavender;\\n  opacity: 0.7;\\n  font-size: 22px;\\n  position: absolute;\\n  font-family: Sans-serif;\\n}\\n\\n.scene-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.scene-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.scene-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\";\nstyleInject(css_248z);\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction linkKapsule(kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n  dummyK._destructor && dummyK._destructor();\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  Vector3: Vector3,\n  REVISION: REVISION\n};\n\n//\n\nvar CAMERA_DISTANCE2NODES_FACTOR = 170;\n\n//\n\n// Expose config from forceGraph\nvar bindFG = linkKapsule('forceGraph', ThreeForceGraph);\nvar linkedFGProps = Object.assign.apply(Object, _toConsumableArray(['jsonUrl', 'graphData', 'numDimensions', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeVisibility', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'forceEngine', 'd3AlphaDecay', 'd3VelocityDecay', 'd3AlphaMin', 'ngraphPhysics', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})));\nvar linkedFGMethods = Object.assign.apply(Object, _toConsumableArray(['refresh', 'getGraphBbox', 'd3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\n\n// Expose config from renderObjs\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'showNavInfo', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['lights', 'cameraPosition', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n})).concat([{\n  graph2ScreenCoords: bindRenderObjs.linkMethod('getScreenCoords'),\n  screen2GraphCoords: bindRenderObjs.linkMethod('getSceneCoords')\n}]));\n\n//\n\nvar _3dForceGraph = Kapsule({\n  props: _objectSpread2(_objectSpread2({\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 1,\n      onChange: function onChange(p, state) {\n        return state.renderObjs.lineHoverPrecision(p);\n      },\n      triggerUpdate: false\n    },\n    enableNavigationControls: {\n      \"default\": true,\n      onChange: function onChange(enable, state) {\n        var controls = state.renderObjs.controls();\n        if (controls) {\n          controls.enabled = enable;\n          // trigger mouseup on re-enable to prevent sticky controls\n          enable && controls.domElement && controls.domElement.dispatchEvent(new PointerEvent('pointerup'));\n        }\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    }\n  }, linkedFGProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    zoomToFit: function zoomToFit(state, transitionDuration, padding) {\n      var _state$forceGraph;\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n      state.renderObjs.fitToBbox((_state$forceGraph = state.forceGraph).getGraphBbox.apply(_state$forceGraph, bboxArgs), transitionDuration, padding);\n      return this;\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      if (state.enablePointerInteraction) {\n        // reset canvas cursor (override dragControls cursor)\n        this.renderer().domElement.style.cursor = null;\n      }\n\n      // Frame cycle\n      state.forceGraph.tickFrame();\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    tbControls: function tbControls(state) {\n      return state.renderObjs.tbControls();\n    },\n    // To be deprecated\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedFGMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref5) {\n    var controlType = _ref5.controlType,\n      rendererConfig = _ref5.rendererConfig,\n      extraRenderers = _ref5.extraRenderers;\n    var forceGraph = new ThreeForceGraph();\n    return {\n      forceGraph: forceGraph,\n      renderObjs: ThreeRenderObjects({\n        controlType: controlType,\n        rendererConfig: rendererConfig,\n        extraRenderers: extraRenderers\n      }).objects([forceGraph]) // Populate scene\n      .lights([new three.AmbientLight(0xcccccc, Math.PI), new three.DirectionalLight(0xffffff, 0.6 * Math.PI)])\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = '';\n\n    // Add relative container\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative';\n\n    // Add renderObjs\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n    var camera = state.renderObjs.camera();\n    var renderer = state.renderObjs.renderer();\n    var controls = state.renderObjs.controls();\n    controls.enabled = !!state.enableNavigationControls;\n    state.lastSetCameraZ = camera.position.z;\n\n    // Add info space\n    var infoElem;\n    state.container.appendChild(infoElem = document.createElement('div'));\n    infoElem.className = 'graph-info-msg';\n    infoElem.textContent = '';\n\n    // config forcegraph\n    state.forceGraph.onLoading(function () {\n      infoElem.textContent = 'Loading...';\n    }).onFinishLoading(function () {\n      infoElem.textContent = '';\n    }).onUpdate(function () {\n      // sync graph data structures\n      state.graphData = state.forceGraph.graphData();\n\n      // re-aim camera, if still in default position (not user modified)\n      if (camera.position.x === 0 && camera.position.y === 0 && camera.position.z === state.lastSetCameraZ && state.graphData.nodes.length) {\n        camera.lookAt(state.forceGraph.position);\n        state.lastSetCameraZ = camera.position.z = Math.cbrt(state.graphData.nodes.length) * CAMERA_DISTANCE2NODES_FACTOR;\n      }\n    }).onFinishUpdate(function () {\n      // Setup node drag interaction\n      if (state._dragControls) {\n        var curNodeDrag = state.graphData.nodes.find(function (node) {\n          return node.__initialFixedPos && !node.__disposeControlsAfterDrag;\n        }); // detect if there's a node being dragged using the existing drag controls\n        if (curNodeDrag) {\n          curNodeDrag.__disposeControlsAfterDrag = true; // postpone previous controls disposal until drag ends\n        } else {\n          state._dragControls.dispose(); // cancel previous drag controls\n        }\n        state._dragControls = undefined;\n      }\n      if (state.enableNodeDrag && state.enablePointerInteraction && state.forceEngine === 'd3') {\n        // Can't access node positions programmatically in ngraph\n        var dragControls = state._dragControls = new DragControls(state.graphData.nodes.map(function (node) {\n          return node.__threeObj;\n        }).filter(function (obj) {\n          return obj;\n        }), camera, renderer.domElement);\n        dragControls.addEventListener('dragstart', function (event) {\n          controls.enabled = false; // Disable controls while dragging\n\n          // track drag object movement\n          event.object.__initialPos = event.object.position.clone();\n          event.object.__prevPos = event.object.position.clone();\n          var node = getGraphObj(event.object).__data;\n          !node.__initialFixedPos && (node.__initialFixedPos = {\n            fx: node.fx,\n            fy: node.fy,\n            fz: node.fz\n          });\n          !node.__initialPos && (node.__initialPos = {\n            x: node.x,\n            y: node.y,\n            z: node.z\n          });\n\n          // lock node\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c];\n          });\n\n          // drag cursor\n          renderer.domElement.classList.add('grabbable');\n        });\n        dragControls.addEventListener('drag', function (event) {\n          var nodeObj = getGraphObj(event.object);\n          if (!event.object.hasOwnProperty('__graphObjType')) {\n            // If dragging a child of the node, update the node object instead\n            var initPos = event.object.__initialPos;\n            var prevPos = event.object.__prevPos;\n            var _newPos = event.object.position;\n            nodeObj.position.add(_newPos.clone().sub(prevPos)); // translate node object by the motion delta\n            prevPos.copy(_newPos);\n            _newPos.copy(initPos); // reset child back to its initial position\n          }\n          var node = nodeObj.__data;\n          var newPos = nodeObj.position;\n          var translate = {\n            x: newPos.x - node.x,\n            y: newPos.y - node.y,\n            z: newPos.z - node.z\n          };\n          // Move fx/fy/fz (and x/y/z) of nodes based on object new position\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c] = newPos[c];\n          });\n          state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n          .resetCountdown(); // prevent freeze while dragging\n\n          node.__dragged = true;\n          state.onNodeDrag(node, translate);\n        });\n        dragControls.addEventListener('dragend', function (event) {\n          delete event.object.__initialPos; // remove tracking attributes\n          delete event.object.__prevPos;\n          var node = getGraphObj(event.object).__data;\n\n          // dispose previous controls if needed\n          if (node.__disposeControlsAfterDrag) {\n            dragControls.dispose();\n            delete node.__disposeControlsAfterDrag;\n          }\n          var initFixedPos = node.__initialFixedPos;\n          var initPos = node.__initialPos;\n          var translate = {\n            x: initPos.x - node.x,\n            y: initPos.y - node.y,\n            z: initPos.z - node.z\n          };\n          if (initFixedPos) {\n            ['x', 'y', 'z'].forEach(function (c) {\n              var fc = \"f\".concat(c);\n              if (initFixedPos[fc] === undefined) {\n                delete node[fc];\n              }\n            });\n            delete node.__initialFixedPos;\n            delete node.__initialPos;\n            if (node.__dragged) {\n              delete node.__dragged;\n              state.onNodeDragEnd(node, translate);\n            }\n          }\n          state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n          .resetCountdown(); // let the engine readjust after releasing fixed nodes\n\n          if (state.enableNavigationControls) {\n            controls.enabled = true; // Re-enable controls\n            controls.domElement && controls.domElement.ownerDocument && controls.domElement.ownerDocument.dispatchEvent(\n            // simulate mouseup to ensure the controls don't take over after dragend\n            new PointerEvent('pointerup', {\n              pointerType: 'touch'\n            }));\n          }\n\n          // clear cursor\n          renderer.domElement.classList.remove('grabbable');\n        });\n      }\n    });\n\n    // config renderObjs\n    three.REVISION < 155 && (state.renderObjs.renderer().useLegacyLights = false); // force behavior for three < 155\n    state.renderObjs.hoverOrderComparator(function (a, b) {\n      // Prioritize graph objects\n      var aObj = getGraphObj(a);\n      if (!aObj) return 1;\n      var bObj = getGraphObj(b);\n      if (!bObj) return -1;\n\n      // Prioritize nodes over links\n      var isNode = function isNode(o) {\n        return o.__graphObjType === 'node';\n      };\n      return isNode(bObj) - isNode(aObj);\n    }).tooltipContent(function (obj) {\n      var graphObj = getGraphObj(obj);\n      return graphObj ? accessorFn(state[\"\".concat(graphObj.__graphObjType, \"Label\")])(graphObj.__data) || '' : '';\n    }).hoverDuringDrag(false).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObj = getGraphObj(obj);\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__graphObjType : null;\n        var prevObjData = state.hoverObj ? state.hoverObj.__data : null;\n        var objType = hoverObj ? hoverObj.__graphObjType : null;\n        var objData = hoverObj ? hoverObj.__data : null;\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          var fn = state[\"on\".concat(prevObjType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          fn && fn(null, prevObjData);\n        }\n        if (objType) {\n          // Hover in\n          var _fn = state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          _fn && _fn(objData, prevObjType === objType ? prevObjData : null);\n        }\n\n        // set pointer if hovered object is clickable\n        renderer.domElement.classList[hoverObj && state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Click\")] || !hoverObj && state.onBackgroundClick ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n      }\n    }).clickAfterDrag(false).onClick(function (obj, ev) {\n      var graphObj = getGraphObj(obj);\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"Click\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundClick && state.onBackgroundClick(ev);\n      }\n    }).onRightClick(function (obj, ev) {\n      // Handle right-click events\n      var graphObj = getGraphObj(obj);\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"RightClick\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundRightClick && state.onBackgroundRightClick(ev);\n      }\n    });\n\n    //\n\n    // Kick-off renderer\n    this._animationCycle();\n  }\n});\n\n//\n\nfunction getGraphObj(object) {\n  var obj = object;\n  // recurse up object chain until finding the graph object\n  while (obj && !obj.hasOwnProperty('__graphObjType')) {\n    obj = obj.parent;\n  }\n  return obj;\n}\nexport { _3dForceGraph as default };","map":{"version":3,"names":["AmbientLight","DirectionalLight","Vector3","REVISION","DragControls","ThreeForceGraph","ThreeRenderObjects","accessorFn","Kapsule","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPrimitive","Symbol","toPrimitive","i","call","TypeError","String","Number","_toPropertyKey","obj","key","value","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","iterator","from","minLen","n","prototype","toString","slice","constructor","name","test","len","arr2","linkKapsule","kapsulePropName","kapsuleType","dummyK","_destructor","linkProp","prop","onChange","v","state","triggerUpdate","linkMethod","method","kapsuleInstance","_len","args","_key","returnVal","three","window","THREE","CAMERA_DISTANCE2NODES_FACTOR","bindFG","linkedFGProps","assign","map","p","linkedFGMethods","bindRenderObjs","linkedRenderObjsProps","linkedRenderObjsMethods","concat","graph2ScreenCoords","screen2GraphCoords","_3dForceGraph","props","nodeLabel","linkLabel","linkHoverPrecision","renderObjs","lineHoverPrecision","enableNavigationControls","enable","controls","enabled","domElement","dispatchEvent","PointerEvent","enableNodeDrag","onNodeDrag","_default","onNodeDragEnd","onNodeClick","onNodeRightClick","onNodeHover","onLinkClick","onLinkRightClick","onLinkHover","onBackgroundClick","onBackgroundRightClick","methods","zoomToFit","transitionDuration","padding","_state$forceGraph","bboxArgs","fitToBbox","forceGraph","getGraphBbox","pauseAnimation","animationFrameRequestId","cancelAnimationFrame","resumeAnimation","_animationCycle","enablePointerInteraction","renderer","cursor","tickFrame","tick","requestAnimationFrame","scene","camera","tbControls","graphData","nodes","links","stateInit","_ref5","controlType","rendererConfig","extraRenderers","objects","lights","Math","PI","init","domNode","innerHTML","container","position","roDomNode","lastSetCameraZ","z","infoElem","className","textContent","onLoading","onFinishLoading","onUpdate","x","y","lookAt","cbrt","onFinishUpdate","_dragControls","curNodeDrag","find","node","__initialFixedPos","__disposeControlsAfterDrag","dispose","undefined","forceEngine","dragControls","__threeObj","addEventListener","event","object","__initialPos","clone","__prevPos","getGraphObj","__data","fx","fy","fz","c","classList","add","nodeObj","hasOwnProperty","initPos","prevPos","_newPos","sub","copy","newPos","translate","d3AlphaTarget","resetCountdown","__dragged","initFixedPos","fc","ownerDocument","pointerType","remove","useLegacyLights","hoverOrderComparator","a","b","aObj","bObj","isNode","__graphObjType","tooltipContent","graphObj","hoverDuringDrag","onHover","hoverObj","prevObjType","prevObjData","objType","objData","fn","_fn","clickAfterDrag","onClick","ev","onRightClick","parent","default"],"sources":["C:/UsersFolders/Polina/РЭУ/Graph/view/node_modules/3d-force-graph/dist/3d-force-graph.mjs"],"sourcesContent":["import { AmbientLight, DirectionalLight, Vector3, REVISION } from 'three';\nimport { DragControls } from 'three/examples/jsm/controls/DragControls.js';\nimport ThreeForceGraph from 'three-forcegraph';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".graph-info-msg {\\n  top: 50%;\\n  width: 100%;\\n  text-align: center;\\n  color: lavender;\\n  opacity: 0.7;\\n  font-size: 22px;\\n  position: absolute;\\n  font-family: Sans-serif;\\n}\\n\\n.scene-container .clickable {\\n  cursor: pointer;\\n}\\n\\n.scene-container .grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.scene-container .grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\";\nstyleInject(css_248z);\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction linkKapsule (kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n  dummyK._destructor && dummyK._destructor();\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  Vector3: Vector3,\n  REVISION: REVISION\n};\n\n//\n\nvar CAMERA_DISTANCE2NODES_FACTOR = 170;\n\n//\n\n// Expose config from forceGraph\nvar bindFG = linkKapsule('forceGraph', ThreeForceGraph);\nvar linkedFGProps = Object.assign.apply(Object, _toConsumableArray(['jsonUrl', 'graphData', 'numDimensions', 'dagMode', 'dagLevelDistance', 'dagNodeFilter', 'onDagError', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeVisibility', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'forceEngine', 'd3AlphaDecay', 'd3VelocityDecay', 'd3AlphaMin', 'ngraphPhysics', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})));\nvar linkedFGMethods = Object.assign.apply(Object, _toConsumableArray(['refresh', 'getGraphBbox', 'd3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\n\n// Expose config from renderObjs\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'showNavInfo', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['lights', 'cameraPosition', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n})).concat([{\n  graph2ScreenCoords: bindRenderObjs.linkMethod('getScreenCoords'),\n  screen2GraphCoords: bindRenderObjs.linkMethod('getSceneCoords')\n}]));\n\n//\n\nvar _3dForceGraph = Kapsule({\n  props: _objectSpread2(_objectSpread2({\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 1,\n      onChange: function onChange(p, state) {\n        return state.renderObjs.lineHoverPrecision(p);\n      },\n      triggerUpdate: false\n    },\n    enableNavigationControls: {\n      \"default\": true,\n      onChange: function onChange(enable, state) {\n        var controls = state.renderObjs.controls();\n        if (controls) {\n          controls.enabled = enable;\n          // trigger mouseup on re-enable to prevent sticky controls\n          enable && controls.domElement && controls.domElement.dispatchEvent(new PointerEvent('pointerup'));\n        }\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    }\n  }, linkedFGProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    zoomToFit: function zoomToFit(state, transitionDuration, padding) {\n      var _state$forceGraph;\n      for (var _len = arguments.length, bboxArgs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        bboxArgs[_key - 3] = arguments[_key];\n      }\n      state.renderObjs.fitToBbox((_state$forceGraph = state.forceGraph).getGraphBbox.apply(_state$forceGraph, bboxArgs), transitionDuration, padding);\n      return this;\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      if (state.enablePointerInteraction) {\n        // reset canvas cursor (override dragControls cursor)\n        this.renderer().domElement.style.cursor = null;\n      }\n\n      // Frame cycle\n      state.forceGraph.tickFrame();\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    tbControls: function tbControls(state) {\n      return state.renderObjs.tbControls();\n    },\n    // To be deprecated\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedFGMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref5) {\n    var controlType = _ref5.controlType,\n      rendererConfig = _ref5.rendererConfig,\n      extraRenderers = _ref5.extraRenderers;\n    var forceGraph = new ThreeForceGraph();\n    return {\n      forceGraph: forceGraph,\n      renderObjs: ThreeRenderObjects({\n        controlType: controlType,\n        rendererConfig: rendererConfig,\n        extraRenderers: extraRenderers\n      }).objects([forceGraph]) // Populate scene\n      .lights([new three.AmbientLight(0xcccccc, Math.PI), new three.DirectionalLight(0xffffff, 0.6 * Math.PI)])\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = '';\n\n    // Add relative container\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative';\n\n    // Add renderObjs\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n    var camera = state.renderObjs.camera();\n    var renderer = state.renderObjs.renderer();\n    var controls = state.renderObjs.controls();\n    controls.enabled = !!state.enableNavigationControls;\n    state.lastSetCameraZ = camera.position.z;\n\n    // Add info space\n    var infoElem;\n    state.container.appendChild(infoElem = document.createElement('div'));\n    infoElem.className = 'graph-info-msg';\n    infoElem.textContent = '';\n\n    // config forcegraph\n    state.forceGraph.onLoading(function () {\n      infoElem.textContent = 'Loading...';\n    }).onFinishLoading(function () {\n      infoElem.textContent = '';\n    }).onUpdate(function () {\n      // sync graph data structures\n      state.graphData = state.forceGraph.graphData();\n\n      // re-aim camera, if still in default position (not user modified)\n      if (camera.position.x === 0 && camera.position.y === 0 && camera.position.z === state.lastSetCameraZ && state.graphData.nodes.length) {\n        camera.lookAt(state.forceGraph.position);\n        state.lastSetCameraZ = camera.position.z = Math.cbrt(state.graphData.nodes.length) * CAMERA_DISTANCE2NODES_FACTOR;\n      }\n    }).onFinishUpdate(function () {\n      // Setup node drag interaction\n      if (state._dragControls) {\n        var curNodeDrag = state.graphData.nodes.find(function (node) {\n          return node.__initialFixedPos && !node.__disposeControlsAfterDrag;\n        }); // detect if there's a node being dragged using the existing drag controls\n        if (curNodeDrag) {\n          curNodeDrag.__disposeControlsAfterDrag = true; // postpone previous controls disposal until drag ends\n        } else {\n          state._dragControls.dispose(); // cancel previous drag controls\n        }\n        state._dragControls = undefined;\n      }\n      if (state.enableNodeDrag && state.enablePointerInteraction && state.forceEngine === 'd3') {\n        // Can't access node positions programmatically in ngraph\n        var dragControls = state._dragControls = new DragControls(state.graphData.nodes.map(function (node) {\n          return node.__threeObj;\n        }).filter(function (obj) {\n          return obj;\n        }), camera, renderer.domElement);\n        dragControls.addEventListener('dragstart', function (event) {\n          controls.enabled = false; // Disable controls while dragging\n\n          // track drag object movement\n          event.object.__initialPos = event.object.position.clone();\n          event.object.__prevPos = event.object.position.clone();\n          var node = getGraphObj(event.object).__data;\n          !node.__initialFixedPos && (node.__initialFixedPos = {\n            fx: node.fx,\n            fy: node.fy,\n            fz: node.fz\n          });\n          !node.__initialPos && (node.__initialPos = {\n            x: node.x,\n            y: node.y,\n            z: node.z\n          });\n\n          // lock node\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c];\n          });\n\n          // drag cursor\n          renderer.domElement.classList.add('grabbable');\n        });\n        dragControls.addEventListener('drag', function (event) {\n          var nodeObj = getGraphObj(event.object);\n          if (!event.object.hasOwnProperty('__graphObjType')) {\n            // If dragging a child of the node, update the node object instead\n            var initPos = event.object.__initialPos;\n            var prevPos = event.object.__prevPos;\n            var _newPos = event.object.position;\n            nodeObj.position.add(_newPos.clone().sub(prevPos)); // translate node object by the motion delta\n            prevPos.copy(_newPos);\n            _newPos.copy(initPos); // reset child back to its initial position\n          }\n          var node = nodeObj.__data;\n          var newPos = nodeObj.position;\n          var translate = {\n            x: newPos.x - node.x,\n            y: newPos.y - node.y,\n            z: newPos.z - node.z\n          };\n          // Move fx/fy/fz (and x/y/z) of nodes based on object new position\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c] = newPos[c];\n          });\n          state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n          .resetCountdown(); // prevent freeze while dragging\n\n          node.__dragged = true;\n          state.onNodeDrag(node, translate);\n        });\n        dragControls.addEventListener('dragend', function (event) {\n          delete event.object.__initialPos; // remove tracking attributes\n          delete event.object.__prevPos;\n          var node = getGraphObj(event.object).__data;\n\n          // dispose previous controls if needed\n          if (node.__disposeControlsAfterDrag) {\n            dragControls.dispose();\n            delete node.__disposeControlsAfterDrag;\n          }\n          var initFixedPos = node.__initialFixedPos;\n          var initPos = node.__initialPos;\n          var translate = {\n            x: initPos.x - node.x,\n            y: initPos.y - node.y,\n            z: initPos.z - node.z\n          };\n          if (initFixedPos) {\n            ['x', 'y', 'z'].forEach(function (c) {\n              var fc = \"f\".concat(c);\n              if (initFixedPos[fc] === undefined) {\n                delete node[fc];\n              }\n            });\n            delete node.__initialFixedPos;\n            delete node.__initialPos;\n            if (node.__dragged) {\n              delete node.__dragged;\n              state.onNodeDragEnd(node, translate);\n            }\n          }\n          state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n          .resetCountdown(); // let the engine readjust after releasing fixed nodes\n\n          if (state.enableNavigationControls) {\n            controls.enabled = true; // Re-enable controls\n            controls.domElement && controls.domElement.ownerDocument && controls.domElement.ownerDocument.dispatchEvent(\n            // simulate mouseup to ensure the controls don't take over after dragend\n            new PointerEvent('pointerup', {\n              pointerType: 'touch'\n            }));\n          }\n\n          // clear cursor\n          renderer.domElement.classList.remove('grabbable');\n        });\n      }\n    });\n\n    // config renderObjs\n    three.REVISION < 155 && (state.renderObjs.renderer().useLegacyLights = false); // force behavior for three < 155\n    state.renderObjs.hoverOrderComparator(function (a, b) {\n      // Prioritize graph objects\n      var aObj = getGraphObj(a);\n      if (!aObj) return 1;\n      var bObj = getGraphObj(b);\n      if (!bObj) return -1;\n\n      // Prioritize nodes over links\n      var isNode = function isNode(o) {\n        return o.__graphObjType === 'node';\n      };\n      return isNode(bObj) - isNode(aObj);\n    }).tooltipContent(function (obj) {\n      var graphObj = getGraphObj(obj);\n      return graphObj ? accessorFn(state[\"\".concat(graphObj.__graphObjType, \"Label\")])(graphObj.__data) || '' : '';\n    }).hoverDuringDrag(false).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObj = getGraphObj(obj);\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__graphObjType : null;\n        var prevObjData = state.hoverObj ? state.hoverObj.__data : null;\n        var objType = hoverObj ? hoverObj.__graphObjType : null;\n        var objData = hoverObj ? hoverObj.__data : null;\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          var fn = state[\"on\".concat(prevObjType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          fn && fn(null, prevObjData);\n        }\n        if (objType) {\n          // Hover in\n          var _fn = state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Hover\")];\n          _fn && _fn(objData, prevObjType === objType ? prevObjData : null);\n        }\n\n        // set pointer if hovered object is clickable\n        renderer.domElement.classList[hoverObj && state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Click\")] || !hoverObj && state.onBackgroundClick ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n      }\n    }).clickAfterDrag(false).onClick(function (obj, ev) {\n      var graphObj = getGraphObj(obj);\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"Click\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundClick && state.onBackgroundClick(ev);\n      }\n    }).onRightClick(function (obj, ev) {\n      // Handle right-click events\n      var graphObj = getGraphObj(obj);\n      if (graphObj) {\n        var fn = state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"RightClick\")];\n        fn && fn(graphObj.__data, ev);\n      } else {\n        state.onBackgroundRightClick && state.onBackgroundRightClick(ev);\n      }\n    });\n\n    //\n\n    // Kick-off renderer\n    this._animationCycle();\n  }\n});\n\n//\n\nfunction getGraphObj(object) {\n  var obj = object;\n  // recurse up object chain until finding the graph object\n  while (obj && !obj.hasOwnProperty('__graphObjType')) {\n    obj = obj.parent;\n  }\n  return obj;\n}\n\nexport { _3dForceGraph as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}