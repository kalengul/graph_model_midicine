{"ast":null,"code":"export class DataParser {\n  constructor(data) {\n    this.inputData = data;\n  }\n  Parse() {\n    let outputData = {\n      \"nodes\": [],\n      \"links\": []\n    };\n\n    //Запись связей\n    this.inputData.links.map(elem => {\n      let source;\n      let target;\n      this.inputData.nodes.map(node => {\n        if (node.name === elem.source) source = node.id;\n        if (node.name === elem.target) target = node.id;\n      });\n      let newLink = {\n        'source': source,\n        'target': target\n      };\n      outputData.links.push(newLink);\n    });\n\n    //Запись узлов\n    this.inputData.nodes.map(elem => {\n      let newNode = this._createNewNode(elem);\n      outputData.nodes.push(newNode);\n    });\n    console.log(outputData);\n    return outputData;\n  }\n  _createNewNode(node) {\n    //Создание нового узла\n    let newNode = {\n      'id': node.id,\n      'name': this._modifyString(node.name),\n      'level': node.level,\n      'cluster': this._findCluster(node)\n    };\n    return newNode;\n  }\n  _findCluster(node) {\n    if (node.level === 0) return {\n      'id': null,\n      'isRoot': false\n    };else if (node.level === 1) return {\n      'id': node.id,\n      'isRoot': true\n    };else {}\n  }\n  _modifyString(str) {\n    str = str.replaceAll('_', ' ');\n    return str;\n  }\n}","map":{"version":3,"names":["DataParser","constructor","data","inputData","Parse","outputData","links","map","elem","source","target","nodes","node","name","id","newLink","push","newNode","_createNewNode","console","log","_modifyString","level","_findCluster","str","replaceAll"],"sources":["C:/UsersFolders/Polina/РЭУ/Graph/graph_model_midicine/view/src/components/graph/DataParser.js"],"sourcesContent":["export class DataParser{\r\n    constructor(data){\r\n        this.inputData = data\r\n    }\r\n\r\n    Parse(){\r\n        let outputData = {\"nodes\":[], \"links\": []}\r\n        \r\n        //Запись связей\r\n        this.inputData.links.map((elem) => {\r\n            let source\r\n            let target\r\n            this.inputData.nodes.map(node=>{\r\n                if (node.name === elem.source) source = node.id\r\n                if( node.name === elem.target) target = node.id\r\n            })\r\n            let newLink = {'source': source, 'target': target}\r\n            outputData.links.push(newLink)\r\n        })\r\n        \r\n        //Запись узлов\r\n        this.inputData.nodes.map((elem)=>{\r\n            let newNode = this._createNewNode(elem)\r\n            outputData.nodes.push(newNode)\r\n        })\r\n\r\n\r\n        console.log(outputData)\r\n\r\n        return outputData\r\n    }\r\n\r\n    _createNewNode(node){\r\n        //Создание нового узла\r\n        let newNode = {\r\n            'id': node.id,\r\n            'name': this._modifyString(node.name),\r\n            'level': node.level,\r\n            'cluster': this._findCluster(node)\r\n        }\r\n        \r\n        \r\n        return newNode\r\n    }\r\n\r\n    _findCluster(node){\r\n        if (node.level === 0) return {'id': null, 'isRoot': false}\r\n        else if (node.level === 1) return {'id': node.id, 'isRoot': true}\r\n        else{\r\n\r\n        }\r\n    }\r\n\r\n    _modifyString(str){\r\n        str = str.replaceAll('_', ' ')\r\n        return str\r\n    }\r\n}"],"mappings":"AAAA,OAAO,MAAMA,UAAU;EACnBC,WAAWA,CAACC,IAAI,EAAC;IACb,IAAI,CAACC,SAAS,GAAGD,IAAI;EACzB;EAEAE,KAAKA,CAAA,EAAE;IACH,IAAIC,UAAU,GAAG;MAAC,OAAO,EAAC,EAAE;MAAE,OAAO,EAAE;IAAE,CAAC;;IAE1C;IACA,IAAI,CAACF,SAAS,CAACG,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAK;MAC/B,IAAIC,MAAM;MACV,IAAIC,MAAM;MACV,IAAI,CAACP,SAAS,CAACQ,KAAK,CAACJ,GAAG,CAACK,IAAI,IAAE;QAC3B,IAAIA,IAAI,CAACC,IAAI,KAAKL,IAAI,CAACC,MAAM,EAAEA,MAAM,GAAGG,IAAI,CAACE,EAAE;QAC/C,IAAIF,IAAI,CAACC,IAAI,KAAKL,IAAI,CAACE,MAAM,EAAEA,MAAM,GAAGE,IAAI,CAACE,EAAE;MACnD,CAAC,CAAC;MACF,IAAIC,OAAO,GAAG;QAAC,QAAQ,EAAEN,MAAM;QAAE,QAAQ,EAAEC;MAAM,CAAC;MAClDL,UAAU,CAACC,KAAK,CAACU,IAAI,CAACD,OAAO,CAAC;IAClC,CAAC,CAAC;;IAEF;IACA,IAAI,CAACZ,SAAS,CAACQ,KAAK,CAACJ,GAAG,CAAEC,IAAI,IAAG;MAC7B,IAAIS,OAAO,GAAG,IAAI,CAACC,cAAc,CAACV,IAAI,CAAC;MACvCH,UAAU,CAACM,KAAK,CAACK,IAAI,CAACC,OAAO,CAAC;IAClC,CAAC,CAAC;IAGFE,OAAO,CAACC,GAAG,CAACf,UAAU,CAAC;IAEvB,OAAOA,UAAU;EACrB;EAEAa,cAAcA,CAACN,IAAI,EAAC;IAChB;IACA,IAAIK,OAAO,GAAG;MACV,IAAI,EAAEL,IAAI,CAACE,EAAE;MACb,MAAM,EAAE,IAAI,CAACO,aAAa,CAACT,IAAI,CAACC,IAAI,CAAC;MACrC,OAAO,EAAED,IAAI,CAACU,KAAK;MACnB,SAAS,EAAE,IAAI,CAACC,YAAY,CAACX,IAAI;IACrC,CAAC;IAGD,OAAOK,OAAO;EAClB;EAEAM,YAAYA,CAACX,IAAI,EAAC;IACd,IAAIA,IAAI,CAACU,KAAK,KAAK,CAAC,EAAE,OAAO;MAAC,IAAI,EAAE,IAAI;MAAE,QAAQ,EAAE;IAAK,CAAC,MACrD,IAAIV,IAAI,CAACU,KAAK,KAAK,CAAC,EAAE,OAAO;MAAC,IAAI,EAAEV,IAAI,CAACE,EAAE;MAAE,QAAQ,EAAE;IAAI,CAAC,MAC7D,CAEJ;EACJ;EAEAO,aAAaA,CAACG,GAAG,EAAC;IACdA,GAAG,GAAGA,GAAG,CAACC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC;IAC9B,OAAOD,GAAG;EACd;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}