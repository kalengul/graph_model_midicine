{"ast":null,"code":"/**\n * object-model\n *\n * Loader for THREE.js JSON format. Somewhat confusingly, there are two different THREE.js formats,\n * both having the .json extension. This loader supports only THREE.ObjectLoader, which typically\n * includes multiple meshes or an entire scene.\n *\n * Check the console for errors, if in doubt. You may need to use `json-model` or\n * `blend-character-model` for some .js and .json files.\n *\n * See: https://clara.io/learn/user-guide/data_exchange/threejs_export\n */\nmodule.exports = AFRAME.registerComponent('object-model', {\n  schema: {\n    src: {\n      type: 'asset'\n    },\n    crossorigin: {\n      default: ''\n    }\n  },\n  init: function () {\n    this.model = null;\n  },\n  update: function () {\n    let loader;\n    const data = this.data;\n    if (!data.src) return;\n    this.remove();\n    loader = new THREE.ObjectLoader();\n    if (data.crossorigin) loader.setCrossOrigin(data.crossorigin);\n    loader.load(data.src, object => {\n      // Enable skinning, if applicable.\n      object.traverse(o => {\n        if (o instanceof THREE.SkinnedMesh && o.material) {\n          o.material.skinning = !!(o.geometry && o.geometry.bones || []).length;\n        }\n      });\n      this.load(object);\n    });\n  },\n  load: function (model) {\n    this.model = model;\n    this.el.setObject3D('mesh', model);\n    this.el.emit('model-loaded', {\n      format: 'json',\n      model: model\n    });\n  },\n  remove: function () {\n    if (this.model) this.el.removeObject3D('mesh');\n  }\n});","map":{"version":3,"names":["module","exports","AFRAME","registerComponent","schema","src","type","crossorigin","default","init","model","update","loader","data","remove","THREE","ObjectLoader","setCrossOrigin","load","object","traverse","o","SkinnedMesh","material","skinning","geometry","bones","length","el","setObject3D","emit","format","removeObject3D"],"sources":["C:/UsersFolders/Polina/РЭУ/Graph/view/node_modules/aframe-extras/src/loaders/object-model.js"],"sourcesContent":["/**\n * object-model\n *\n * Loader for THREE.js JSON format. Somewhat confusingly, there are two different THREE.js formats,\n * both having the .json extension. This loader supports only THREE.ObjectLoader, which typically\n * includes multiple meshes or an entire scene.\n *\n * Check the console for errors, if in doubt. You may need to use `json-model` or\n * `blend-character-model` for some .js and .json files.\n *\n * See: https://clara.io/learn/user-guide/data_exchange/threejs_export\n */\nmodule.exports = AFRAME.registerComponent('object-model', {\n  schema: {\n    src:         { type: 'asset' },\n    crossorigin: { default: '' }\n  },\n\n  init: function () {\n    this.model = null;\n  },\n\n  update: function () {\n    let loader;\n    const data = this.data;\n    if (!data.src) return;\n\n    this.remove();\n    loader = new THREE.ObjectLoader();\n    if (data.crossorigin) loader.setCrossOrigin(data.crossorigin);\n    loader.load(data.src, (object) => {\n\n      // Enable skinning, if applicable.\n      object.traverse((o) => {\n        if (o instanceof THREE.SkinnedMesh && o.material) {\n          o.material.skinning = !!((o.geometry && o.geometry.bones) || []).length;\n        }\n      });\n\n      this.load(object);\n    });\n  },\n\n  load: function (model) {\n    this.model = model;\n    this.el.setObject3D('mesh', model);\n    this.el.emit('model-loaded', {format: 'json', model: model});\n  },\n\n  remove: function () {\n    if (this.model) this.el.removeObject3D('mesh');\n  }\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,OAAO,GAAGC,MAAM,CAACC,iBAAiB,CAAC,cAAc,EAAE;EACxDC,MAAM,EAAE;IACNC,GAAG,EAAU;MAAEC,IAAI,EAAE;IAAQ,CAAC;IAC9BC,WAAW,EAAE;MAAEC,OAAO,EAAE;IAAG;EAC7B,CAAC;EAEDC,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAI,CAACC,KAAK,GAAG,IAAI;EACnB,CAAC;EAEDC,MAAM,EAAE,SAAAA,CAAA,EAAY;IAClB,IAAIC,MAAM;IACV,MAAMC,IAAI,GAAG,IAAI,CAACA,IAAI;IACtB,IAAI,CAACA,IAAI,CAACR,GAAG,EAAE;IAEf,IAAI,CAACS,MAAM,CAAC,CAAC;IACbF,MAAM,GAAG,IAAIG,KAAK,CAACC,YAAY,CAAC,CAAC;IACjC,IAAIH,IAAI,CAACN,WAAW,EAAEK,MAAM,CAACK,cAAc,CAACJ,IAAI,CAACN,WAAW,CAAC;IAC7DK,MAAM,CAACM,IAAI,CAACL,IAAI,CAACR,GAAG,EAAGc,MAAM,IAAK;MAEhC;MACAA,MAAM,CAACC,QAAQ,CAAEC,CAAC,IAAK;QACrB,IAAIA,CAAC,YAAYN,KAAK,CAACO,WAAW,IAAID,CAAC,CAACE,QAAQ,EAAE;UAChDF,CAAC,CAACE,QAAQ,CAACC,QAAQ,GAAG,CAAC,CAAC,CAAEH,CAAC,CAACI,QAAQ,IAAIJ,CAAC,CAACI,QAAQ,CAACC,KAAK,IAAK,EAAE,EAAEC,MAAM;QACzE;MACF,CAAC,CAAC;MAEF,IAAI,CAACT,IAAI,CAACC,MAAM,CAAC;IACnB,CAAC,CAAC;EACJ,CAAC;EAEDD,IAAI,EAAE,SAAAA,CAAUR,KAAK,EAAE;IACrB,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACkB,EAAE,CAACC,WAAW,CAAC,MAAM,EAAEnB,KAAK,CAAC;IAClC,IAAI,CAACkB,EAAE,CAACE,IAAI,CAAC,cAAc,EAAE;MAACC,MAAM,EAAE,MAAM;MAAErB,KAAK,EAAEA;IAAK,CAAC,CAAC;EAC9D,CAAC;EAEDI,MAAM,EAAE,SAAAA,CAAA,EAAY;IAClB,IAAI,IAAI,CAACJ,KAAK,EAAE,IAAI,CAACkB,EAAE,CAACI,cAAc,CAAC,MAAM,CAAC;EAChD;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}