<!DOCTYPE html>
<html>
    <head>
        <title>3d979748-8965-4b1c-bf06-1a9d16192959</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/index.css">
        <style>
            .Graphcontainer{
                width: 98%;
                height: 85vh;

                border: solid 0.5px black;
                border-radius: 7px;
            }

            .svgGraph{
                width: 100%;
                height: 100%;
            }   
        </style>
        <script src="./d3.v7.js"></script>
    </head>
    <body>
        <main>
            <div class="flex jc-center">
                <h1>3d979748-8965-4b1c-bf06-1a9d16192959</h1>
            </div>
            <br/>
            <div class='Graphcontainer' >
                <svg class='svgGraph'> </svg>
            </div>
        </main>

        <script>
            const colors = {
                selectNode: "#E8BD6D",
                selectLink: "#8B7474",
                node: "#E9EEF4",
                link: '#B8B5B5'
            }

            const nodeView = {
                r: 30
            }

            const graphData = {"directed":true,"multigraph":false,"graph":{},"nodes":[{"name":"колхицин","label":"prepare","weight":5,"id":"3d979748-8965-4b1c-bf06-1a9d16192959","level":2,"r":30,"y":410,"x":1200},{"name":"препарат, не влиять на метаболизм мочевой кислота","label":"group","weight":5,"id":"4efc02b4-42c0-4ba3-946b-9a1fa3977af0","level":1,"r":30,"y":280,"x":1200},{"name":"противоподагрический препарат","label":"group","weight":5,"id":"cbd961b3-99a3-4c56-8b4d-7c5e049dacb5","level":0,"r":30,"y":150,"x":1200},{"name":"противоподагрическое действие","label":"mechanism","weight":5,"id":"84d64b1d-f183-44d9-bcde-71c891f6f977","level":3,"r":30,"y":540,"x":12.631578947368421},{"name":"снижение миграция лейкоцит в очаг воспаления","label":"mechanism","weight":5,"id":"2cc1a199-7e95-4ac3-a849-d7a12cb0ca4f","level":4,"r":30,"y":670,"x":240},{"name":"угнетение фагоцитоз микрокристалл соль мочевой кислота","label":"mechanism","weight":5,"id":"c9d4c4f8-f91f-4464-ba42-af54ab9c6951","level":4,"r":30,"y":670,"x":320},{"name":"антимитотическим действием","label":"mechanism","weight":5,"id":"d609c7cc-068d-44c0-9b48-2969f12b52db","level":5,"r":30,"y":800,"x":1200},{"name":"снижать образование амилоидный фибрилл","label":"mechanism","weight":5,"id":"246b8803-3954-47c4-83e9-70039c487a42","level":3,"r":30,"y":540,"x":92.63157894736842},{"name":"препятствовать развитие амилоидоз","label":"action","weight":5,"id":"788f7eb7-ce70-4dbf-9dac-709d45ae3732","level":4,"r":30,"y":670,"x":400},{"name":"желудочно-кишечный тракт","label":"absorbtion","weight":5,"id":"478733f8-1fc0-43ab-bc58-1218cbf57e88","level":3,"r":30,"y":540,"x":172.63157894736844},{"name":"печень","label":"metabol","weight":5,"id":"aef95045-5f6b-4f23-b8e6-19df6688dd47","level":3,"r":30,"y":540,"x":252.63157894736844},{"name":"кишечник","label":"excretion","weight":5,"id":"cd3e9a5d-ec88-4cb3-a6ba-9a9fda7eb76d","level":3,"r":30,"y":540,"x":332.63157894736844},{"name":"почка","label":"excretion","weight":5,"id":"d010db55-96f7-4ca8-a5bf-498e5cff64d3","level":3,"r":30,"y":540,"x":412.63157894736844},{"name":"катаракта","label":"side_e","weight":5,"id":"be7dd729-d432-4286-956b-e077960fec7c","level":3,"r":30,"y":540,"x":492.63157894736844},{"name":"нарушения зрения","label":"side_e","weight":5,"id":"c7c4048a-4208-4b0f-9dd2-fb89e95df94f","level":3,"r":30,"y":540,"x":572.6315789473684},{"name":"реакция гиперчувствительность","label":"side_e","weight":5,"id":"6e38e8bb-b8d3-44c3-be3b-7c37a47f3854","level":3,"r":30,"y":540,"x":652.6315789473684},{"name":"фурункулез","label":"side_e","weight":5,"id":"0b488040-85fe-4769-a94e-e28ff9265c6a","level":3,"r":30,"y":540,"x":732.6315789473684},{"name":"агранулоцитоз","label":"side_e","weight":5,"id":"41a10cfa-4927-4cf2-b82b-466460fcfe8d","level":3,"r":30,"y":540,"x":812.6315789473684},{"name":"апластическая анемия","label":"side_e","weight":5,"id":"572ea6e3-2f69-4abc-b620-e8114082f716","level":3,"r":30,"y":540,"x":892.6315789473684},{"name":"тромбоцитопения","label":"side_e","weight":5,"id":"9ef3f80e-6774-4c33-8291-602cc01576ba","level":3,"r":30,"y":540,"x":972.6315789473684},{"name":"гранулоцитоз","label":"side_e","weight":5,"id":"418f2362-9a0e-447d-9319-a471ecf27cd6","level":3,"r":30,"y":540,"x":1052.6315789473683},{"name":"лейкоцитоз","label":"side_e","weight":5,"id":"2dcbd126-8ce0-4d9f-bcf9-ad3b2b21d526","level":3,"r":30,"y":540,"x":1132.6315789473683},{"name":"аплазия","label":"side_e","weight":5,"id":"1645d95d-5dd2-4342-8335-75db2aa53e13","level":3,"r":30,"y":540,"x":1212.6315789473683},{"name":"тяжелый реакция гиперчувствительность","label":"side_e","weight":5,"id":"8400e379-5b78-49e5-983e-4a212743b8a1","level":3,"r":30,"y":540,"x":1292.6315789473683},{"name":"кожный реакция с отслойка эпидермис","label":"side_e","weight":5,"id":"1de8a866-2a69-4df3-ae43-5e8ef540c374","level":3,"r":30,"y":540,"x":1372.6315789473683},{"name":"лихорадка","label":"side_e","weight":5,"id":"866427c7-1f17-439b-8a5e-034e62d9cf1e","level":3,"r":30,"y":540,"x":1452.6315789473683},{"name":"лимфаденопатия","label":"side_e","weight":5,"id":"ab918b34-3625-44fa-9670-1e657191d96c","level":3,"r":30,"y":540,"x":1532.6315789473683},{"name":"артралгия","label":"side_e","weight":5,"id":"e388f80c-7ea0-40be-9afb-fb62e1fdcb6d","level":3,"r":30,"y":540,"x":1612.6315789473683},{"name":"васкулит","label":"side_e","weight":5,"id":"c1a03201-b683-4f94-a557-0f4245380599","level":3,"r":30,"y":540,"x":1692.6315789473683},{"name":"гепатит","label":"side_e","weight":5,"id":"8100dde5-f113-4332-bf98-14c62128315f","level":3,"r":30,"y":540,"x":1772.6315789473683},{"name":"острый холангит","label":"side_e","weight":5,"id":"5901353d-d189-4a12-84ea-44a4c34c7283","level":3,"r":30,"y":540,"x":1852.6315789473683},{"name":"судороги","label":"side_e","weight":5,"id":"8c7fc633-33ff-4802-b35d-50df8ca40f4b","level":3,"r":30,"y":540,"x":1932.6315789473683},{"name":"анафилактический шок","label":"side_e","weight":5,"id":"04b169ac-e291-487b-9d48-97bd7cf911e7","level":3,"r":30,"y":540,"x":2012.6315789473683},{"name":"кожная сыпь","label":"side_e","weight":5,"id":"4ab05b9a-0b9c-4f7c-8439-695e2f329e66","level":3,"r":30,"y":540,"x":2092.6315789473683},{"name":"псевдолимфома","label":"side_e","weight":5,"id":"5dd283be-059d-49ac-8e61-231b45d8f1fe","level":3,"r":30,"y":540,"x":2172.6315789473683},{"name":"лейкопения","label":"side_e","weight":5,"id":"ed2f31a3-625a-494d-91bd-c8614b7d6731","level":3,"r":30,"y":540,"x":2252.6315789473683},{"name":"эозинофилия","label":"side_e","weight":5,"id":"86e1ed19-0947-4220-9a2f-3b3eb0fff687","level":3,"r":30,"y":540,"x":2332.6315789473683},{"name":"гепато-спленомегалия","label":"side_e","weight":5,"id":"73f2fe1e-0c08-431b-ac4c-60dad4cdfbc6","level":3,"r":30,"y":540,"x":2412.6315789473683},{"name":"синдром исчезающих желчных протоков","label":"side_e","weight":5,"id":"cd238bde-dcf0-4839-88ac-274901c07bba","level":3,"r":30,"y":540,"x":2492.6315789473683},{"name":"ангиоиммунобластная Т-клеточная лимфома","label":"side_e","weight":5,"id":"092671f5-3cd3-48b4-b8e0-be8d2ba2f69e","level":3,"r":30,"y":540,"x":2572.6315789473683},{"name":"сахарный диабет","label":"side_e","weight":5,"id":"69f2365e-8aeb-4722-9975-45da761cfbcb","level":3,"r":30,"y":540,"x":2652.6315789473683},{"name":"гиперлипидемия","label":"side_e","weight":5,"id":"8ad0afde-bf8c-40d5-93ee-9a240d07f771","level":3,"r":30,"y":540,"x":2732.6315789473683},{"name":"депрессия","label":"side_e","weight":5,"id":"9fc0bc6b-5fd9-4330-9a20-644c9fffe693","level":3,"r":30,"y":540,"x":2812.6315789473683},{"name":"кома","label":"side_e","weight":5,"id":"1988a560-04c7-4a56-8488-1aad5a3304d9","level":3,"r":30,"y":540,"x":2892.6315789473683},{"name":"паралич","label":"side_e","weight":5,"id":"539de786-70e1-4d4d-9558-281eb22f2558","level":3,"r":30,"y":540,"x":2972.6315789473683},{"name":"атаксия","label":"side_e","weight":5,"id":"42ee6d5f-a691-4dc9-a31d-709ad67954d7","level":3,"r":30,"y":540,"x":3052.6315789473683},{"name":"периферическая нейропатия","label":"side_e","weight":5,"id":"5be64a18-30ca-4799-8071-38c649e3d6a2","level":3,"r":30,"y":540,"x":3132.6315789473683},{"name":"парестезии","label":"side_e","weight":5,"id":"0857f440-1671-4da8-963a-8fa92bf28469","level":3,"r":30,"y":540,"x":3212.6315789473683},{"name":"сонливость","label":"side_e","weight":5,"id":"ff23090b-0270-4095-b5ce-f8e8658c67ce","level":3,"r":30,"y":540,"x":3292.6315789473683},{"name":"головная боль","label":"side_e","weight":5,"id":"8176293a-0109-4f18-8a23-d582bb0a7a3a","level":3,"r":30,"y":540,"x":3372.6315789473683},{"name":"дисгевзия","label":"side_e","weight":5,"id":"fdb14686-17c0-4790-8d14-7bcf7c95a340","level":3,"r":30,"y":540,"x":3452.6315789473683},{"name":"головокружение","label":"side_e","weight":5,"id":"787422dd-cc13-435c-9079-ef6ac9fd3156","level":3,"r":30,"y":540,"x":3532.6315789473683},{"name":"стенокардия","label":"side_e","weight":5,"id":"c367d549-653e-4a1b-8bbf-0701737b00d1","level":3,"r":30,"y":540,"x":3612.6315789473683},{"name":"брадикардия","label":"side_e","weight":5,"id":"beac3ff3-9b57-4ce5-8434-0a5392d3ff06","level":3,"r":30,"y":540,"x":3692.6315789473683},{"name":"повышение артериального давления","label":"side_e","weight":5,"id":"97af1cd7-6bf1-48dc-9278-925b5711a035","level":3,"r":30,"y":540,"x":3772.6315789473683},{"name":"рвота","label":"side_e","weight":5,"id":"acf2e505-6f7d-4c79-9056-143f22d47448","level":3,"r":30,"y":540,"x":3852.6315789473683},{"name":"тошнота","label":"side_e","weight":5,"id":"8bb02cfe-6a70-4772-b4f1-1fd032c7e16e","level":3,"r":30,"y":540,"x":3932.6315789473683},{"name":"кровавая рвота","label":"side_e","weight":5,"id":"059719e4-b063-4d89-8f63-00bae1d7922d","level":3,"r":30,"y":540,"x":4012.6315789473683},{"name":"стеаторея","label":"side_e","weight":5,"id":"d66da3b9-ee4b-4796-b0aa-26f4088a7668","level":3,"r":30,"y":540,"x":4092.6315789473683},{"name":"стоматит","label":"side_e","weight":5,"id":"0b06ecba-f603-4497-b3c5-531b6b758199","level":3,"r":30,"y":540,"x":4172.631578947368},{"name":"изменения частоты дефекации и характера стула","label":"side_e","weight":5,"id":"179e50a7-8845-46e8-ac0c-3963d032b3a0","level":3,"r":30,"y":540,"x":4252.631578947368},{"name":"боль в животе","label":"side_e","weight":5,"id":"daac7c0b-3f99-46b0-95a5-57ea0350ad94","level":3,"r":30,"y":540,"x":4332.631578947368},{"name":"бессимптомное увеличение концентрация печеночный фермент","label":"side_e","weight":5,"id":"1e146f01-75b9-41fe-9266-46a14dc95409","level":3,"r":30,"y":540,"x":4412.631578947368},{"name":"сыпь","label":"side_e","weight":5,"id":"fa3fafa6-3379-44c7-8637-04f11c67c083","level":3,"r":30,"y":540,"x":4492.631578947368},{"name":"синдром Стивенса-Джонсона","label":"side_e","weight":5,"id":"14d9ea23-4b4d-4121-a53a-bdf66c536112","level":3,"r":30,"y":540,"x":4572.631578947368},{"name":"токсический эпидермальный некролиз","label":"side_e","weight":5,"id":"3e00b247-ae9c-4eed-abad-c1e0b42bd923","level":3,"r":30,"y":540,"x":4652.631578947368},{"name":"ангионевротический отек","label":"side_e","weight":5,"id":"40ebc572-245b-4907-8772-0bb71ed57652","level":3,"r":30,"y":540,"x":4732.631578947368},{"name":"локальная медикаментозная сыпь","label":"side_e","weight":5,"id":"59b0e08a-786a-498d-9ddf-f8f543ce9dea","level":3,"r":30,"y":540,"x":4812.631578947368},{"name":"алопеция","label":"side_e","weight":5,"id":"b13c4ee9-1f36-440f-91bb-ad1baf2564d3","level":3,"r":30,"y":540,"x":4892.631578947368},{"name":"обесцвечивание волос","label":"side_e","weight":5,"id":"158fbd76-00b8-4698-9564-38fa8076127a","level":3,"r":30,"y":540,"x":4972.631578947368},{"name":"миалгия","label":"side_e","weight":5,"id":"095d1dfa-4439-4291-a9eb-fd5e3dbfcd8e","level":3,"r":30,"y":540,"x":5052.631578947368},{"name":"мочекаменная болезнь","label":"side_e","weight":5,"id":"5484277e-4b83-4e2d-aed0-955ab433bea1","level":3,"r":30,"y":540,"x":5132.631578947368},{"name":"гематурия","label":"side_e","weight":5,"id":"7e71fecc-4326-493d-b69c-f1e8821121de","level":3,"r":30,"y":540,"x":5212.631578947368},{"name":"азотемия","label":"side_e","weight":5,"id":"6133c422-0e1d-4955-ae91-d50d0e551fc0","level":3,"r":30,"y":540,"x":5292.631578947368},{"name":"мужское бесплодие","label":"side_e","weight":5,"id":"72cbec1a-2cc7-496d-8ecb-b6e8b36cc36e","level":3,"r":30,"y":540,"x":5372.631578947368},{"name":"эректильная дисфункция","label":"side_e","weight":5,"id":"aff2f5ae-d03e-4a1d-8668-b9339ced0c07","level":3,"r":30,"y":540,"x":5452.631578947368},{"name":"гинекомастия","label":"side_e","weight":5,"id":"894b7350-14f3-4f49-8761-d89449ca19c6","level":3,"r":30,"y":540,"x":5532.631578947368},{"name":"отек","label":"side_e","weight":5,"id":"3a3a0ea9-5a1c-4007-a984-06d9f588feab","level":3,"r":30,"y":540,"x":5612.631578947368},{"name":"общее недомогание","label":"side_e","weight":5,"id":"5f7bec5d-1442-4ec5-99a4-b1190d015756","level":3,"r":30,"y":540,"x":5692.631578947368},{"name":"астения","label":"side_e","weight":5,"id":"43960f57-2e53-42ca-a5c3-3acc53984f0c","level":3,"r":30,"y":540,"x":5772.631578947368},{"name":"повышение уровня тиреотропного гормона","label":"side_e","weight":5,"id":"0d0806b6-cf4c-4b4b-a500-5eb5a2904711","level":3,"r":30,"y":540,"x":5852.631578947368},{"name":"носовой кровотечение","label":"side_e","weight":5,"id":"a1b9a33d-6f87-4150-acc2-eecd20c1a4b0","level":3,"r":30,"y":540,"x":5932.631578947368},{"name":"заболевание костный мозг","label":"side_e","weight":5,"id":"c093f528-35ab-4641-b75e-2440253fe708","level":3,"r":30,"y":540,"x":6012.631578947368},{"name":"панцитопения","label":"side_e","weight":5,"id":"36299fe0-ed01-4c31-9b4f-830a527ce880","level":3,"r":30,"y":540,"x":6092.631578947368},{"name":"нейтропения","label":"side_e","weight":5,"id":"6f257346-24dc-4e17-8b6b-9d66dc6938cf","level":3,"r":30,"y":540,"x":6172.631578947368},{"name":"гепо-спленомегалия","label":"side_e","weight":5,"id":"86117658-8cd0-4d16-b239-19292225455a","level":3,"r":30,"y":540,"x":6252.631578947368},{"name":"периферический моторный нейропатия","label":"side_e","weight":5,"id":"0c81ee04-c7eb-427f-ae90-e38d1eb2004f","level":3,"r":30,"y":540,"x":6332.631578947368},{"name":"макулопатия","label":"side_e","weight":5,"id":"dc6650e5-2ff3-4007-ad53-b8853e064ec7","level":3,"r":30,"y":540,"x":6412.631578947368},{"name":"профузный диарея","label":"side_e","weight":5,"id":"4d2b12c0-02d5-4cd7-ba77-eb78d37cd611","level":3,"r":30,"y":540,"x":6492.631578947368},{"name":"желудочно-кишечный кровотечение","label":"side_e","weight":5,"id":"dbd057aa-24db-4660-89d0-005cf5662f6b","level":3,"r":30,"y":540,"x":6572.631578947368},{"name":"нарушение функция печень","label":"side_e","weight":5,"id":"911bb0df-929a-4dce-a0f0-39017aaa39d5","level":3,"r":30,"y":540,"x":6652.631578947368},{"name":"гипертрансаминаземия","label":"side_e","weight":5,"id":"5870cbdb-105a-416c-878b-bd2e8ce536ec","level":3,"r":30,"y":540,"x":6732.631578947368},{"name":"повреждение печень","label":"side_e","weight":5,"id":"1c885de8-9c67-425c-a62f-edfb88b44465","level":3,"r":30,"y":540,"x":6812.631578947368},{"name":"аллергический сыпь","label":"side_e","weight":5,"id":"9d2b29c1-95aa-482a-b04c-5a280c61d9a2","level":3,"r":30,"y":540,"x":6892.631578947368},{"name":"миотония","label":"side_e","weight":5,"id":"7647c085-45a6-4bcb-ac21-01e0e890e3e9","level":3,"r":30,"y":540,"x":6972.631578947368},{"name":"мышечный слабость","label":"side_e","weight":5,"id":"5dd14736-99d7-4fc2-a711-955c53eea59e","level":3,"r":30,"y":540,"x":7052.631578947368},{"name":"миопатия","label":"side_e","weight":5,"id":"aca69789-f3aa-45fe-9f0a-a860213187a0","level":3,"r":30,"y":540,"x":7132.631578947368},{"name":"боль в мышца","label":"side_e","weight":5,"id":"b5326025-7c77-4506-b446-f535162c12c0","level":3,"r":30,"y":540,"x":7212.631578947368},{"name":"острый некроз скелетных мышц","label":"side_e","weight":5,"id":"444906dd-0289-4c76-865a-aea0f695c29d","level":3,"r":30,"y":540,"x":7292.631578947368},{"name":"повреждение почка","label":"side_e","weight":5,"id":"2a68c0fb-2859-474b-b9af-abc32f03ee6f","level":3,"r":30,"y":540,"x":7372.631578947368},{"name":"азоспермия","label":"side_e","weight":5,"id":"28b89646-002e-43d6-9bbd-ac3328ba7d35","level":3,"r":30,"y":540,"x":7452.631578947368},{"name":"олигоспермия","label":"side_e","weight":5,"id":"5ba2d0c3-671a-48a4-99a6-34d9d852a64f","level":3,"r":30,"y":540,"x":7532.631578947368},{"name":"подавляет клеточное деление в стадии анафаза","label":"mechanism","weight":5,"id":"d617350a-ba2d-4fe0-b183-ee6df0c0f3cf","level":4,"r":30,"y":670,"x":480},{"name":"подавляет клеточное деление в стадии метафаза","label":"mechanism","weight":5,"id":"31895bfd-5841-40c9-87a3-6b280ea14dda","level":4,"r":30,"y":670,"x":560}],"links":[{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"be7dd729-d432-4286-956b-e077960fec7c"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"c7c4048a-4208-4b0f-9dd2-fb89e95df94f"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"6e38e8bb-b8d3-44c3-be3b-7c37a47f3854"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"0b488040-85fe-4769-a94e-e28ff9265c6a"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"41a10cfa-4927-4cf2-b82b-466460fcfe8d"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"572ea6e3-2f69-4abc-b620-e8114082f716"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"9ef3f80e-6774-4c33-8291-602cc01576ba"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"418f2362-9a0e-447d-9319-a471ecf27cd6"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"2dcbd126-8ce0-4d9f-bcf9-ad3b2b21d526"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"1645d95d-5dd2-4342-8335-75db2aa53e13"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"8400e379-5b78-49e5-983e-4a212743b8a1"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"1de8a866-2a69-4df3-ae43-5e8ef540c374"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"866427c7-1f17-439b-8a5e-034e62d9cf1e"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"ab918b34-3625-44fa-9670-1e657191d96c"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"e388f80c-7ea0-40be-9afb-fb62e1fdcb6d"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"c1a03201-b683-4f94-a557-0f4245380599"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"8100dde5-f113-4332-bf98-14c62128315f"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"5901353d-d189-4a12-84ea-44a4c34c7283"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"8c7fc633-33ff-4802-b35d-50df8ca40f4b"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"04b169ac-e291-487b-9d48-97bd7cf911e7"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"4ab05b9a-0b9c-4f7c-8439-695e2f329e66"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"5dd283be-059d-49ac-8e61-231b45d8f1fe"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"ed2f31a3-625a-494d-91bd-c8614b7d6731"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"86e1ed19-0947-4220-9a2f-3b3eb0fff687"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"73f2fe1e-0c08-431b-ac4c-60dad4cdfbc6"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"cd238bde-dcf0-4839-88ac-274901c07bba"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"092671f5-3cd3-48b4-b8e0-be8d2ba2f69e"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"69f2365e-8aeb-4722-9975-45da761cfbcb"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"8ad0afde-bf8c-40d5-93ee-9a240d07f771"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"9fc0bc6b-5fd9-4330-9a20-644c9fffe693"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"1988a560-04c7-4a56-8488-1aad5a3304d9"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"539de786-70e1-4d4d-9558-281eb22f2558"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"42ee6d5f-a691-4dc9-a31d-709ad67954d7"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"5be64a18-30ca-4799-8071-38c649e3d6a2"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"0857f440-1671-4da8-963a-8fa92bf28469"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"ff23090b-0270-4095-b5ce-f8e8658c67ce"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"8176293a-0109-4f18-8a23-d582bb0a7a3a"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"fdb14686-17c0-4790-8d14-7bcf7c95a340"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"787422dd-cc13-435c-9079-ef6ac9fd3156"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"c367d549-653e-4a1b-8bbf-0701737b00d1"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"beac3ff3-9b57-4ce5-8434-0a5392d3ff06"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"97af1cd7-6bf1-48dc-9278-925b5711a035"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"acf2e505-6f7d-4c79-9056-143f22d47448"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"8bb02cfe-6a70-4772-b4f1-1fd032c7e16e"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"059719e4-b063-4d89-8f63-00bae1d7922d"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"d66da3b9-ee4b-4796-b0aa-26f4088a7668"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"0b06ecba-f603-4497-b3c5-531b6b758199"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"179e50a7-8845-46e8-ac0c-3963d032b3a0"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"daac7c0b-3f99-46b0-95a5-57ea0350ad94"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"1e146f01-75b9-41fe-9266-46a14dc95409"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"fa3fafa6-3379-44c7-8637-04f11c67c083"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"14d9ea23-4b4d-4121-a53a-bdf66c536112"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"3e00b247-ae9c-4eed-abad-c1e0b42bd923"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"40ebc572-245b-4907-8772-0bb71ed57652"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"59b0e08a-786a-498d-9ddf-f8f543ce9dea"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"b13c4ee9-1f36-440f-91bb-ad1baf2564d3"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"158fbd76-00b8-4698-9564-38fa8076127a"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"095d1dfa-4439-4291-a9eb-fd5e3dbfcd8e"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"5484277e-4b83-4e2d-aed0-955ab433bea1"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"7e71fecc-4326-493d-b69c-f1e8821121de"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"6133c422-0e1d-4955-ae91-d50d0e551fc0"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"72cbec1a-2cc7-496d-8ecb-b6e8b36cc36e"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"aff2f5ae-d03e-4a1d-8668-b9339ced0c07"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"894b7350-14f3-4f49-8761-d89449ca19c6"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"3a3a0ea9-5a1c-4007-a984-06d9f588feab"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"5f7bec5d-1442-4ec5-99a4-b1190d015756"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"43960f57-2e53-42ca-a5c3-3acc53984f0c"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"0d0806b6-cf4c-4b4b-a500-5eb5a2904711"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"a1b9a33d-6f87-4150-acc2-eecd20c1a4b0"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"c093f528-35ab-4641-b75e-2440253fe708"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"36299fe0-ed01-4c31-9b4f-830a527ce880"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"6f257346-24dc-4e17-8b6b-9d66dc6938cf"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"86117658-8cd0-4d16-b239-19292225455a"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"0c81ee04-c7eb-427f-ae90-e38d1eb2004f"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"dc6650e5-2ff3-4007-ad53-b8853e064ec7"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"4d2b12c0-02d5-4cd7-ba77-eb78d37cd611"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"dbd057aa-24db-4660-89d0-005cf5662f6b"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"911bb0df-929a-4dce-a0f0-39017aaa39d5"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"5870cbdb-105a-416c-878b-bd2e8ce536ec"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"1c885de8-9c67-425c-a62f-edfb88b44465"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"9d2b29c1-95aa-482a-b04c-5a280c61d9a2"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"7647c085-45a6-4bcb-ac21-01e0e890e3e9"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"5dd14736-99d7-4fc2-a711-955c53eea59e"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"aca69789-f3aa-45fe-9f0a-a860213187a0"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"b5326025-7c77-4506-b446-f535162c12c0"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"444906dd-0289-4c76-865a-aea0f695c29d"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"2a68c0fb-2859-474b-b9af-abc32f03ee6f"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"28b89646-002e-43d6-9bbd-ac3328ba7d35"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"5ba2d0c3-671a-48a4-99a6-34d9d852a64f"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"84d64b1d-f183-44d9-bcde-71c891f6f977"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"246b8803-3954-47c4-83e9-70039c487a42"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"478733f8-1fc0-43ab-bc58-1218cbf57e88"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"aef95045-5f6b-4f23-b8e6-19df6688dd47"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"cd3e9a5d-ec88-4cb3-a6ba-9a9fda7eb76d"},{"source":"3d979748-8965-4b1c-bf06-1a9d16192959","target":"d010db55-96f7-4ca8-a5bf-498e5cff64d3"},{"source":"4efc02b4-42c0-4ba3-946b-9a1fa3977af0","target":"3d979748-8965-4b1c-bf06-1a9d16192959"},{"source":"cbd961b3-99a3-4c56-8b4d-7c5e049dacb5","target":"4efc02b4-42c0-4ba3-946b-9a1fa3977af0"},{"source":"84d64b1d-f183-44d9-bcde-71c891f6f977","target":"2cc1a199-7e95-4ac3-a849-d7a12cb0ca4f"},{"source":"84d64b1d-f183-44d9-bcde-71c891f6f977","target":"c9d4c4f8-f91f-4464-ba42-af54ab9c6951"},{"source":"84d64b1d-f183-44d9-bcde-71c891f6f977","target":"d617350a-ba2d-4fe0-b183-ee6df0c0f3cf"},{"source":"84d64b1d-f183-44d9-bcde-71c891f6f977","target":"31895bfd-5841-40c9-87a3-6b280ea14dda"},{"source":"246b8803-3954-47c4-83e9-70039c487a42","target":"788f7eb7-ce70-4dbf-9dac-709d45ae3732"},{"source":"d617350a-ba2d-4fe0-b183-ee6df0c0f3cf","target":"d609c7cc-068d-44c0-9b48-2969f12b52db"},{"source":"31895bfd-5841-40c9-87a3-6b280ea14dda","target":"d609c7cc-068d-44c0-9b48-2969f12b52db"}],"name":["3d979748-8965-4b1c-bf06-1a9d16192959"],"maxLevel":6,"levelsInfo":{"levelNodesCount":{"0":1,"1":1,"2":1,"3":95,"4":5,"5":1}},"isParse":true}
            const window_params = {"width":1200,"height":600,"xStep":50,"yStep":100}

            console.log(graphData)

            

            if (graphData){
                const svg = d3.select("svg")
                svg.selectAll("*").remove() // Очистка предыдущего графа

                svg.attr("width",   window_params.width) //Устанавливает атрибут width
                .attr("height",   window_params.height)
                .append("g").attr('class', 'group') //добавляет новый элемент, тег которого передается в метод в качестве параметра

                const svgGroup = svg.select('g.group')

                // Масштабирование и перемещение
                const zoom = d3.zoom()
                .scaleExtent([0.1, 10])
                .on("zoom", (event)=>{ //Обновление позиционирования элементов при масштабировании
                    svgGroup.attr("transform", event.transform);
                });
                svg.call(zoom);


                const dragstarted = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0.3).restart(); // Увеличиваем "температуру" симуляции для более плавного движения
                    d.fx = d.x; // Фиксируем позицию узла
                    d.fy = d.y;
                }
                
                const dragged = (event, d)=>{
                    d.fx = event.x; // Обновляем фиксированные координаты узла
                    d.fy = event.y;
                }
                
                const dragended = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0); // Охлаждаем симуляцию после перетаскивания
                    d.fx = null; // Отпускаем узел, позволяя симуляции снова влиять на его позицию
                    d.fy = null;
                }

                // Создаем обработчик drag
                const drag = d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);


                // Определение маркера стрелки
                svgGroup.append("defs")
                .append("marker")
                .attr("id", "arrowhead")
                .attr("markerWidth", 5) //Размер области, в которой будет отображаться маркер
                .attr("markerHeight", 4)
                .attr("refX", nodeView.r+4)
                .attr("refY", 2)
                .attr("orient", "auto")
                .append("polygon")
                .attr("points", "0 0, 5 2, 0 4")
                .style("fill", colors.link);

                
                //Добавление ссылок
                let links = svgGroup.append("g").attr('class', 'links')
                .selectAll('.link')
                .data(graphData.links) //Добавление данных
                .enter() //Нужен для ввода дополнительных значений (так как data привязывает только первое)
                .append('path')
                .attr('class', 'link')
                .attr('stroke', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return colors.selectLink
                    return colors.link
                }) // Цвет линии ребра
                .attr('stroke-width', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return 2
                    return 1
                }) // Ширина линии ребра
                .attr("marker-end", "url(#arrowhead)") // Добавление стрелки в конец ребра
                .style('pointer-events', 'none') //(устанавливает стиль) Отключение событий на ребрах (клики и т.д.)

                // Создание узлов
                let nodes = svgGroup.append("g").attr('class', 'nodes')
                .selectAll('.node')
                .data(graphData.nodes)
                .enter()
                .append('g')
                .attr('class', 'node')
                .call(drag);

                nodes.append('circle')
                .attr('class', 'node')
                .attr('id', d => d.id)
                .attr('r', d => d.r) // Радиус узла
                .attr('fill', d=>{
                    //if(selectedNodes.sourseNode === d.id || selectedNodes.targetNode === d.id) return colors.selectNode
                    return colors.node
                }) // Цвет заполнения
                .attr("cursor", "pointer")
                .on('click', (event, d) => {
                    // Добавьте логику для обработки клика по узлу
                });

                //Отображение текста v2
                nodes.append('foreignObject')
                .attr('x', d => -d.r * 0.8)
                .attr('y', d => -d.r * 0.8)
                .attr('width', d => d.r * 1.6)
                .attr('height', d => d.r * 1.6)
                .append('xhtml:div')
                .style('display', 'flex')
                .style('justify-content', 'center')
                .style('align-items', 'center')
                .style('width', '100%')
                .style('height', '100%')
                .style('font-size', '5px')
                .style('text-anchor', 'middle')
                .style('word-wrap', 'break-word')
                .style('overflow', 'hidden')
                .style('pointer-events', 'none')
                .text(d => d.name);

                //Создание симуляции силы v3
                const simulation = d3.forceSimulation(graphData.nodes)
                // Связи между узлами
                .force("link", d3.forceLink(graphData.links).id(d => d.id))//.distance(nodeView.r*10)) //!!! Сила в зависимости от количества узлов в уровне!!!!!
                // Отталкивание узлов
                .force("charge", d3.forceManyBody(graphData.nodes).strength(d=>graphData.levelsInfo.levelNodesCount[d.level]*(-100)))//-3000))
                // Центрирование по x
                .force("center", d3.forceCenter( window_params.width / 2,  window_params.height / 2))
                // Выравнивание по уровням
                .force("y", d3.forceY().strength(6)
                    .y(d =>  window_params.height * ((d.level+1) / (graphData.maxLevel-1)))) //!!!!!!!!!!Уровень с большим числом узлов шире, чем с меньшим
                // Отталкивание по x в рамках одного уровня
                .force("x", d3.forceX().strength(0.05)
                    .x( window_params.width / 2))
                // Дополнительная сила для предотвращения наложения узлов
                .force("collision", d3.forceCollide().radius(40));

                // Обновление позиций узлов и связей при каждой итерации симуляции
                //Обновление симуляции
                simulation.on('tick', () => {
                    links.attr("d", d => `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`);
                    nodes.attr('transform', d => `translate(${d.x}, ${d.y})`); // Правильная позиция для групп
                });
            }
        </script>
    </body>
</html>