<!DOCTYPE html>
<html>
    <head>
        <title>4049891b-1675-473c-9e04-28ad66c671af</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/index.css">
        <style>
            .Graphcontainer{
                width: 98%;
                height: 85vh;

                border: solid 0.5px black;
                border-radius: 7px;
            }

            .svgGraph{
                width: 100%;
                height: 100%;
            }   
        </style>
        <script src="./d3.v7.js"></script>
    </head>
    <body>
        <main>
            <div class="flex jc-center">
                <h1>4049891b-1675-473c-9e04-28ad66c671af</h1>
            </div>
            <br/>
            <div class='Graphcontainer' >
                <svg class='svgGraph'> </svg>
            </div>
        </main>

        <script>
            const colors = {
                selectNode: "#E8BD6D",
                selectLink: "#8B7474",
                node: "#E9EEF4",
                link: '#B8B5B5'
            }

            const nodeView = {
                r: 30
            }

            const graphData = {"directed":true,"multigraph":false,"graph":{},"nodes":[{"name":"фуросемид","label":"prepare","weight":5,"id":"4049891b-1675-473c-9e04-28ad66c671af","level":2,"r":30,"y":387.27272727272725,"x":1200},{"name":"ототоксический действие","label":"side_e","weight":5,"id":"d527b76c-5e83-4a81-be51-b8a2ce36e782","level":3,"r":30,"y":517.2727272727273,"x":15},{"name":"агранулоцитоз","label":"side_e","weight":5,"id":"fa11a971-678e-45ff-8489-5526c995b52a","level":3,"r":30,"y":517.2727272727273,"x":95},{"name":"апластический анемия","label":"side_e","weight":5,"id":"966e0f67-7ace-4212-9daa-d6f2d69ab7b1","level":3,"r":30,"y":517.2727272727273,"x":175},{"name":"гемолитический анемия","label":"side_e","weight":5,"id":"7b1dbc1f-a52d-4673-99de-a9eef6c9d2fe","level":3,"r":30,"y":517.2727272727273,"x":255},{"name":"тяжёлый анафилактический","label":"side_e","weight":5,"id":"2b5203b6-6881-46af-bcda-7a1606bc09fc","level":3,"r":30,"y":517.2727272727273,"x":335},{"name":"анафилактоидный реакция","label":"side_e","weight":5,"id":"08a279a4-4263-40d2-9ce2-ecdc81f7ea4e","level":3,"r":30,"y":517.2727272727273,"x":415},{"name":"анафилактический шок","label":"side_e","weight":5,"id":"061f7ff8-e5d1-40bf-b8c2-782526806e78","level":3,"r":30,"y":517.2727272727273,"x":495},{"name":"обострение системный красный волчанка","label":"side_e","weight":5,"id":"c5f87632-4765-44fa-b65e-7c195bf96aea","level":3,"r":30,"y":517.2727272727273,"x":575},{"name":"развитие нарушение водный-электролитный баланс","label":"side_e","weight":5,"id":"a4693cc6-3d9c-4092-a6db-b30345f6224c","level":3,"r":30,"y":517.2727272727273,"x":655},{"name":"тромбоз","label":"side_e","weight":5,"id":"41f63ef1-abde-49d0-98af-fae804e0999f","level":3,"r":30,"y":517.2727272727273,"x":735},{"name":"повышение концентрация креатинин в кровь","label":"side_e","weight":5,"id":"fa111189-5530-4819-92fd-1fbc2583edcf","level":3,"r":30,"y":517.2727272727273,"x":815},{"name":"повышение концентрация триглицерид в сыворотка кровь","label":"side_e","weight":5,"id":"28aa3243-d22d-4408-90c5-77fc3319eed9","level":3,"r":30,"y":517.2727272727273,"x":895},{"name":"гипонатриемия","label":"side_e","weight":5,"id":"65b0b964-cb52-4815-8ba8-27495d97ea7b","level":3,"r":30,"y":517.2727272727273,"x":975},{"name":"повышение концентрация холестерин в кровь","label":"side_e","weight":5,"id":"0e5fb6be-0294-4803-af99-6291bdf0d22c","level":3,"r":30,"y":517.2727272727273,"x":1055},{"name":"увеличение концентрация мочевой кислота в кровь","label":"side_e","weight":5,"id":"979d6bcb-6370-4382-8b67-339e97481692","level":7,"r":30,"y":1037.2727272727273,"x":150},{"name":"развитие","label":"side_e","weight":5,"id":"5691123e-359f-4780-bd98-f874f16b322d","level":3,"r":30,"y":517.2727272727273,"x":1135},{"name":"снижение толерантность к глюкоза","label":"side_e","weight":5,"id":"2f2e8c00-4d2a-4e56-8ba8-dcbd7d6385b1","level":3,"r":30,"y":517.2727272727273,"x":1215},{"name":"псевдосиндром барттер","label":"side_e","weight":5,"id":"538fdd82-548b-48e3-a787-d77157245223","level":3,"r":30,"y":517.2727272727273,"x":1295},{"name":"печёночный энцефалопатия","label":"side_e","weight":5,"id":"733bdb6c-ffc5-457a-b3ed-2e87f4add142","level":3,"r":30,"y":517.2727272727273,"x":1375},{"name":"синкопальный состояние","label":"side_e","weight":5,"id":"c3c2d809-4274-4b41-bec1-ecdeedf10c56","level":3,"r":30,"y":517.2727272727273,"x":1455},{"name":"нарушение слух","label":"side_e","weight":5,"id":"a200ab39-7a16-4b63-84bf-8f300670c39a","level":3,"r":30,"y":517.2727272727273,"x":1535},{"name":"гипопротеинемия","label":"side_e","weight":5,"id":"4ef28b13-724b-489c-8c0a-540e8bdf77c7","level":3,"r":30,"y":517.2727272727273,"x":1615},{"name":"глухота","label":"side_e","weight":5,"id":"5e5819b5-4c5d-48bc-9b47-abdf63267c31","level":3,"r":30,"y":517.2727272727273,"x":1695},{"name":"шум в ухо","label":"side_e","weight":5,"id":"c8f26319-15cc-414c-8caf-518b9e3e8fbd","level":3,"r":30,"y":517.2727272727273,"x":1775},{"name":"васкулит","label":"side_e","weight":5,"id":"de67a637-a737-458d-8444-de7b325e0b94","level":3,"r":30,"y":517.2727272727273,"x":1855},{"name":"рвота","label":"side_e","weight":5,"id":"9f6d2f24-a985-4873-90f4-708ae622474f","level":3,"r":30,"y":517.2727272727273,"x":1935},{"name":"диарея","label":"side_e","weight":5,"id":"d43a8330-dcf3-47ab-90f1-c3103e574702","level":3,"r":30,"y":517.2727272727273,"x":2015},{"name":"острый панкреатит","label":"side_e","weight":5,"id":"b0f7a72d-94c6-44ff-8491-489dca0314f9","level":3,"r":30,"y":517.2727272727273,"x":2095},{"name":"холестаз","label":"side_e","weight":5,"id":"e6094e80-5e5d-4b27-bda3-4b343d0c4d8d","level":3,"r":30,"y":517.2727272727273,"x":2175},{"name":"увеличение активность «печёночный» трансаминаза","label":"side_e","weight":5,"id":"c569345a-54e9-4785-90f2-8789580c3f88","level":3,"r":30,"y":517.2727272727273,"x":2255},{"name":"кожный зуд","label":"side_e","weight":5,"id":"1852498d-fb3a-4d2e-b411-8c62445746c7","level":3,"r":30,"y":517.2727272727273,"x":2335},{"name":"крапивница","label":"side_e","weight":5,"id":"0aea5e29-3dbc-4efa-9414-9e1f5c501b01","level":3,"r":30,"y":517.2727272727273,"x":2415},{"name":"сыпь","label":"side_e","weight":5,"id":"8acd6ba2-fe99-45de-80ec-05cbcc41e3fb","level":3,"r":30,"y":517.2727272727273,"x":2495},{"name":"буллезный дерматит","label":"side_e","weight":5,"id":"cdd0d0e9-e6b3-4986-a9ef-defed25c19e2","level":3,"r":30,"y":517.2727272727273,"x":2575},{"name":"многоформный эритема","label":"side_e","weight":5,"id":"b889226c-33b5-43f7-ac79-425233aad367","level":3,"r":30,"y":517.2727272727273,"x":2655},{"name":"пемфигоид","label":"side_e","weight":5,"id":"12de7b0a-c758-40d6-87a3-16dc29cc1fec","level":3,"r":30,"y":517.2727272727273,"x":2735},{"name":"эксфолиативный дерматит","label":"side_e","weight":5,"id":"197c0787-b0de-4051-8ece-f8ab62de8aa5","level":3,"r":30,"y":517.2727272727273,"x":2815},{"name":"пурпур","label":"side_e","weight":5,"id":"3357c70c-6e5d-4c96-9a17-8b77b8e55044","level":3,"r":30,"y":517.2727272727273,"x":2895},{"name":"реакция фотосенсибилизация","label":"side_e","weight":5,"id":"b9470c25-c44d-433b-b1eb-6e6bd8c71457","level":3,"r":30,"y":517.2727272727273,"x":2975},{"name":"синдром стивенс-джонсон","label":"side_e","weight":5,"id":"e76b5f7c-9a67-4c01-99f7-c534eb3b91aa","level":3,"r":30,"y":517.2727272727273,"x":3055},{"name":"токсический эпидермальный некролиз","label":"side_e","weight":5,"id":"1a833f85-5014-443f-a14a-5945a6674162","level":3,"r":30,"y":517.2727272727273,"x":3135},{"name":"острый генерализовать экзантематозный пустулезть","label":"side_e","weight":5,"id":"4701e3f6-8efd-487e-8efa-87c7fbfc3bae","level":3,"r":30,"y":517.2727272727273,"x":3215},{"name":"dress-синдром","label":"side_e","weight":5,"id":"1cd345bb-2ee1-4e5c-9fdd-ab4e50055645","level":3,"r":30,"y":517.2727272727273,"x":3295},{"name":"лекарственный сыпь с эозинофилия","label":"side_e","weight":5,"id":"cd358360-7774-42bd-8050-3c032474e1c7","level":3,"r":30,"y":517.2727272727273,"x":3375},{"name":"системный симптом","label":"side_e","weight":5,"id":"3576abdd-ab15-40b0-8543-c4f48f137389","level":3,"r":30,"y":517.2727272727273,"x":3455},{"name":"лихеноидный реакция","label":"side_e","weight":5,"id":"7c7cfafa-e69e-4d74-b092-2de5c62b21ea","level":3,"r":30,"y":517.2727272727273,"x":3535},{"name":"рабдомиолиз","label":"side_e","weight":5,"id":"2507ab34-673f-4d85-b8cb-f89885c4ddda","level":3,"r":30,"y":517.2727272727273,"x":3615},{"name":"тубулоинтерстициальный нефрит","label":"side_e","weight":5,"id":"4ec20ae7-035b-462c-9a54-17ff76c8a855","level":3,"r":30,"y":517.2727272727273,"x":3695},{"name":"увеличение содержание натрий и хлорид в моча","label":"side_e","weight":5,"id":"0d3df0ca-f5c1-40c0-8c9a-dbc8f9be413e","level":3,"r":30,"y":517.2727272727273,"x":3775},{"name":"задержка моча","label":"side_e","weight":5,"id":"ff813d0a-8569-4f17-93b6-31aa895b99a6","level":3,"r":30,"y":517.2727272727273,"x":3855},{"name":"нефрокальциноз/нефролитиаз","label":"side_e","weight":5,"id":"da5db1e5-b86d-4f3b-a811-0b151f6596f0","level":3,"r":30,"y":517.2727272727273,"x":3935},{"name":"почечный недостаточность","label":"side_e","weight":5,"id":"78845c17-4682-4c4d-a0eb-ac053e03a9d2","level":3,"r":30,"y":517.2727272727273,"x":4015},{"name":"лихорадка","label":"side_e","weight":5,"id":"381008f5-78d0-4465-aa93-4592a4f91ae0","level":3,"r":30,"y":517.2727272727273,"x":4095},{"name":"местный реакция в вид боль","label":"side_e","weight":5,"id":"dfbaf24b-ad4e-4aee-b118-465796ff7c47","level":3,"r":30,"y":517.2727272727273,"x":4175},{"name":"изменение картина периферический кровь","label":"side_e","weight":5,"id":"bd7234e4-483a-43bc-b465-b2ffe834db5d","level":3,"r":30,"y":517.2727272727273,"x":4255},{"name":"тяжёлый кожный аллергический реакция","label":"side_e","weight":5,"id":"a326f476-2b4c-43b4-8319-7e636e4d3e12","level":3,"r":30,"y":517.2727272727273,"x":4335},{"name":"гиперемия кожный","label":"side_e","weight":5,"id":"6a017382-11a6-48bf-ae17-ad3bcc11fd06","level":3,"r":30,"y":517.2727272727273,"x":4415},{"name":"обильный потоотделение","label":"side_e","weight":5,"id":"088fc3fc-1d03-440a-8a1d-d93a025d4751","level":3,"r":30,"y":517.2727272727273,"x":4495},{"name":"беспокойство","label":"side_e","weight":5,"id":"d6d4b48c-1443-475e-b5bd-effe833ada16","level":3,"r":30,"y":517.2727272727273,"x":4575},{"name":"повышение артериальный","label":"side_e","weight":5,"id":"8b8685db-e3fa-467f-873a-f92a6dbd03c5","level":3,"r":30,"y":517.2727272727273,"x":4655},{"name":"необратимый нарушение с сторона орган слух","label":"side_e","weight":5,"id":"3f3e86a0-097a-4dd7-b991-a4175921bbae","level":3,"r":30,"y":517.2727272727273,"x":4735},{"name":"нефротоксический действие","label":"side_e","weight":5,"id":"0121e23d-294b-401f-a6c6-21a1e7c5831d","level":3,"r":30,"y":517.2727272727273,"x":4815},{"name":"чрезмерный снижение артериальный давление","label":"side_e","weight":5,"id":"8305b97c-eb73-4edc-87e0-691d8be2c4cd","level":3,"r":30,"y":517.2727272727273,"x":4895},{"name":"ухудшение функция почка","label":"side_e","weight":5,"id":"ccabebe9-2ef3-47bf-8479-3e8a540b0c92","level":3,"r":30,"y":517.2727272727273,"x":4975},{"name":"острый почечный недостаточность","label":"side_e","weight":5,"id":"7a41cc64-d3f0-46e1-9d03-c62d320cd3b5","level":3,"r":30,"y":517.2727272727273,"x":5055},{"name":"токсический действие","label":"side_e","weight":5,"id":"82720845-c805-4c97-96cf-3b17c741733b","level":3,"r":30,"y":517.2727272727273,"x":5135},{"name":"повреждать воздействие на сердце и нервный система","label":"side_e","weight":5,"id":"7b07b751-d19d-4526-b4f5-08a72320139d","level":3,"r":30,"y":517.2727272727273,"x":5215},{"name":"нефротоксический","label":"side_e","weight":5,"id":"9f597eae-f39b-407a-addd-95c8352909eb","level":3,"r":30,"y":517.2727272727273,"x":5295},{"name":"подагрический артрит","label":"side_e","weight":5,"id":"2c4d34fe-fd4c-4984-8302-6b7d892f9424","level":3,"r":30,"y":517.2727272727273,"x":5375},{"name":"гиперурикемия","label":"side_e","weight":5,"id":"d0a1b0a7-bc6a-447b-a2b6-83bc494c3e24","level":3,"r":30,"y":517.2727272727273,"x":5455},{"name":"нарушение экскреция урат почка","label":"side_e","weight":5,"id":"64146fc3-f421-434f-b40f-904d0a6bfefa","level":3,"r":30,"y":517.2727272727273,"x":5535},{"name":"диуретический средство","label":"group","weight":5,"id":"adedb919-e137-4ac4-b4e7-41dd2b44a5f4","level":0,"r":30,"y":127.27272727272728,"x":1200},{"name":"производный сульфонамид","label":"group","weight":5,"id":"2084427e-f364-4e28-b7e9-9cd5ab52d4b1","level":1,"r":30,"y":257.27272727272725,"x":1200},{"name":"угнетение реабсорбция","label":"mechanism","weight":5,"id":"1ea322d6-2416-4981-9f95-fb53e97cca77","level":4,"r":30,"y":647.2727272727273,"x":400},{"name":"увеличение выведение натрий","label":"action","weight":5,"id":"06855dff-f890-4517-98d8-b411bf26f32e","level":5,"r":30,"y":777.2727272727273,"x":1200},{"name":"увеличение количество выделять моча","label":"action","weight":5,"id":"c3218da6-1e71-4da8-9750-856ff9d428d1","level":6,"r":30,"y":907.2727272727273,"x":400},{"name":"увеличение секреция калий в дистальный часть почечный каналец","label":"action","weight":5,"id":"11406561-97b2-43cd-bc96-aae38ef1969a","level":6,"r":30,"y":907.2727272727273,"x":480},{"name":"дозозависимый стимуляция ренин ангиотензин альдостороновый система","label":"mechanism","weight":5,"id":"e3061e94-e59a-4400-b2ee-058e13a9f3f6","level":3,"r":30,"y":517.2727272727273,"x":5615},{"name":"снижение реакция гладкий мускулатура сосуд на вазоконстрикторный воздействие","label":"mechanism","weight":5,"id":"81ffa6a2-9bcb-4615-9bb4-906becc4b4b7","level":9,"r":30,"y":1297.2727272727273,"x":400},{"name":"натрийуретический эффект","label":"mechanism","weight":5,"id":"eebc467a-4f6f-4cf1-b49d-f5b292da9bde","level":10,"r":30,"y":1427.2727272727273,"x":600},{"name":"уменьшение объём циркулировать кровь","label":"mechanism","weight":5,"id":"038c3c31-2b42-483b-a7f4-dbe7192a3731","level":7,"r":30,"y":1037.2727272727273,"x":230},{"name":"гипотензивный действие","label":"action","weight":5,"id":"a391b106-2f3d-4a4f-9a6d-ca541a4db6e4","level":8,"r":30,"y":1167.2727272727273,"x":63.1578947368421},{"name":"снижать реакция сосуд на катехоламин","label":"mechanism","weight":5,"id":"ce23fd7b-aafa-4613-a201-01fbd661337c","level":6,"r":30,"y":907.2727272727273,"x":560},{"name":"нарушение функция почка","label":"side_e","weight":5,"id":"95f525fc-97ad-4a6e-a20a-4ec95dcfbfb1","level":4,"r":30,"y":647.2727272727273,"x":480},{"name":"почка","label":"excretion","weight":5,"id":"207ba8bc-b2de-407c-8951-df8a3b29eb47","level":3,"r":30,"y":517.2727272727273,"x":5695},{"name":"кишечник","label":"excretion","weight":5,"id":"8a6b77b2-b81e-4f64-9635-b13f627eb391","level":3,"r":30,"y":517.2727272727273,"x":5775},{"name":"гемоконцентрация","label":"side_e","weight":5,"id":"54a84ccb-034c-462d-967e-baba65b2c34e","level":8,"r":30,"y":1167.2727272727273,"x":143.1578947368421},{"name":"тромбоцитопения","label":"side_e","weight":5,"id":"5cd1a714-fef3-4752-8b12-21ba43368a0b","level":8,"r":30,"y":1167.2727272727273,"x":223.1578947368421},{"name":"лейкопения","label":"side_e","weight":5,"id":"6ef7d80d-b54e-41eb-96e6-1445d05eb629","level":8,"r":30,"y":1167.2727272727273,"x":303.1578947368421},{"name":"эозинофилия","label":"side_e","weight":5,"id":"e579e28d-0a8e-487d-ab7d-192cb08ba7ae","level":8,"r":30,"y":1167.2727272727273,"x":383.1578947368421},{"name":"нарушение водный-электролитный баланс","label":"side_e","weight":5,"id":"90071350-a0f6-48c7-aa60-88770bcb901e","level":7,"r":30,"y":1037.2727272727273,"x":310},{"name":"гипомагниемия","label":"side_e","weight":5,"id":"c8d5424c-b92b-431b-8879-9189b1580619","level":8,"r":30,"y":1167.2727272727273,"x":463.1578947368421},{"name":"головной боль","label":"side_e","weight":5,"id":"4f6e3d6d-3d1d-4a01-95fd-43ce68ad64f7","level":8,"r":30,"y":1167.2727272727273,"x":543.1578947368421},{"name":"головокружение","label":"side_e","weight":5,"id":"357fc011-b507-4ef8-b7cc-b4393b257dc5","level":8,"r":30,"y":1167.2727272727273,"x":623.1578947368421},{"name":"судорога","label":"side_e","weight":5,"id":"5e0b71ab-9044-4723-8cb5-00ce4454614d","level":8,"r":30,"y":1167.2727272727273,"x":703.1578947368421},{"name":"тетания","label":"side_e","weight":5,"id":"a0881fa8-ce62-47f9-9726-d282b174e582","level":8,"r":30,"y":1167.2727272727273,"x":783.1578947368421},{"name":"мышечный слабость","label":"side_e","weight":5,"id":"91856c20-174e-4990-9074-96802a786e9d","level":8,"r":30,"y":1167.2727272727273,"x":863.1578947368421},{"name":"нарушение сердечный ритм","label":"side_e","weight":5,"id":"43767918-6690-4f8b-88f5-9bece2affde2","level":8,"r":30,"y":1167.2727272727273,"x":943.1578947368421},{"name":"диспепсический расстройство","label":"side_e","weight":5,"id":"b344e0ea-f65b-41c6-87c9-62c68c71450d","level":3,"r":30,"y":517.2727272727273,"x":5855},{"name":"гипохлоремия","label":"side_e","weight":5,"id":"ef6d6c5a-980b-4eea-b3ee-302433338324","level":8,"r":30,"y":1167.2727272727273,"x":1023.1578947368421},{"name":"дегидратация","label":"side_e","weight":5,"id":"977ebd4d-60fa-4057-9321-481fc1e2ab40","level":7,"r":30,"y":1037.2727272727273,"x":390},{"name":"гиповолемия","label":"side_e","weight":5,"id":"ca5c60b2-30c4-471a-9f31-2ad3f6639444","level":8,"r":30,"y":1167.2727272727273,"x":1103.157894736842},{"name":"гипокалиемия","label":"side_e","weight":5,"id":"725955d2-e7e4-44b9-9cad-1a38b6cd481d","level":8,"r":30,"y":1167.2727272727273,"x":1183.157894736842},{"name":"приступ подагра","label":"side_e","weight":5,"id":"356c482d-04f4-48ee-ae67-c3c3409301e9","level":8,"r":30,"y":1167.2727272727273,"x":1263.157894736842},{"name":"снижение функция почка","label":"action","weight":5,"id":"7a08c4ee-03ce-4d51-98cc-45a071cf650f","level":4,"r":30,"y":647.2727272727273,"x":560},{"name":"гипокальциемия","label":"side_e","weight":5,"id":"feecfe43-556e-448c-99c5-294392b59cce","level":8,"r":30,"y":1167.2727272727273,"x":1343.157894736842},{"name":"повышение концентрация мочевина в кровь","label":"side_e","weight":5,"id":"9763da1c-7ca1-484d-b204-290640cd4ab4","level":7,"r":30,"y":1037.2727272727273,"x":470},{"name":"метаболический алкалоз","label":"side_e","weight":5,"id":"5fb01dcf-50dc-4d90-a299-36b1d7df92c4","level":3,"r":30,"y":517.2727272727273,"x":5935},{"name":"парестезия","label":"side_e","weight":5,"id":"3b2fc316-9a1a-4645-a516-8ea491d30be1","level":3,"r":30,"y":517.2727272727273,"x":6015},{"name":"потеря сознание","label":"side_e","weight":5,"id":"34176ac2-4f09-42db-8f38-b57674b7e90e","level":8,"r":30,"y":1167.2727272727273,"x":1423.157894736842},{"name":"снижение артериальный давление","label":"side_e","weight":5,"id":"483243df-8e33-4d98-a906-32e96c0b7f2e","level":9,"r":30,"y":1297.2727272727273,"x":480},{"name":"ортостатический гипотензия","label":"side_e","weight":5,"id":"823193c0-aaf9-4082-b78f-681601b76a76","level":9,"r":30,"y":1297.2727272727273,"x":560},{"name":"тахикардия","label":"side_e","weight":5,"id":"16b1464c-3b50-4985-8ffe-5acea0a8aa3b","level":10,"r":30,"y":1427.2727272727273,"x":680},{"name":"тошнота","label":"side_e","weight":5,"id":"b08dd5b4-2d3e-4ea8-92b1-0ba6fad453e5","level":8,"r":30,"y":1167.2727272727273,"x":1503.157894736842},{"name":"увеличение объём моча","label":"side_e","weight":5,"id":"733b6c1d-92ae-4af5-b0cd-0b5ce6cf8caa","level":7,"r":30,"y":1037.2727272727273,"x":550},{"name":"увеличиваться выведение ион кальций","label":"action","weight":5,"id":"2860d5ac-f346-4c32-9ec5-e43cf1765bcc","level":7,"r":30,"y":1037.2727272727273,"x":630},{"name":"увеличиваться выведение ион магний","label":"action","weight":5,"id":"60d69378-8f89-4881-8f9e-551d887b846b","level":7,"r":30,"y":1037.2727272727273,"x":710},{"name":"связываться с белками альбумины","label":"mechanism","weight":5,"id":"87bf6716-f2f6-43b4-ae38-64960e8e6260","level":3,"r":30,"y":517.2727272727273,"x":6095},{"name":"блокировать система транспорт ион в толстой сегмент восходить колено петля генль сl-","label":"mechanism","weight":5,"id":"14bb09c5-be47-4885-b7bd-e2ac172f5db0","level":3,"r":30,"y":517.2727272727273,"x":6175},{"name":"блокировать система транспорт ион в толстой сегмент восходить колено петля генль k+","label":"mechanism","weight":5,"id":"43ea1fca-0aac-4cec-90a5-ea5e9b952d6b","level":3,"r":30,"y":517.2727272727273,"x":6255},{"name":"блокировать система транспорт ион в толстой сегмент восходить колено петля генль na+","label":"mechanism","weight":5,"id":"2f524dc8-fc9b-4ad6-8c8f-9e2d3c8f55c1","level":3,"r":30,"y":517.2727272727273,"x":6335}],"links":[{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"d527b76c-5e83-4a81-be51-b8a2ce36e782"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"fa11a971-678e-45ff-8489-5526c995b52a"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"966e0f67-7ace-4212-9daa-d6f2d69ab7b1"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"7b1dbc1f-a52d-4673-99de-a9eef6c9d2fe"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"2b5203b6-6881-46af-bcda-7a1606bc09fc"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"08a279a4-4263-40d2-9ce2-ecdc81f7ea4e"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"061f7ff8-e5d1-40bf-b8c2-782526806e78"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"c5f87632-4765-44fa-b65e-7c195bf96aea"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"a4693cc6-3d9c-4092-a6db-b30345f6224c"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"41f63ef1-abde-49d0-98af-fae804e0999f"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"fa111189-5530-4819-92fd-1fbc2583edcf"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"28aa3243-d22d-4408-90c5-77fc3319eed9"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"65b0b964-cb52-4815-8ba8-27495d97ea7b"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"0e5fb6be-0294-4803-af99-6291bdf0d22c"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"5691123e-359f-4780-bd98-f874f16b322d"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"2f2e8c00-4d2a-4e56-8ba8-dcbd7d6385b1"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"538fdd82-548b-48e3-a787-d77157245223"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"733bdb6c-ffc5-457a-b3ed-2e87f4add142"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"c3c2d809-4274-4b41-bec1-ecdeedf10c56"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"a200ab39-7a16-4b63-84bf-8f300670c39a"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"4ef28b13-724b-489c-8c0a-540e8bdf77c7"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"5e5819b5-4c5d-48bc-9b47-abdf63267c31"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"c8f26319-15cc-414c-8caf-518b9e3e8fbd"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"de67a637-a737-458d-8444-de7b325e0b94"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"9f6d2f24-a985-4873-90f4-708ae622474f"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"d43a8330-dcf3-47ab-90f1-c3103e574702"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"b0f7a72d-94c6-44ff-8491-489dca0314f9"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"e6094e80-5e5d-4b27-bda3-4b343d0c4d8d"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"c569345a-54e9-4785-90f2-8789580c3f88"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"1852498d-fb3a-4d2e-b411-8c62445746c7"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"0aea5e29-3dbc-4efa-9414-9e1f5c501b01"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"8acd6ba2-fe99-45de-80ec-05cbcc41e3fb"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"cdd0d0e9-e6b3-4986-a9ef-defed25c19e2"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"b889226c-33b5-43f7-ac79-425233aad367"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"12de7b0a-c758-40d6-87a3-16dc29cc1fec"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"197c0787-b0de-4051-8ece-f8ab62de8aa5"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"3357c70c-6e5d-4c96-9a17-8b77b8e55044"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"b9470c25-c44d-433b-b1eb-6e6bd8c71457"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"e76b5f7c-9a67-4c01-99f7-c534eb3b91aa"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"1a833f85-5014-443f-a14a-5945a6674162"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"4701e3f6-8efd-487e-8efa-87c7fbfc3bae"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"1cd345bb-2ee1-4e5c-9fdd-ab4e50055645"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"cd358360-7774-42bd-8050-3c032474e1c7"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"3576abdd-ab15-40b0-8543-c4f48f137389"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"7c7cfafa-e69e-4d74-b092-2de5c62b21ea"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"2507ab34-673f-4d85-b8cb-f89885c4ddda"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"4ec20ae7-035b-462c-9a54-17ff76c8a855"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"0d3df0ca-f5c1-40c0-8c9a-dbc8f9be413e"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"ff813d0a-8569-4f17-93b6-31aa895b99a6"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"da5db1e5-b86d-4f3b-a811-0b151f6596f0"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"78845c17-4682-4c4d-a0eb-ac053e03a9d2"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"381008f5-78d0-4465-aa93-4592a4f91ae0"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"dfbaf24b-ad4e-4aee-b118-465796ff7c47"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"bd7234e4-483a-43bc-b465-b2ffe834db5d"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"a326f476-2b4c-43b4-8319-7e636e4d3e12"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"6a017382-11a6-48bf-ae17-ad3bcc11fd06"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"088fc3fc-1d03-440a-8a1d-d93a025d4751"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"d6d4b48c-1443-475e-b5bd-effe833ada16"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"8b8685db-e3fa-467f-873a-f92a6dbd03c5"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"3f3e86a0-097a-4dd7-b991-a4175921bbae"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"0121e23d-294b-401f-a6c6-21a1e7c5831d"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"8305b97c-eb73-4edc-87e0-691d8be2c4cd"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"ccabebe9-2ef3-47bf-8479-3e8a540b0c92"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"7a41cc64-d3f0-46e1-9d03-c62d320cd3b5"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"82720845-c805-4c97-96cf-3b17c741733b"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"7b07b751-d19d-4526-b4f5-08a72320139d"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"9f597eae-f39b-407a-addd-95c8352909eb"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"2c4d34fe-fd4c-4984-8302-6b7d892f9424"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"d0a1b0a7-bc6a-447b-a2b6-83bc494c3e24"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"64146fc3-f421-434f-b40f-904d0a6bfefa"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"b344e0ea-f65b-41c6-87c9-62c68c71450d"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"5fb01dcf-50dc-4d90-a299-36b1d7df92c4"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"3b2fc316-9a1a-4645-a516-8ea491d30be1"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"e3061e94-e59a-4400-b2ee-058e13a9f3f6"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"207ba8bc-b2de-407c-8951-df8a3b29eb47"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"8a6b77b2-b81e-4f64-9635-b13f627eb391"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"87bf6716-f2f6-43b4-ae38-64960e8e6260"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"14bb09c5-be47-4885-b7bd-e2ac172f5db0"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"43ea1fca-0aac-4cec-90a5-ea5e9b952d6b"},{"source":"4049891b-1675-473c-9e04-28ad66c671af","target":"2f524dc8-fc9b-4ad6-8c8f-9e2d3c8f55c1"},{"source":"979d6bcb-6370-4382-8b67-339e97481692","target":"356c482d-04f4-48ee-ae67-c3c3409301e9"},{"source":"adedb919-e137-4ac4-b4e7-41dd2b44a5f4","target":"2084427e-f364-4e28-b7e9-9cd5ab52d4b1"},{"source":"2084427e-f364-4e28-b7e9-9cd5ab52d4b1","target":"4049891b-1675-473c-9e04-28ad66c671af"},{"source":"1ea322d6-2416-4981-9f95-fb53e97cca77","target":"06855dff-f890-4517-98d8-b411bf26f32e"},{"source":"06855dff-f890-4517-98d8-b411bf26f32e","target":"c3218da6-1e71-4da8-9750-856ff9d428d1"},{"source":"06855dff-f890-4517-98d8-b411bf26f32e","target":"11406561-97b2-43cd-bc96-aae38ef1969a"},{"source":"06855dff-f890-4517-98d8-b411bf26f32e","target":"ce23fd7b-aafa-4613-a201-01fbd661337c"},{"source":"c3218da6-1e71-4da8-9750-856ff9d428d1","target":"038c3c31-2b42-483b-a7f4-dbe7192a3731"},{"source":"c3218da6-1e71-4da8-9750-856ff9d428d1","target":"90071350-a0f6-48c7-aa60-88770bcb901e"},{"source":"c3218da6-1e71-4da8-9750-856ff9d428d1","target":"977ebd4d-60fa-4057-9321-481fc1e2ab40"},{"source":"c3218da6-1e71-4da8-9750-856ff9d428d1","target":"9763da1c-7ca1-484d-b204-290640cd4ab4"},{"source":"c3218da6-1e71-4da8-9750-856ff9d428d1","target":"979d6bcb-6370-4382-8b67-339e97481692"},{"source":"c3218da6-1e71-4da8-9750-856ff9d428d1","target":"733b6c1d-92ae-4af5-b0cd-0b5ce6cf8caa"},{"source":"11406561-97b2-43cd-bc96-aae38ef1969a","target":"2860d5ac-f346-4c32-9ec5-e43cf1765bcc"},{"source":"11406561-97b2-43cd-bc96-aae38ef1969a","target":"60d69378-8f89-4881-8f9e-551d887b846b"},{"source":"81ffa6a2-9bcb-4615-9bb4-906becc4b4b7","target":"eebc467a-4f6f-4cf1-b49d-f5b292da9bde"},{"source":"038c3c31-2b42-483b-a7f4-dbe7192a3731","target":"a391b106-2f3d-4a4f-9a6d-ca541a4db6e4"},{"source":"038c3c31-2b42-483b-a7f4-dbe7192a3731","target":"54a84ccb-034c-462d-967e-baba65b2c34e"},{"source":"038c3c31-2b42-483b-a7f4-dbe7192a3731","target":"5cd1a714-fef3-4752-8b12-21ba43368a0b"},{"source":"038c3c31-2b42-483b-a7f4-dbe7192a3731","target":"6ef7d80d-b54e-41eb-96e6-1445d05eb629"},{"source":"038c3c31-2b42-483b-a7f4-dbe7192a3731","target":"e579e28d-0a8e-487d-ab7d-192cb08ba7ae"},{"source":"038c3c31-2b42-483b-a7f4-dbe7192a3731","target":"ca5c60b2-30c4-471a-9f31-2ad3f6639444"},{"source":"a391b106-2f3d-4a4f-9a6d-ca541a4db6e4","target":"81ffa6a2-9bcb-4615-9bb4-906becc4b4b7"},{"source":"a391b106-2f3d-4a4f-9a6d-ca541a4db6e4","target":"483243df-8e33-4d98-a906-32e96c0b7f2e"},{"source":"a391b106-2f3d-4a4f-9a6d-ca541a4db6e4","target":"823193c0-aaf9-4082-b78f-681601b76a76"},{"source":"207ba8bc-b2de-407c-8951-df8a3b29eb47","target":"95f525fc-97ad-4a6e-a20a-4ec95dcfbfb1"},{"source":"207ba8bc-b2de-407c-8951-df8a3b29eb47","target":"7a08c4ee-03ce-4d51-98cc-45a071cf650f"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"c8d5424c-b92b-431b-8879-9189b1580619"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"357fc011-b507-4ef8-b7cc-b4393b257dc5"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"4f6e3d6d-3d1d-4a01-95fd-43ce68ad64f7"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"5e0b71ab-9044-4723-8cb5-00ce4454614d"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"91856c20-174e-4990-9074-96802a786e9d"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"a0881fa8-ce62-47f9-9726-d282b174e582"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"43767918-6690-4f8b-88f5-9bece2affde2"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"ef6d6c5a-980b-4eea-b3ee-302433338324"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"725955d2-e7e4-44b9-9cad-1a38b6cd481d"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"feecfe43-556e-448c-99c5-294392b59cce"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"34176ac2-4f09-42db-8f38-b57674b7e90e"},{"source":"90071350-a0f6-48c7-aa60-88770bcb901e","target":"b08dd5b4-2d3e-4ea8-92b1-0ba6fad453e5"},{"source":"483243df-8e33-4d98-a906-32e96c0b7f2e","target":"16b1464c-3b50-4985-8ffe-5acea0a8aa3b"},{"source":"14bb09c5-be47-4885-b7bd-e2ac172f5db0","target":"1ea322d6-2416-4981-9f95-fb53e97cca77"},{"source":"2f524dc8-fc9b-4ad6-8c8f-9e2d3c8f55c1","target":"1ea322d6-2416-4981-9f95-fb53e97cca77"}],"name":["4049891b-1675-473c-9e04-28ad66c671af"],"maxLevel":11,"levelsInfo":{"levelNodesCount":{"0":1,"1":1,"2":1,"3":80,"4":3,"5":1,"6":3,"7":8,"8":19,"9":3,"10":2}},"isParse":true}
            const window_params = {"width":1200,"height":600,"xStep":50,"yStep":100}

            console.log(graphData)

            

            if (graphData){
                const svg = d3.select("svg")
                svg.selectAll("*").remove() // Очистка предыдущего графа

                svg.attr("width",   window_params.width) //Устанавливает атрибут width
                .attr("height",   window_params.height)
                .append("g").attr('class', 'group') //добавляет новый элемент, тег которого передается в метод в качестве параметра

                const svgGroup = svg.select('g.group')

                // Масштабирование и перемещение
                const zoom = d3.zoom()
                .scaleExtent([0.1, 10])
                .on("zoom", (event)=>{ //Обновление позиционирования элементов при масштабировании
                    svgGroup.attr("transform", event.transform);
                });
                svg.call(zoom);


                const dragstarted = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0.3).restart(); // Увеличиваем "температуру" симуляции для более плавного движения
                    d.fx = d.x; // Фиксируем позицию узла
                    d.fy = d.y;
                }
                
                const dragged = (event, d)=>{
                    d.fx = event.x; // Обновляем фиксированные координаты узла
                    d.fy = event.y;
                }
                
                const dragended = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0); // Охлаждаем симуляцию после перетаскивания
                    d.fx = null; // Отпускаем узел, позволяя симуляции снова влиять на его позицию
                    d.fy = null;
                }

                // Создаем обработчик drag
                const drag = d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);


                // Определение маркера стрелки
                svgGroup.append("defs")
                .append("marker")
                .attr("id", "arrowhead")
                .attr("markerWidth", 5) //Размер области, в которой будет отображаться маркер
                .attr("markerHeight", 4)
                .attr("refX", nodeView.r+4)
                .attr("refY", 2)
                .attr("orient", "auto")
                .append("polygon")
                .attr("points", "0 0, 5 2, 0 4")
                .style("fill", colors.link);

                
                //Добавление ссылок
                let links = svgGroup.append("g").attr('class', 'links')
                .selectAll('.link')
                .data(graphData.links) //Добавление данных
                .enter() //Нужен для ввода дополнительных значений (так как data привязывает только первое)
                .append('path')
                .attr('class', 'link')
                .attr('stroke', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return colors.selectLink
                    return colors.link
                }) // Цвет линии ребра
                .attr('stroke-width', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return 2
                    return 1
                }) // Ширина линии ребра
                .attr("marker-end", "url(#arrowhead)") // Добавление стрелки в конец ребра
                .style('pointer-events', 'none') //(устанавливает стиль) Отключение событий на ребрах (клики и т.д.)

                // Создание узлов
                let nodes = svgGroup.append("g").attr('class', 'nodes')
                .selectAll('.node')
                .data(graphData.nodes)
                .enter()
                .append('g')
                .attr('class', 'node')
                .call(drag);

                nodes.append('circle')
                .attr('class', 'node')
                .attr('id', d => d.id)
                .attr('r', d => d.r) // Радиус узла
                .attr('fill', d=>{
                    //if(selectedNodes.sourseNode === d.id || selectedNodes.targetNode === d.id) return colors.selectNode
                    return colors.node
                }) // Цвет заполнения
                .attr("cursor", "pointer")
                .on('click', (event, d) => {
                    // Добавьте логику для обработки клика по узлу
                });

                //Отображение текста v2
                nodes.append('foreignObject')
                .attr('x', d => -d.r * 0.8)
                .attr('y', d => -d.r * 0.8)
                .attr('width', d => d.r * 1.6)
                .attr('height', d => d.r * 1.6)
                .append('xhtml:div')
                .style('display', 'flex')
                .style('justify-content', 'center')
                .style('align-items', 'center')
                .style('width', '100%')
                .style('height', '100%')
                .style('font-size', '5px')
                .style('text-anchor', 'middle')
                .style('word-wrap', 'break-word')
                .style('overflow', 'hidden')
                .style('pointer-events', 'none')
                .text(d => d.name);

                //Создание симуляции силы v3
                const simulation = d3.forceSimulation(graphData.nodes)
                // Связи между узлами
                .force("link", d3.forceLink(graphData.links).id(d => d.id))//.distance(nodeView.r*10)) //!!! Сила в зависимости от количества узлов в уровне!!!!!
                // Отталкивание узлов
                .force("charge", d3.forceManyBody(graphData.nodes).strength(d=>graphData.levelsInfo.levelNodesCount[d.level]*(-100)))//-3000))
                // Центрирование по x
                .force("center", d3.forceCenter( window_params.width / 2,  window_params.height / 2))
                // Выравнивание по уровням
                .force("y", d3.forceY().strength(6)
                    .y(d =>  window_params.height * ((d.level+1) / (graphData.maxLevel-1)))) //!!!!!!!!!!Уровень с большим числом узлов шире, чем с меньшим
                // Отталкивание по x в рамках одного уровня
                .force("x", d3.forceX().strength(0.05)
                    .x( window_params.width / 2))
                // Дополнительная сила для предотвращения наложения узлов
                .force("collision", d3.forceCollide().radius(40));

                // Обновление позиций узлов и связей при каждой итерации симуляции
                //Обновление симуляции
                simulation.on('tick', () => {
                    links.attr("d", d => `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`);
                    nodes.attr('transform', d => `translate(${d.x}, ${d.y})`); // Правильная позиция для групп
                });
            }
        </script>
    </body>
</html>