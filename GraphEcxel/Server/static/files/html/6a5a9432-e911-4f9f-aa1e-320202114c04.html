<!DOCTYPE html>
<html>
    <head>
        <title>7e85ff03-9cc9-448f-b9d8-b42d6bad51d2</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/index.css">
        <style>
            .Graphcontainer{
                width: 98%;
                height: 85vh;

                border: solid 0.5px black;
                border-radius: 7px;
            }

            .svgGraph{
                width: 100%;
                height: 100%;
            }   
        </style>
        <script src="./d3.v7.js"></script>
    </head>
    <body>
        <main>
            <div class="flex jc-center">
                <h1>7e85ff03-9cc9-448f-b9d8-b42d6bad51d2</h1>
            </div>
            <br/>
            <div class='Graphcontainer' >
                <svg class='svgGraph'> </svg>
            </div>
        </main>

        <script>
            const colors = {
                selectNode: "#E8BD6D",
                selectLink: "#8B7474",
                node: "#E9EEF4",
                link: '#B8B5B5'
            }

            const nodeView = {
                r: 30
            }

            const graphData = {"directed":true,"multigraph":false,"graph":{},"nodes":[{"name":"средства для лечения заболеваний сердца","label":"group","weight":5,"id":"bc8c09d7-6140-4010-894f-5ccd1dc9f85c","level":0,"r":30,"y":127.27272727272728,"x":1200},{"name":"эпинефрин","label":"prepare","weight":5,"id":"7e85ff03-9cc9-448f-b9d8-b42d6bad51d2","level":3,"r":30,"y":517.2727272727273,"x":1200},{"name":"кардиотонические средства, кроме сердечных гликозидов","label":"group","weight":5,"id":"892ff6ac-81c6-4555-8323-c7fdb85690f7","level":1,"r":30,"y":257.27272727272725,"x":1200},{"name":"адренергические и дофаминергические средства","label":"group","weight":5,"id":"7d9bdd89-cd14-4f13-a9de-f43fc6ce575e","level":2,"r":30,"y":387.27272727272725,"x":1200},{"name":"симпатомиметик","label":"mechanism","weight":5,"id":"b080f8b9-7140-4e1a-9f0c-dd97c93426be","level":4,"r":30,"y":647.2727272727273,"x":240},{"name":"активация рецепторзависимый аденилатциклаза","label":"mechanism","weight":5,"id":"1e63cd0b-b773-4962-b302-1d5ec9ef8296","level":5,"r":30,"y":777.2727272727273,"x":200},{"name":"расширение сосуды скелетный мускулатура","label":"action","weight":5,"id":"b080a18c-75b1-48e8-939b-478cf322c5d8","level":7,"r":30,"y":1037.2727272727273,"x":34.285714285714285},{"name":"снижать артериальный давление","label":"action","weight":5,"id":"dc12eb1c-2927-41e8-8488-dac77351ece5","level":9,"r":30,"y":1297.2727272727273,"x":171.42857142857142},{"name":"снижать общее периферическое сосудистое сопротивление","label":"action","weight":5,"id":"1f7dbd7a-a3f9-44bb-8fac-04a7d7252e41","level":8,"r":30,"y":1167.2727272727273,"x":80},{"name":"сужать сосуд","label":"action","weight":5,"id":"7cfd38a8-770d-48c9-88ad-86f5b798498f","level":7,"r":30,"y":1037.2727272727273,"x":114.28571428571428},{"name":"повышать артериальный давление","label":"action","weight":5,"id":"df1009b4-d598-4ec5-aded-bab6e0a4bc9a","level":9,"r":30,"y":1297.2727272727273,"x":251.42857142857142},{"name":"повышать общее периферическое сосудистое сопротивление","label":"action","weight":5,"id":"d4d732e7-f52d-410c-be4e-4f68335a4e0b","level":8,"r":30,"y":1167.2727272727273,"x":160},{"name":"расслаблять гладкий мышца бронх","label":"action","weight":5,"id":"e671cd02-32b2-40eb-aa60-fce81010423e","level":7,"r":30,"y":1037.2727272727273,"x":194.28571428571428},{"name":"расширять зрачок","label":"action","weight":5,"id":"3c1619f1-00f9-4d1c-b775-d6a66bb8b8e0","level":7,"r":30,"y":1037.2727272727273,"x":274.2857142857143},{"name":"гипергликемия","label":"side_e","weight":5,"id":"26e0a456-1c43-44ec-91a5-be24eb205690","level":8,"r":30,"y":1167.2727272727273,"x":240},{"name":"увеличивать потребность миокард в кислород","label":"action","weight":5,"id":"236945e1-d034-411b-b6ac-4d8d23d75cf6","level":8,"r":30,"y":1167.2727272727273,"x":320},{"name":"устранять спазм бронхиол","label":"action","weight":5,"id":"c27de470-cf31-4df1-b7da-9213957f6904","level":8,"r":30,"y":1167.2727272727273,"x":400},{"name":"предотвращать развитие отек их слизистый оболочка","label":"action","weight":5,"id":"96ec969d-5538-4cff-a6f0-1fdabffe364a","level":9,"r":30,"y":1297.2727272727273,"x":331.42857142857144},{"name":"усиление выведение ион калий","label":"action","weight":5,"id":"10736b83-2c93-4e0a-abe4-76039bd32ecb","level":7,"r":30,"y":1037.2727272727273,"x":354.2857142857143},{"name":"гипокалиемия","label":"side_e","weight":5,"id":"21cc8264-d3d7-47f6-b5ed-209c06b65303","level":8,"r":30,"y":1167.2727272727273,"x":480},{"name":"уменьшать кровенаполнение пещеристый тело","label":"action","weight":5,"id":"ca9d8175-a944-4a07-a0da-b42f4c0a01e1","level":7,"r":30,"y":1037.2727272727273,"x":434.2857142857143},{"name":"парентерально","label":"absorbtion","weight":5,"id":"de4f9a15-a9a6-4d36-8614-7eedeb9a98c4","level":4,"r":30,"y":647.2727272727273,"x":320},{"name":"внутримышечный","label":"absorbtion","weight":5,"id":"bca29b73-8cc4-4f19-946c-acc37de78a14","level":5,"r":30,"y":777.2727272727273,"x":280},{"name":"подкожный","label":"absorbtion","weight":5,"id":"72396edc-4b1d-4810-b913-4f700e2adbd3","level":5,"r":30,"y":777.2727272727273,"x":360},{"name":"эндотрахеальный","label":"absorbtion","weight":5,"id":"73c31520-6553-4167-ac7b-7d1c5d3c7ac4","level":5,"r":30,"y":777.2727272727273,"x":440},{"name":"конъюнктивальный","label":"absorbtion","weight":5,"id":"d52b02bb-b7d5-4453-b755-aaacf5f5a741","level":5,"r":30,"y":777.2727272727273,"x":520},{"name":"печень","label":"metabol","weight":5,"id":"5d3d3db6-e893-4079-bff8-adf5fca413ab","level":4,"r":30,"y":647.2727272727273,"x":400},{"name":"окончание симпатический нерв","label":"metabol","weight":5,"id":"fea24ece-6cac-454b-8ea9-d6e28ed52e53","level":5,"r":30,"y":777.2727272727273,"x":600},{"name":"почка","label":"excretion","weight":5,"id":"2803a9b9-7a51-447c-b5c6-858f7f7a5494","level":4,"r":30,"y":647.2727272727273,"x":480},{"name":"тревожное состояние","label":"side_e","weight":5,"id":"ddfe1933-88bb-4be8-b501-a812b761c566","level":7,"r":30,"y":1037.2727272727273,"x":514.2857142857142},{"name":"нервозность","label":"side_e","weight":5,"id":"8ad2b66c-d312-4c27-8823-e287f231e56c","level":7,"r":30,"y":1037.2727272727273,"x":594.2857142857142},{"name":"расстройство личность","label":"side_e","weight":5,"id":"9dfb8efb-2025-42ed-bacd-814e474bc4c9","level":7,"r":30,"y":1037.2727272727273,"x":674.2857142857142},{"name":"психомоторный возбуждение","label":"side_e","weight":5,"id":"0e4d7f4f-c803-438a-a08b-b2d13e3f7836","level":8,"r":30,"y":1167.2727272727273,"x":560},{"name":"дезориентация","label":"side_e","weight":5,"id":"25fdfef0-4098-4fd7-8a0c-12c1cd57b3ed","level":8,"r":30,"y":1167.2727272727273,"x":640},{"name":"нарушение памяти","label":"side_e","weight":5,"id":"92cc78fc-b03d-4f7c-a1b3-2f283cfba17c","level":8,"r":30,"y":1167.2727272727273,"x":720},{"name":"психотический расстройство","label":"side_e","weight":5,"id":"db4ea1f1-fbec-405f-8000-b865df271db0","level":8,"r":30,"y":1167.2727272727273,"x":800},{"name":"шизофреноподобный расстройство","label":"side_e","weight":5,"id":"d19f59c3-d20b-470a-b552-ed073336801d","level":9,"r":30,"y":1297.2727272727273,"x":411.42857142857144},{"name":"паранойя","label":"side_e","weight":5,"id":"edfece9c-67c1-4352-8ac7-e5ce44b01a67","level":9,"r":30,"y":1297.2727272727273,"x":491.42857142857144},{"name":"тремор","label":"side_e","weight":5,"id":"1b51d247-5860-475f-9a88-afa174e3814d","level":7,"r":30,"y":1037.2727272727273,"x":754.2857142857142},{"name":"тик","label":"side_e","weight":5,"id":"0c18e1a9-fae9-472b-8356-f1b5fc26fc5c","level":7,"r":30,"y":1037.2727272727273,"x":834.2857142857142},{"name":"головокружение","label":"side_e","weight":5,"id":"398301f0-0186-4d06-9481-2df4cecb1213","level":7,"r":30,"y":1037.2727272727273,"x":914.2857142857142},{"name":"усталость","label":"side_e","weight":5,"id":"a3267842-cc3f-4e61-939f-9ea56458d000","level":7,"r":30,"y":1037.2727272727273,"x":994.2857142857142},{"name":"нарушение сон","label":"side_e","weight":5,"id":"1aabf708-3c04-412e-abb3-8f57ea5e60b6","level":7,"r":30,"y":1037.2727272727273,"x":1074.2857142857142},{"name":"мышечный подергивание","label":"side_e","weight":5,"id":"d47c3472-bad8-4c7f-82ed-83dfc30945df","level":7,"r":30,"y":1037.2727272727273,"x":1154.2857142857142},{"name":"головная боль","label":"side_e","weight":5,"id":"fbc1aabd-72c3-4533-a20d-3d0fc7c7b132","level":10,"r":30,"y":1427.2727272727273,"x":400},{"name":"стенокардия","label":"side_e","weight":5,"id":"78c60f02-e38d-4921-be35-95775fa3841d","level":7,"r":30,"y":1037.2727272727273,"x":1234.2857142857142},{"name":"брадикардия","label":"side_e","weight":5,"id":"8890d07a-2df6-4b82-94ce-f6ebee0f57d0","level":8,"r":30,"y":1167.2727272727273,"x":880},{"name":"тахикардия","label":"side_e","weight":5,"id":"6c7e5dad-7055-4a93-ab47-43232ee636c4","level":8,"r":30,"y":1167.2727272727273,"x":960},{"name":"ощущение сердцебиение","label":"side_e","weight":5,"id":"4b01fedb-75f7-42be-b300-baf5321f4015","level":7,"r":30,"y":1037.2727272727273,"x":1314.2857142857142},{"name":"желудочковый аритмия","label":"side_e","weight":5,"id":"3612b66f-8f8f-4177-9447-0463e5ce4994","level":8,"r":30,"y":1167.2727272727273,"x":1040},{"name":"фибрилляция желудочек","label":"side_e","weight":5,"id":"fa598570-e59a-4b57-b21b-59f95948bd53","level":8,"r":30,"y":1167.2727272727273,"x":1120},{"name":"аритмия","label":"side_e","weight":5,"id":"f8e13746-88fe-42c1-8db6-6a0a74a0d37f","level":8,"r":30,"y":1167.2727272727273,"x":1200},{"name":"боль в грудной клетка","label":"side_e","weight":5,"id":"d45b80b4-c4d5-407f-a573-ab70701f4ef2","level":7,"r":30,"y":1037.2727272727273,"x":1394.2857142857142},{"name":"повышение артериальное давления","label":"side_e","weight":5,"id":"d2be30ca-4687-42a3-b9d1-6df5dcbb2628","level":10,"r":30,"y":1427.2727272727273,"x":480},{"name":"понижение артериального давления","label":"side_e","weight":5,"id":"31b4fc87-31ec-4d4e-8ddf-95ad7b9d069c","level":10,"r":30,"y":1427.2727272727273,"x":560},{"name":"затрудненное и болезненное мочеиспускание","label":"side_e","weight":5,"id":"faf3b9f6-6c50-418e-9f5e-86a4dae89176","level":4,"r":30,"y":647.2727272727273,"x":560},{"name":"увеличивать ударный объем кровь","label":"action","weight":5,"id":"32601f10-04ee-4dbf-bb45-edfe95fbde3a","level":7,"r":30,"y":1037.2727272727273,"x":1474.2857142857142},{"name":"увеличивать минутный объем кровь","label":"action","weight":5,"id":"d4f81af4-75f5-40ba-ad0a-f89fff7efe9e","level":7,"r":30,"y":1037.2727272727273,"x":1554.2857142857142},{"name":"снижать почечный кровоток","label":"action","weight":5,"id":"f95a264b-dbf0-4e42-9901-ee0e56637b86","level":7,"r":30,"y":1037.2727272727273,"x":1634.2857142857142},{"name":"снижать кровоснабжение внутренний орган","label":"action","weight":5,"id":"e7b47983-06f8-4326-8c6d-21ccebe5b92e","level":7,"r":30,"y":1037.2727272727273,"x":1714.2857142857142},{"name":"снижать продукция внутриглазный жидкость","label":"action","weight":5,"id":"bda6ff96-b356-49f2-bae5-2ef80747dbf6","level":7,"r":30,"y":1037.2727272727273,"x":1794.2857142857142},{"name":"снижать внутриглазный давление","label":"action","weight":5,"id":"3420dbaf-a0d4-4178-9c7b-45c0a9f6eb4a","level":7,"r":30,"y":1037.2727272727273,"x":1874.2857142857142},{"name":"усиливает гликогенолиз","label":"action","weight":5,"id":"2351e331-777a-403d-9975-1dc5c5b8fa3c","level":7,"r":30,"y":1037.2727272727273,"x":1954.2857142857142},{"name":"усиливает глюконеогенез","label":"action","weight":5,"id":"2631139f-21be-47cb-8e22-5a1eaae0d392","level":7,"r":30,"y":1037.2727272727273,"x":2034.2857142857142},{"name":"ингибировать индуцированное антигенами высвобождение гистамина","label":"action","weight":5,"id":"b33cfcf1-afde-4640-9bd7-a3f0f3631270","level":7,"r":30,"y":1037.2727272727273,"x":2114.285714285714},{"name":"ингибировать индуцированное антигенами высвобождение лейкотриенов","label":"action","weight":5,"id":"eec71da5-9100-46f9-a1d0-bc71a9ca1886","level":7,"r":30,"y":1037.2727272727273,"x":2194.285714285714},{"name":"поведение агрессивный","label":"side_e","weight":5,"id":"713de5de-ccb2-4ed5-a8ad-705aef9ca7f0","level":9,"r":30,"y":1297.2727272727273,"x":571.4285714285714},{"name":"поведение панический","label":"side_e","weight":5,"id":"0d8369d9-f95e-400b-9754-d3fa8c5e83cb","level":9,"r":30,"y":1297.2727272727273,"x":651.4285714285714},{"name":"повышение внутриклеточный концентрация циклический аденозинмонофосфат адренорецептор α","label":"mechanism","weight":5,"id":"4099b965-2950-4ba5-907f-49e0eda12f00","level":6,"r":30,"y":907.2727272727273,"x":300},{"name":"повышение внутриклеточный концентрация циклический аденозинмонофосфат адренорецептор β","label":"mechanism","weight":5,"id":"72704034-453b-43bc-a606-e771c2127d32","level":6,"r":30,"y":907.2727272727273,"x":380},{"name":"повышение внутриклеточный концентрация ион кальций адренорецептор α","label":"mechanism","weight":5,"id":"4c2bb25b-adec-4526-862d-be8576dee5f3","level":6,"r":30,"y":907.2727272727273,"x":460},{"name":"повышение внутриклеточный концентрация ион кальций адренорецептор β","label":"mechanism","weight":5,"id":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","level":6,"r":30,"y":907.2727272727273,"x":540},{"name":"увеличивать сердечный сокращение частота","label":"action","weight":5,"id":"d2adaa54-2979-4b28-9d30-707dc7ece735","level":7,"r":30,"y":1037.2727272727273,"x":2274.285714285714},{"name":"увеличивать сердечный сокращение сила","label":"action","weight":5,"id":"8d3ad7a3-c674-4e82-b3d9-8d1456632aef","level":7,"r":30,"y":1037.2727272727273,"x":2354.285714285714},{"name":"снижать желудочно-кишечный тракт тонус","label":"action","weight":5,"id":"4904c571-dd42-494e-aedf-9b08e633eba8","level":7,"r":30,"y":1037.2727272727273,"x":2434.285714285714},{"name":"снижать желудочно-кишечный тракт моторика","label":"action","weight":5,"id":"b9f023d5-5528-4c20-8215-3cc4efb6e220","level":7,"r":30,"y":1037.2727272727273,"x":2514.285714285714},{"name":"повышать проводимость миокард","label":"action","weight":5,"id":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe","level":7,"r":30,"y":1037.2727272727273,"x":2594.285714285714},{"name":"повышать автоматизм миокард","label":"action","weight":5,"id":"210c3991-2322-433a-91f1-db7e456e1406","level":7,"r":30,"y":1037.2727272727273,"x":2674.285714285714},{"name":"повышать возбудимость миокард","label":"action","weight":5,"id":"5260ea15-a52d-4af4-9d53-056c5290de77","level":7,"r":30,"y":1037.2727272727273,"x":2754.285714285714}],"links":[{"source":"bc8c09d7-6140-4010-894f-5ccd1dc9f85c","target":"892ff6ac-81c6-4555-8323-c7fdb85690f7"},{"source":"7e85ff03-9cc9-448f-b9d8-b42d6bad51d2","target":"faf3b9f6-6c50-418e-9f5e-86a4dae89176"},{"source":"7e85ff03-9cc9-448f-b9d8-b42d6bad51d2","target":"b080f8b9-7140-4e1a-9f0c-dd97c93426be"},{"source":"7e85ff03-9cc9-448f-b9d8-b42d6bad51d2","target":"de4f9a15-a9a6-4d36-8614-7eedeb9a98c4"},{"source":"7e85ff03-9cc9-448f-b9d8-b42d6bad51d2","target":"5d3d3db6-e893-4079-bff8-adf5fca413ab"},{"source":"7e85ff03-9cc9-448f-b9d8-b42d6bad51d2","target":"2803a9b9-7a51-447c-b5c6-858f7f7a5494"},{"source":"892ff6ac-81c6-4555-8323-c7fdb85690f7","target":"7d9bdd89-cd14-4f13-a9de-f43fc6ce575e"},{"source":"7d9bdd89-cd14-4f13-a9de-f43fc6ce575e","target":"7e85ff03-9cc9-448f-b9d8-b42d6bad51d2"},{"source":"b080f8b9-7140-4e1a-9f0c-dd97c93426be","target":"1e63cd0b-b773-4962-b302-1d5ec9ef8296"},{"source":"1e63cd0b-b773-4962-b302-1d5ec9ef8296","target":"4099b965-2950-4ba5-907f-49e0eda12f00"},{"source":"1e63cd0b-b773-4962-b302-1d5ec9ef8296","target":"72704034-453b-43bc-a606-e771c2127d32"},{"source":"1e63cd0b-b773-4962-b302-1d5ec9ef8296","target":"4c2bb25b-adec-4526-862d-be8576dee5f3"},{"source":"1e63cd0b-b773-4962-b302-1d5ec9ef8296","target":"970400c9-2dbc-42a7-a926-d28e4fc7fe35"},{"source":"b080a18c-75b1-48e8-939b-478cf322c5d8","target":"1f7dbd7a-a3f9-44bb-8fac-04a7d7252e41"},{"source":"dc12eb1c-2927-41e8-8488-dac77351ece5","target":"31b4fc87-31ec-4d4e-8ddf-95ad7b9d069c"},{"source":"1f7dbd7a-a3f9-44bb-8fac-04a7d7252e41","target":"dc12eb1c-2927-41e8-8488-dac77351ece5"},{"source":"7cfd38a8-770d-48c9-88ad-86f5b798498f","target":"d4d732e7-f52d-410c-be4e-4f68335a4e0b"},{"source":"df1009b4-d598-4ec5-aded-bab6e0a4bc9a","target":"fbc1aabd-72c3-4533-a20d-3d0fc7c7b132"},{"source":"df1009b4-d598-4ec5-aded-bab6e0a4bc9a","target":"d2be30ca-4687-42a3-b9d1-6df5dcbb2628"},{"source":"d4d732e7-f52d-410c-be4e-4f68335a4e0b","target":"df1009b4-d598-4ec5-aded-bab6e0a4bc9a"},{"source":"e671cd02-32b2-40eb-aa60-fce81010423e","target":"c27de470-cf31-4df1-b7da-9213957f6904"},{"source":"c27de470-cf31-4df1-b7da-9213957f6904","target":"96ec969d-5538-4cff-a6f0-1fdabffe364a"},{"source":"10736b83-2c93-4e0a-abe4-76039bd32ecb","target":"21cc8264-d3d7-47f6-b5ed-209c06b65303"},{"source":"de4f9a15-a9a6-4d36-8614-7eedeb9a98c4","target":"bca29b73-8cc4-4f19-946c-acc37de78a14"},{"source":"de4f9a15-a9a6-4d36-8614-7eedeb9a98c4","target":"72396edc-4b1d-4810-b913-4f700e2adbd3"},{"source":"de4f9a15-a9a6-4d36-8614-7eedeb9a98c4","target":"73c31520-6553-4167-ac7b-7d1c5d3c7ac4"},{"source":"de4f9a15-a9a6-4d36-8614-7eedeb9a98c4","target":"d52b02bb-b7d5-4453-b755-aaacf5f5a741"},{"source":"5d3d3db6-e893-4079-bff8-adf5fca413ab","target":"fea24ece-6cac-454b-8ea9-d6e28ed52e53"},{"source":"9dfb8efb-2025-42ed-bacd-814e474bc4c9","target":"0e4d7f4f-c803-438a-a08b-b2d13e3f7836"},{"source":"9dfb8efb-2025-42ed-bacd-814e474bc4c9","target":"25fdfef0-4098-4fd7-8a0c-12c1cd57b3ed"},{"source":"9dfb8efb-2025-42ed-bacd-814e474bc4c9","target":"92cc78fc-b03d-4f7c-a1b3-2f283cfba17c"},{"source":"9dfb8efb-2025-42ed-bacd-814e474bc4c9","target":"db4ea1f1-fbec-405f-8000-b865df271db0"},{"source":"db4ea1f1-fbec-405f-8000-b865df271db0","target":"d19f59c3-d20b-470a-b552-ed073336801d"},{"source":"db4ea1f1-fbec-405f-8000-b865df271db0","target":"edfece9c-67c1-4352-8ac7-e5ce44b01a67"},{"source":"db4ea1f1-fbec-405f-8000-b865df271db0","target":"713de5de-ccb2-4ed5-a8ad-705aef9ca7f0"},{"source":"db4ea1f1-fbec-405f-8000-b865df271db0","target":"0d8369d9-f95e-400b-9754-d3fa8c5e83cb"},{"source":"2351e331-777a-403d-9975-1dc5c5b8fa3c","target":"26e0a456-1c43-44ec-91a5-be24eb205690"},{"source":"2631139f-21be-47cb-8e22-5a1eaae0d392","target":"26e0a456-1c43-44ec-91a5-be24eb205690"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"7cfd38a8-770d-48c9-88ad-86f5b798498f"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"3c1619f1-00f9-4d1c-b775-d6a66bb8b8e0"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"ca9d8175-a944-4a07-a0da-b42f4c0a01e1"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"ddfe1933-88bb-4be8-b501-a812b761c566"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"8ad2b66c-d312-4c27-8823-e287f231e56c"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"9dfb8efb-2025-42ed-bacd-814e474bc4c9"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"1b51d247-5860-475f-9a88-afa174e3814d"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"0c18e1a9-fae9-472b-8356-f1b5fc26fc5c"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"398301f0-0186-4d06-9481-2df4cecb1213"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"a3267842-cc3f-4e61-939f-9ea56458d000"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"1aabf708-3c04-412e-abb3-8f57ea5e60b6"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"d47c3472-bad8-4c7f-82ed-83dfc30945df"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"6c7e5dad-7055-4a93-ab47-43232ee636c4"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"78c60f02-e38d-4921-be35-95775fa3841d"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"4b01fedb-75f7-42be-b300-baf5321f4015"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"d45b80b4-c4d5-407f-a573-ab70701f4ef2"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"bda6ff96-b356-49f2-bae5-2ef80747dbf6"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"3420dbaf-a0d4-4178-9c7b-45c0a9f6eb4a"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"2351e331-777a-403d-9975-1dc5c5b8fa3c"},{"source":"4099b965-2950-4ba5-907f-49e0eda12f00","target":"2631139f-21be-47cb-8e22-5a1eaae0d392"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"b080a18c-75b1-48e8-939b-478cf322c5d8"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"e671cd02-32b2-40eb-aa60-fce81010423e"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"10736b83-2c93-4e0a-abe4-76039bd32ecb"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"32601f10-04ee-4dbf-bb45-edfe95fbde3a"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"d4f81af4-75f5-40ba-ad0a-f89fff7efe9e"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"f95a264b-dbf0-4e42-9901-ee0e56637b86"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"e7b47983-06f8-4326-8c6d-21ccebe5b92e"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"b33cfcf1-afde-4640-9bd7-a3f0f3631270"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"eec71da5-9100-46f9-a1d0-bc71a9ca1886"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"d2adaa54-2979-4b28-9d30-707dc7ece735"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"8d3ad7a3-c674-4e82-b3d9-8d1456632aef"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"4904c571-dd42-494e-aedf-9b08e633eba8"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"b9f023d5-5528-4c20-8215-3cc4efb6e220"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"210c3991-2322-433a-91f1-db7e456e1406"},{"source":"72704034-453b-43bc-a606-e771c2127d32","target":"5260ea15-a52d-4af4-9d53-056c5290de77"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"7cfd38a8-770d-48c9-88ad-86f5b798498f"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"3c1619f1-00f9-4d1c-b775-d6a66bb8b8e0"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"ca9d8175-a944-4a07-a0da-b42f4c0a01e1"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"ddfe1933-88bb-4be8-b501-a812b761c566"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"8ad2b66c-d312-4c27-8823-e287f231e56c"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"9dfb8efb-2025-42ed-bacd-814e474bc4c9"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"1b51d247-5860-475f-9a88-afa174e3814d"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"0c18e1a9-fae9-472b-8356-f1b5fc26fc5c"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"398301f0-0186-4d06-9481-2df4cecb1213"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"a3267842-cc3f-4e61-939f-9ea56458d000"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"1aabf708-3c04-412e-abb3-8f57ea5e60b6"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"d47c3472-bad8-4c7f-82ed-83dfc30945df"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"6c7e5dad-7055-4a93-ab47-43232ee636c4"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"78c60f02-e38d-4921-be35-95775fa3841d"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"4b01fedb-75f7-42be-b300-baf5321f4015"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"d45b80b4-c4d5-407f-a573-ab70701f4ef2"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"bda6ff96-b356-49f2-bae5-2ef80747dbf6"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"3420dbaf-a0d4-4178-9c7b-45c0a9f6eb4a"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"2351e331-777a-403d-9975-1dc5c5b8fa3c"},{"source":"4c2bb25b-adec-4526-862d-be8576dee5f3","target":"2631139f-21be-47cb-8e22-5a1eaae0d392"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"b080a18c-75b1-48e8-939b-478cf322c5d8"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"e671cd02-32b2-40eb-aa60-fce81010423e"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"10736b83-2c93-4e0a-abe4-76039bd32ecb"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"32601f10-04ee-4dbf-bb45-edfe95fbde3a"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"d4f81af4-75f5-40ba-ad0a-f89fff7efe9e"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"f95a264b-dbf0-4e42-9901-ee0e56637b86"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"e7b47983-06f8-4326-8c6d-21ccebe5b92e"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"b33cfcf1-afde-4640-9bd7-a3f0f3631270"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"eec71da5-9100-46f9-a1d0-bc71a9ca1886"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"d2adaa54-2979-4b28-9d30-707dc7ece735"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"8d3ad7a3-c674-4e82-b3d9-8d1456632aef"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"4904c571-dd42-494e-aedf-9b08e633eba8"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"b9f023d5-5528-4c20-8215-3cc4efb6e220"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"210c3991-2322-433a-91f1-db7e456e1406"},{"source":"970400c9-2dbc-42a7-a926-d28e4fc7fe35","target":"5260ea15-a52d-4af4-9d53-056c5290de77"},{"source":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe","target":"236945e1-d034-411b-b6ac-4d8d23d75cf6"},{"source":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe","target":"f8e13746-88fe-42c1-8db6-6a0a74a0d37f"},{"source":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe","target":"8890d07a-2df6-4b82-94ce-f6ebee0f57d0"},{"source":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe","target":"6c7e5dad-7055-4a93-ab47-43232ee636c4"},{"source":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe","target":"fa598570-e59a-4b57-b21b-59f95948bd53"},{"source":"0e99e4f4-dd6e-4e02-85f8-4b870ac368fe","target":"3612b66f-8f8f-4177-9447-0463e5ce4994"},{"source":"210c3991-2322-433a-91f1-db7e456e1406","target":"236945e1-d034-411b-b6ac-4d8d23d75cf6"},{"source":"210c3991-2322-433a-91f1-db7e456e1406","target":"f8e13746-88fe-42c1-8db6-6a0a74a0d37f"},{"source":"210c3991-2322-433a-91f1-db7e456e1406","target":"8890d07a-2df6-4b82-94ce-f6ebee0f57d0"},{"source":"210c3991-2322-433a-91f1-db7e456e1406","target":"6c7e5dad-7055-4a93-ab47-43232ee636c4"},{"source":"210c3991-2322-433a-91f1-db7e456e1406","target":"fa598570-e59a-4b57-b21b-59f95948bd53"},{"source":"210c3991-2322-433a-91f1-db7e456e1406","target":"3612b66f-8f8f-4177-9447-0463e5ce4994"},{"source":"5260ea15-a52d-4af4-9d53-056c5290de77","target":"236945e1-d034-411b-b6ac-4d8d23d75cf6"},{"source":"5260ea15-a52d-4af4-9d53-056c5290de77","target":"f8e13746-88fe-42c1-8db6-6a0a74a0d37f"},{"source":"5260ea15-a52d-4af4-9d53-056c5290de77","target":"8890d07a-2df6-4b82-94ce-f6ebee0f57d0"},{"source":"5260ea15-a52d-4af4-9d53-056c5290de77","target":"6c7e5dad-7055-4a93-ab47-43232ee636c4"},{"source":"5260ea15-a52d-4af4-9d53-056c5290de77","target":"fa598570-e59a-4b57-b21b-59f95948bd53"},{"source":"5260ea15-a52d-4af4-9d53-056c5290de77","target":"3612b66f-8f8f-4177-9447-0463e5ce4994"}],"name":["7e85ff03-9cc9-448f-b9d8-b42d6bad51d2"],"maxLevel":11,"levelsInfo":{"levelNodesCount":{"0":1,"1":1,"2":1,"3":1,"4":5,"5":6,"6":4,"7":35,"8":15,"9":7,"10":3}},"isParse":true}
            const window_params = {"width":1200,"height":600,"xStep":50,"yStep":100}

            console.log(graphData)

            

            if (graphData){
                const svg = d3.select("svg")
                svg.selectAll("*").remove() // Очистка предыдущего графа

                svg.attr("width",   window_params.width) //Устанавливает атрибут width
                .attr("height",   window_params.height)
                .append("g").attr('class', 'group') //добавляет новый элемент, тег которого передается в метод в качестве параметра

                const svgGroup = svg.select('g.group')

                // Масштабирование и перемещение
                const zoom = d3.zoom()
                .scaleExtent([0.1, 10])
                .on("zoom", (event)=>{ //Обновление позиционирования элементов при масштабировании
                    svgGroup.attr("transform", event.transform);
                });
                svg.call(zoom);


                const dragstarted = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0.3).restart(); // Увеличиваем "температуру" симуляции для более плавного движения
                    d.fx = d.x; // Фиксируем позицию узла
                    d.fy = d.y;
                }
                
                const dragged = (event, d)=>{
                    d.fx = event.x; // Обновляем фиксированные координаты узла
                    d.fy = event.y;
                }
                
                const dragended = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0); // Охлаждаем симуляцию после перетаскивания
                    d.fx = null; // Отпускаем узел, позволяя симуляции снова влиять на его позицию
                    d.fy = null;
                }

                // Создаем обработчик drag
                const drag = d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);


                // Определение маркера стрелки
                svgGroup.append("defs")
                .append("marker")
                .attr("id", "arrowhead")
                .attr("markerWidth", 5) //Размер области, в которой будет отображаться маркер
                .attr("markerHeight", 4)
                .attr("refX", nodeView.r+4)
                .attr("refY", 2)
                .attr("orient", "auto")
                .append("polygon")
                .attr("points", "0 0, 5 2, 0 4")
                .style("fill", colors.link);

                
                //Добавление ссылок
                let links = svgGroup.append("g").attr('class', 'links')
                .selectAll('.link')
                .data(graphData.links) //Добавление данных
                .enter() //Нужен для ввода дополнительных значений (так как data привязывает только первое)
                .append('path')
                .attr('class', 'link')
                .attr('stroke', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return colors.selectLink
                    return colors.link
                }) // Цвет линии ребра
                .attr('stroke-width', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return 2
                    return 1
                }) // Ширина линии ребра
                .attr("marker-end", "url(#arrowhead)") // Добавление стрелки в конец ребра
                .style('pointer-events', 'none') //(устанавливает стиль) Отключение событий на ребрах (клики и т.д.)

                // Создание узлов
                let nodes = svgGroup.append("g").attr('class', 'nodes')
                .selectAll('.node')
                .data(graphData.nodes)
                .enter()
                .append('g')
                .attr('class', 'node')
                .call(drag);

                nodes.append('circle')
                .attr('class', 'node')
                .attr('id', d => d.id)
                .attr('r', d => d.r) // Радиус узла
                .attr('fill', d=>{
                    //if(selectedNodes.sourseNode === d.id || selectedNodes.targetNode === d.id) return colors.selectNode
                    return colors.node
                }) // Цвет заполнения
                .attr("cursor", "pointer")
                .on('click', (event, d) => {
                    // Добавьте логику для обработки клика по узлу
                });

                //Отображение текста v2
                nodes.append('foreignObject')
                .attr('x', d => -d.r * 0.8)
                .attr('y', d => -d.r * 0.8)
                .attr('width', d => d.r * 1.6)
                .attr('height', d => d.r * 1.6)
                .append('xhtml:div')
                .style('display', 'flex')
                .style('justify-content', 'center')
                .style('align-items', 'center')
                .style('width', '100%')
                .style('height', '100%')
                .style('font-size', '5px')
                .style('text-anchor', 'middle')
                .style('word-wrap', 'break-word')
                .style('overflow', 'hidden')
                .style('pointer-events', 'none')
                .text(d => d.name);

                //Создание симуляции силы v3
                const simulation = d3.forceSimulation(graphData.nodes)
                // Связи между узлами
                .force("link", d3.forceLink(graphData.links).id(d => d.id))//.distance(nodeView.r*10)) //!!! Сила в зависимости от количества узлов в уровне!!!!!
                // Отталкивание узлов
                .force("charge", d3.forceManyBody(graphData.nodes).strength(d=>graphData.levelsInfo.levelNodesCount[d.level]*(-100)))//-3000))
                // Центрирование по x
                .force("center", d3.forceCenter( window_params.width / 2,  window_params.height / 2))
                // Выравнивание по уровням
                .force("y", d3.forceY().strength(6)
                    .y(d =>  window_params.height * ((d.level+1) / (graphData.maxLevel-1)))) //!!!!!!!!!!Уровень с большим числом узлов шире, чем с меньшим
                // Отталкивание по x в рамках одного уровня
                .force("x", d3.forceX().strength(0.05)
                    .x( window_params.width / 2))
                // Дополнительная сила для предотвращения наложения узлов
                .force("collision", d3.forceCollide().radius(40));

                // Обновление позиций узлов и связей при каждой итерации симуляции
                //Обновление симуляции
                simulation.on('tick', () => {
                    links.attr("d", d => `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`);
                    nodes.attr('transform', d => `translate(${d.x}, ${d.y})`); // Правильная позиция для групп
                });
            }
        </script>
    </body>
</html>