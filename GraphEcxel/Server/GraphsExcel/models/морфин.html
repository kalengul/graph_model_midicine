<!DOCTYPE html>
<html>
    <head>
        <title>морфин</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/index.css">
        <style>
            .Graphcontainer{
                width: 98%;
                height: 85vh;

                border: solid 0.5px black;
                border-radius: 7px;
            }

            .svgGraph{
                width: 100%;
                height: 100%;
            }   
        </style>
        <script src="./d3.v7.js"></script>
    </head>
    <body>
        <main>
            <div class="flex jc-center">
                <h1>морфин</h1>
            </div>
            <br/>
            <div class='Graphcontainer' >
                <svg class='svgGraph'> </svg>
            </div>
        </main>

        <script>
            const colors = {
                selectNode: "#E8BD6D",
                selectLink: "#8B7474",
                node: "#E9EEF4",
                link: '#B8B5B5'
            }

            const nodeView = {
                r: 30
            }

            const graphData = {"directed":true,"multigraph":false,"graph":{},"nodes":[{"label":"group","weight":5,"id":"04d75459-99d2-4764-9ff3-94f97b6e7f67","name":"опиоид","level":1,"r":30,"y":260,"x":1200},{"label":"prepare","weight":5,"id":"e973465e-921f-423c-bd59-24ce03a7f393","name":"морфин","level":2,"r":30,"y":390,"x":1200},{"label":"mechanism","weight":5,"id":"37646cc6-5b75-42f4-a94a-94306396a11f","name":"обладать высокий сродство к µ-опиоидный рецептор","level":4,"r":30,"y":650,"x":600},{"label":"excretion","weight":5,"id":"b5b6a188-9083-42cd-90e6-b59b61008949","name":"моча","level":3,"r":30,"y":520,"x":200},{"label":"side_e","weight":5,"id":"a3b010b4-9706-4368-ac47-e1d716c8534b","name":"некардиогенный отёк лёгкий","level":0,"r":30,"y":130,"x":36.36363636363637},{"label":"side_e","weight":5,"id":"52f01c35-35a7-4f87-bf7c-5c97605710e1","name":"поражение зуб","level":0,"r":30,"y":130,"x":116.36363636363637},{"label":"action","weight":5,"id":"37af7af1-e085-4877-be63-d52ccae62b6a","name":"приводить к разнообразный психический нежелательный реакция","level":3,"r":30,"y":520,"x":280},{"label":"side_e","weight":5,"id":"17fc7516-ccf3-4726-8281-b010009b5f48","name":"рецидив герпетический поражение губа","level":0,"r":30,"y":130,"x":196.36363636363637},{"label":"side_e","weight":5,"id":"4c5018cb-3eda-4b79-b02f-22dfe70edd4b","name":"анафилактический и анафилактоидный реакция","level":0,"r":30,"y":130,"x":276.3636363636364},{"label":"side_e","weight":5,"id":"710c8aeb-1005-4501-a547-dc45fd5f72f3","name":"синдром неадекватный продукция антидиуретический гормон","level":0,"r":30,"y":130,"x":356.3636363636364},{"label":"side_e","weight":5,"id":"b47275fd-c9c2-4777-8e6d-243ffe2e6543","name":"изменение когнитивный и сенсорный способность","level":0,"r":30,"y":130,"x":436.3636363636364},{"label":"side_e","weight":5,"id":"5156e023-cafd-45d8-b827-312ec663cac8","name":"когнитивный нарушение/галлюцинация","level":0,"r":30,"y":130,"x":516.3636363636364},{"label":"side_e","weight":5,"id":"ba4568b1-9907-48f5-9f51-1f7042cf48d0","name":"извращение вкус","level":0,"r":30,"y":130,"x":596.3636363636364},{"label":"side_e","weight":5,"id":"767d0a81-4908-4849-9c8a-7c0e5a104ff6","name":"гранулёма в область кончик катетер","level":0,"r":30,"y":130,"x":676.3636363636364},{"label":"side_e","weight":5,"id":"d62e5bab-05f0-4733-b094-452022ec136d","name":"нистагм","level":0,"r":30,"y":130,"x":756.3636363636364},{"label":"side_e","weight":5,"id":"9aaddf28-6973-4421-8541-0a7864cb6927","name":"снижение и повышениесердечный сокращение","level":0,"r":30,"y":130,"x":836.3636363636364},{"label":"side_e","weight":5,"id":"4229f011-a6d4-4fcd-b539-76afc058f2ed","name":"ощущение сердцебиение","level":0,"r":30,"y":130,"x":916.3636363636364},{"label":"side_e","weight":5,"id":"7dc1cc6d-429b-408e-be51-9478362bc3ad","name":"сердечный недостаточность","level":0,"r":30,"y":130,"x":996.3636363636364},{"label":"side_e","weight":5,"id":"50646959-a001-4365-ba7e-dacbd1e5350d","name":"повышение активность панкреатический фермент","level":0,"r":30,"y":130,"x":1076.3636363636365},{"label":"side_e","weight":5,"id":"bdd7271e-d278-41ce-98e3-3f95124f6e5f","name":"сухость в рот","level":0,"r":30,"y":130,"x":1156.3636363636365},{"label":"side_e","weight":5,"id":"5a7aadc6-a737-4fc3-b50c-8cc64ffebade","name":"жёлчный колика","level":0,"r":30,"y":130,"x":1236.3636363636365},{"label":"side_e","weight":5,"id":"11d8c02f-42c6-40d7-9bae-0319530ae4e7","name":"реакция гиперчувствительность","level":0,"r":30,"y":130,"x":1316.3636363636365},{"label":"side_e","weight":5,"id":"59a4d1d8-fabe-4f96-80bd-4235c11dba31","name":"другой вид сыпь","level":0,"r":30,"y":130,"x":1396.3636363636365},{"label":"side_e","weight":5,"id":"e09838fa-7c0b-428e-b7f0-41a48dfa017a","name":"экзантема","level":0,"r":30,"y":130,"x":1476.3636363636365},{"label":"side_e","weight":5,"id":"be464892-f51a-4e66-ab93-85f1ad185520","name":"покраснение лицо","level":0,"r":30,"y":130,"x":1556.3636363636365},{"label":"side_e","weight":5,"id":"c9ca234d-2a30-41eb-8786-0b61d2e65fbe","name":"насильственный подёргивание мышца","level":0,"r":30,"y":130,"x":1636.3636363636365},{"label":"side_e","weight":5,"id":"768cd393-8e3b-41c8-a117-c4f7de58d3b5","name":"мочеиспускание","level":0,"r":30,"y":130,"x":1716.3636363636365},{"label":"side_e","weight":5,"id":"996afda5-6f53-4477-9dcd-00e8b9d4b652","name":"аменорея","level":0,"r":30,"y":130,"x":1796.3636363636365},{"label":"side_e","weight":5,"id":"1ae8dfb9-31fa-4fa9-9585-8359ea729f30","name":"снижение либидо","level":0,"r":30,"y":130,"x":1876.3636363636365},{"label":"side_e","weight":5,"id":"fcb913ce-dc2e-4160-bd3a-89a4d1e4e7d7","name":"потенция","level":0,"r":30,"y":130,"x":1956.3636363636365},{"label":"side_e","weight":5,"id":"970747d7-9ab7-4925-a407-e56b3a887699","name":"слабость","level":0,"r":30,"y":130,"x":2036.3636363636365},{"label":"side_e","weight":5,"id":"9f0456d3-ded1-4db9-a9c3-840b27dd4d81","name":"лекарственный зависимость","level":0,"r":30,"y":130,"x":2116.3636363636365},{"label":"side_e","weight":5,"id":"06d4e2ed-d35d-4fba-a74d-acaa475b3862","name":"толерантность","level":0,"r":30,"y":130,"x":2196.3636363636365},{"label":"group","weight":5,"id":"228e7034-d81c-4efe-9fd2-846aa264d5ee","name":"средство, угнетать цнс","level":0,"r":30,"y":130,"x":2276.3636363636365},{"label":"side_e","weight":5,"id":"881b14e2-4fde-47b1-b5cb-79063a75b323","name":"нарушение мочеиспускание","level":7,"r":30,"y":1040,"x":35.294117647058826},{"label":"side_e","weight":5,"id":"e0af53dd-ffb0-492f-908c-39c7c054b797","name":"серотониновый синдром","level":0,"r":30,"y":130,"x":2356.3636363636365},{"label":"mechanism","weight":5,"id":"337619a8-0ddd-4533-9d27-63730e7f9b1e","name":"агонистом опиоидных рецепторов","level":3,"r":30,"y":520,"x":360},{"label":"side_e","weight":5,"id":"8935a0bb-b3ea-494d-8e67-c7cb18467f7a","name":"запор","level":6,"r":30,"y":910,"x":40},{"label":"side_e","weight":5,"id":"cce03918-2f27-4b37-a694-f712e98cf61d","name":"зуд","level":7,"r":30,"y":1040,"x":115.29411764705883},{"label":"side_e","weight":5,"id":"e0bd1ef8-604a-47a8-9f80-25f9e9bf95ae","name":"крапивница","level":7,"r":30,"y":1040,"x":195.29411764705884},{"label":"side_e","weight":5,"id":"9e1dc48c-69e8-4a74-adf0-2b6a6f8adc2b","name":"эритема","level":6,"r":30,"y":910,"x":120},{"label":"side_e","weight":5,"id":"9a254e31-617e-4044-94d6-ef0a30eb540a","name":"замедление опорожнение желудок","level":6,"r":30,"y":910,"x":200},{"label":"side_e","weight":5,"id":"33151a0c-8017-4550-b022-79e4d4d8484b","name":"сокращение сфинктер желчевыводить путь","level":6,"r":30,"y":910,"x":280},{"label":"side_e","weight":5,"id":"8975e01b-95ff-431a-a00b-2223ca4e6d00","name":"повышение тонус мышца","level":6,"r":30,"y":910,"x":360},{"label":"mechanism","weight":5,"id":"68053c72-9ecf-48eb-9c33-bfa9fef1bd18","name":"высвобождение гистамин","level":6,"r":30,"y":910,"x":440},{"label":"action","weight":5,"id":"c90282ce-d12c-4bd6-924c-2faa53ce25cf","name":"влияние на гипоталамогипофизарный ось","level":6,"r":30,"y":910,"x":520},{"label":"group","weight":5,"id":"d7719872-04f2-40ea-a2e3-afc2b011da1a","name":"кортикостероид","level":9,"r":30,"y":1300,"x":300},{"label":"hormone","weight":5,"id":"c949753e-cbc1-4de1-8400-04fc936f6135","name":"пролактин","level":9,"r":30,"y":1300,"x":380},{"label":"hormone","weight":5,"id":"3cbda0d7-3aa4-4882-b6ca-6cfe321399ae","name":"антидиуретический гормон","level":9,"r":30,"y":1300,"x":460},{"label":"action","weight":5,"id":"71266958-5e4d-46ab-8570-5d4cfc661a77","name":"нарушение","level":7,"r":30,"y":1040,"x":275.29411764705884},{"label":"action","weight":5,"id":"566f12a1-b02b-4e77-a65f-8a01cfa37224","name":"продукция","level":8,"r":30,"y":1170,"x":200},{"label":"action","weight":5,"id":"5047af96-dfa6-49d3-aeee-a14ec29b497a","name":"действие","level":8,"r":30,"y":1170,"x":280},{"label":"prot_link","weight":5,"id":"45f08661-8b13-4b35-9887-e79dc6e7ece7","name":"связываться с белок плазма кровь","level":3,"r":30,"y":520,"x":440},{"label":"metabol","weight":5,"id":"2c9b6410-37cc-42c8-ade9-83226e6a40d9","name":"печень","level":3,"r":30,"y":520,"x":520},{"label":"metabol","weight":5,"id":"42fea76a-4832-4687-b291-cdc38ac797a7","name":"эпителий кишечник","level":3,"r":30,"y":520,"x":600},{"label":"side_e","weight":5,"id":"832a2372-1474-4ec5-a82c-1344053d9a11","name":"панкреатит","level":6,"r":30,"y":910,"x":600},{"label":"side_e","weight":5,"id":"e8adb2fb-56cd-4944-9154-f90a3992d39e","name":"эйфория","level":6,"r":30,"y":910,"x":680},{"label":"side_e","weight":5,"id":"75e84088-68d2-4b0b-a7a2-987a82b8a9ba","name":"дисфория","level":6,"r":30,"y":910,"x":760},{"label":"side_e","weight":5,"id":"aed7bdff-9453-4632-a980-6e62b63cc397","name":"беспорядочность мысль","level":6,"r":30,"y":910,"x":840},{"label":"side_e","weight":5,"id":"39f5f019-e88b-4fdb-b46c-3fa358c0d6ff","name":"бессонница","level":6,"r":30,"y":910,"x":920},{"label":"side_e","weight":5,"id":"3f97f155-c6c2-4463-9f58-ab59957fbf3d","name":"бронхоспазм","level":7,"r":30,"y":1040,"x":355.29411764705884},{"label":"side_e","weight":5,"id":"8b7badd5-60df-4e93-900f-8d3712cd74d5","name":"вызывать различный степень седации","level":6,"r":30,"y":910,"x":1000},{"label":"side_e","weight":5,"id":"71ec145f-677e-4a15-91d0-c6f61cf7c462","name":"гиперальгезия","level":6,"r":30,"y":910,"x":1080},{"label":"side_e","weight":5,"id":"63faa0c4-cf9f-4689-9490-be123e10740a","name":"гипертермия","level":7,"r":30,"y":1040,"x":435.29411764705884},{"label":"side_e","weight":5,"id":"c7fd92b1-948c-4672-b80b-083eac0689b8","name":"гипоксия","level":8,"r":30,"y":1170,"x":360},{"label":"side_e","weight":5,"id":"790105e6-c9e3-4270-b868-812a8c11156b","name":"сужение зрачок","level":0,"r":30,"y":130,"x":2436.3636363636365},{"label":"side_e","weight":5,"id":"902ef25c-b969-4662-bb5a-8c1a4ffca174","name":"кома","level":7,"r":30,"y":1040,"x":515.2941176470588},{"label":"side_e","weight":5,"id":"5e3ef4c4-d1f5-496f-a6be-acf8436c00c9","name":"смерть","level":0,"r":30,"y":130,"x":2516.3636363636365},{"label":"mechanism","weight":5,"id":"7977d738-8791-4a3a-9b48-265a4bb0d57c","name":"миорелаксировать действие","level":6,"r":30,"y":910,"x":1160},{"label":"group","weight":5,"id":"872ec233-1b83-4d42-9bf3-d502e2269815","name":"анальгетик","level":0,"r":30,"y":130,"x":2596.3636363636365},{"label":"side_e","weight":5,"id":"68992b80-e78b-48fc-a254-2f052daf87a5","name":"синдром «отмена»","level":6,"r":30,"y":910,"x":1240},{"label":"side_e","weight":5,"id":"3e0f0524-46e0-4205-8cbe-27a053e8827c","name":"диарея","level":7,"r":30,"y":1040,"x":595.2941176470588},{"label":"side_e","weight":5,"id":"cb84d46f-4381-4deb-a267-96a7b6e94e42","name":"тахикардия","level":7,"r":30,"y":1040,"x":675.2941176470588},{"label":"side_e","weight":5,"id":"4b1e48c1-c254-4680-8ed1-ef9b1f93f7f9","name":"мидриаз","level":7,"r":30,"y":1040,"x":755.2941176470588},{"label":"side_e","weight":5,"id":"09f4abc3-d70c-41e7-b756-5c5a84772e57","name":"ринит","level":7,"r":30,"y":1040,"x":835.2941176470588},{"label":"side_e","weight":5,"id":"f04f3d73-61a9-4ffb-a1fd-a3c5632a935d","name":"чихание","level":7,"r":30,"y":1040,"x":915.2941176470588},{"label":"side_e","weight":5,"id":"369704b0-3f79-4024-ab5c-a4394bc64262","name":"потливость","level":7,"r":30,"y":1040,"x":995.2941176470588},{"label":"side_e","weight":5,"id":"d7c5a5c8-acab-45a1-8fd6-2492de20de0a","name":"зевота","level":7,"r":30,"y":1040,"x":1075.2941176470588},{"label":"side_e","weight":5,"id":"c23020e9-eed8-40ad-a4ec-5174abcdc485","name":"анорексия","level":8,"r":30,"y":1170,"x":440},{"label":"side_e","weight":5,"id":"bfe38371-310b-4dc6-b8f5-d6c800f09450","name":"астения","level":9,"r":30,"y":1300,"x":540},{"label":"side_e","weight":5,"id":"f05eef62-e035-4406-8cdb-1fdae21a78b5","name":"тошнота","level":7,"r":30,"y":1040,"x":1155.2941176470588},{"label":"side_e","weight":5,"id":"e6f92214-a4fa-4174-b9b0-b9f605ad76d5","name":"рвота","level":7,"r":30,"y":1040,"x":1235.2941176470588},{"label":"side_e","weight":5,"id":"c8be4d50-e59d-4ca1-b855-4df7d5db56a4","name":"нервозность","level":7,"r":30,"y":1040,"x":1315.2941176470588},{"label":"side_e","weight":5,"id":"8bd0a9e7-3829-41d0-ba52-10f7f2d051e2","name":"усталость","level":7,"r":30,"y":1040,"x":1395.2941176470588},{"label":"side_e","weight":5,"id":"80f2fc0f-06aa-4836-b157-20e4ef1bc0c5","name":"раздражительность","level":7,"r":30,"y":1040,"x":1475.2941176470588},{"label":"side_e","weight":5,"id":"2f433b16-6712-4da8-bba6-d14651ffa9ba","name":"тремор","level":7,"r":30,"y":1040,"x":1555.2941176470588},{"label":"side_e","weight":5,"id":"6b4a5931-788c-4ef0-b1ca-30b10364bd9d","name":"спазм в желудок","level":7,"r":30,"y":1040,"x":1635.2941176470588},{"label":"side_e","weight":5,"id":"8ab74fee-9f74-4068-a60c-831fe178a3ed","name":"общий слабость","level":7,"r":30,"y":1040,"x":1715.2941176470588},{"label":"side_e","weight":5,"id":"4a675cf6-4d2a-4652-91a7-9b6cb087aadc","name":"мышечный сокращение","level":7,"r":30,"y":1040,"x":1795.2941176470588},{"label":"side_e","weight":5,"id":"2d21da46-812f-483e-b079-8babf210dad7","name":"головной боль","level":7,"r":30,"y":1040,"x":1875.2941176470588},{"label":"side_e","weight":5,"id":"c2c8f456-e1e7-49c6-a274-c7e67aa19c5d","name":"повышение артериальный давление","level":7,"r":30,"y":1040,"x":1955.2941176470588},{"label":"side_e","weight":5,"id":"1aecc651-c68e-4d94-a640-e95789a19c04","name":"другой вегетативный симптом","level":7,"r":30,"y":1040,"x":2035.2941176470588},{"label":"side_e","weight":5,"id":"002a6b22-7151-42a0-8f38-f1938f0fcdac","name":"диплопия","level":6,"r":30,"y":910,"x":1320},{"label":"side_e","weight":5,"id":"1a601676-9781-4a1b-b20f-83233d7f9434","name":"помутнение зрение","level":6,"r":30,"y":910,"x":1400},{"label":"side_e","weight":5,"id":"5a2039dd-cdd6-487d-9984-a65137c5afa0","name":"ригидность мышца","level":6,"r":30,"y":910,"x":1480},{"label":"side_e","weight":5,"id":"6ccfb467-f3c6-4e6e-9204-e84b3a907776","name":"одышка","level":7,"r":30,"y":1040,"x":2115.2941176470586},{"label":"side_e","weight":5,"id":"dc5fd9e9-7c99-4046-959a-629a76e4aa19","name":"диспепсия","level":7,"r":30,"y":1040,"x":2195.2941176470586},{"label":"side_e","weight":5,"id":"d487ca52-f861-49b3-9527-cfd73afea165","name":"снижение аппетит","level":7,"r":30,"y":1040,"x":2275.2941176470586},{"label":"side_e","weight":5,"id":"28300d45-b449-4e3c-894d-d64dbd030f3d","name":"озноб","level":8,"r":30,"y":1170,"x":520},{"label":"side_e","weight":5,"id":"99282fe1-44d2-4049-b306-1a8032027049","name":"эректильный дисфункция","level":6,"r":30,"y":910,"x":1560},{"label":"side_e","weight":5,"id":"85ff2ed0-bd28-4b68-831f-6230fb6aff33","name":"повышение активность печёночный фермент","level":4,"r":30,"y":650,"x":680},{"label":"side_e","weight":5,"id":"03209711-b035-4fbe-b673-6467a737b7f9","name":"спазм мышца","level":7,"r":30,"y":1040,"x":2355.2941176470586},{"label":"side_e","weight":5,"id":"75bdf722-745f-4abc-ab11-a42071e05112","name":"судорога","level":7,"r":30,"y":1040,"x":2435.2941176470586},{"label":"side_e","weight":5,"id":"ca4448cf-490e-4847-9d6a-182cf78277ca","name":"мышечный боль","level":8,"r":30,"y":1170,"x":600},{"label":"side_e","weight":5,"id":"55fd099c-cc4b-475a-9f68-6590438aca7c","name":"почечный колика","level":7,"r":30,"y":1040,"x":2515.2941176470586},{"label":"side_e","weight":5,"id":"4af637eb-70bc-4a5a-a9a0-688379de8f13","name":"серьёзный неврологический нарушение","level":6,"r":30,"y":910,"x":1640},{"label":"side_e","weight":5,"id":"1af598f5-a0a9-4c13-8c45-097d97174f60","name":"изменение настроение","level":6,"r":30,"y":910,"x":1720},{"label":"side_e","weight":5,"id":"d9ab1cd1-645e-4ff6-a719-9140c83c6cee","name":"спутанность сознание","level":6,"r":30,"y":910,"x":1800},{"label":"side_e","weight":5,"id":"a39b444f-84cd-48f4-9933-2508b468c09b","name":"головокружение","level":6,"r":30,"y":910,"x":1880},{"label":"side_e","weight":5,"id":"82f1da7a-e819-45bf-9c55-4dc2bfc086c9","name":"паралич","level":7,"r":30,"y":1040,"x":2595.2941176470586},{"label":"side_e","weight":5,"id":"36aeb0f6-6961-4f4e-abd2-88e22ff94ecb","name":"периферический отёк","level":7,"r":30,"y":1040,"x":2675.2941176470586},{"label":"side_e","weight":5,"id":"cc22f81c-beff-4ede-9d8b-ab30852381ff","name":"изменение внимание","level":6,"r":30,"y":910,"x":1960},{"label":"side_e","weight":5,"id":"ae831e94-a8fd-4de4-ba80-657179c4888b","name":"снижение артериальный давление","level":6,"r":30,"y":910,"x":2040},{"label":"action","weight":5,"id":"64422459-c648-464f-9c5e-0e8f814abd7e","name":"действие центральный","level":5,"r":30,"y":780,"x":100},{"label":"action","weight":5,"id":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","name":"действие периферический","level":5,"r":30,"y":780,"x":180},{"label":"action","weight":5,"id":"f1d781b9-61c6-4a73-8dcf-35f48efd8b3d","name":"действие центральный анальгезирующий","level":5,"r":30,"y":780,"x":260},{"label":"action","weight":5,"id":"2d0617a3-9b52-4f5b-a31a-dd9810b3f6ed","name":"действие центральный противокашлевой","level":5,"r":30,"y":780,"x":340},{"label":"action","weight":5,"id":"6476d742-b599-426c-9e0b-aa56b0ef9c2e","name":"действие центральный седативный","level":5,"r":30,"y":780,"x":420},{"label":"action","weight":5,"id":"44b799ce-569a-481b-933c-3a39a49716ed","name":"действие центральный транквилизировать","level":5,"r":30,"y":780,"x":500},{"label":"action","weight":5,"id":"530a2ec8-9003-4188-81aa-32aae0132a20","name":"действие центральный миотический","level":5,"r":30,"y":780,"x":580},{"label":"action","weight":5,"id":"67a2443b-f5f9-41d2-bca6-25930fc2c438","name":"действие центральный рвотное","level":5,"r":30,"y":780,"x":660},{"label":"action","weight":5,"id":"875eec26-1692-44e0-95af-aec61319b8eb","name":"действие центральный антидиуретический","level":5,"r":30,"y":780,"x":740},{"label":"action","weight":5,"id":"81789e65-54ed-4daa-966d-57247dcd75a1","name":"действие центральный замедлять сердечный ритм","level":5,"r":30,"y":780,"x":820},{"label":"action","weight":5,"id":"8789900e-5aba-43fc-9b4c-3fae21f54079","name":"действие центральный гипотензивный","level":5,"r":30,"y":780,"x":900},{"label":"action","weight":5,"id":"51963e2d-489f-4c19-ad7f-03b110456425","name":"действие центральный противорвотный","level":5,"r":30,"y":780,"x":980},{"label":"side_e","weight":5,"id":"04511e92-5240-453c-9c0e-4d632ab26734","name":"повышение тонус мышца мочевой пузырь","level":6,"r":30,"y":910,"x":2120},{"label":"side_e","weight":5,"id":"225cd769-59af-4c54-a353-6e3bdca27e69","name":"повышение тонус мышца сфинктер мочевой пузырь","level":6,"r":30,"y":910,"x":2200},{"label":"side_e","weight":5,"id":"b6e74dda-afd6-4842-8cc5-b834630455c5","name":"угнетение цнс","level":6,"r":30,"y":910,"x":2280},{"label":"side_e","weight":5,"id":"13f85796-aa8e-4aeb-9572-ff5aba012c9d","name":"угнетение дыхание","level":6,"r":30,"y":910,"x":2360}],"links":[{"source":"04d75459-99d2-4764-9ff3-94f97b6e7f67","target":"e973465e-921f-423c-bd59-24ce03a7f393","id":"320923f2-f529-401f-9d5b-5678edbf411d"},{"source":"e973465e-921f-423c-bd59-24ce03a7f393","target":"37af7af1-e085-4877-be63-d52ccae62b6a","id":"f5bda9a1-08d7-4f8c-9773-101ef763a311"},{"source":"e973465e-921f-423c-bd59-24ce03a7f393","target":"337619a8-0ddd-4533-9d27-63730e7f9b1e","id":"63824b0a-e34d-4fe4-af6d-31709ccc2373"},{"source":"e973465e-921f-423c-bd59-24ce03a7f393","target":"45f08661-8b13-4b35-9887-e79dc6e7ece7","id":"7a1e53c1-dffa-4c49-a8d1-27b13dfbcc2e"},{"source":"e973465e-921f-423c-bd59-24ce03a7f393","target":"2c9b6410-37cc-42c8-ade9-83226e6a40d9","id":"25b7b6e5-876a-49e5-b37f-85c8c9c35c33"},{"source":"e973465e-921f-423c-bd59-24ce03a7f393","target":"42fea76a-4832-4687-b291-cdc38ac797a7","id":"1aa165a9-2347-4c49-8253-5598a0b15df8"},{"source":"e973465e-921f-423c-bd59-24ce03a7f393","target":"b5b6a188-9083-42cd-90e6-b59b61008949","id":"af69d3f1-5d27-40e5-887a-8f5091ef7f59"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"64422459-c648-464f-9c5e-0e8f814abd7e","id":"ad80f8d2-268c-488b-b674-80746e871c30"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","id":"a6b9aab7-830b-4bd2-b026-5ebeebd435a4"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"f1d781b9-61c6-4a73-8dcf-35f48efd8b3d","id":"097f2a1b-2014-4dd2-ac5c-7bbc70e316c9"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"2d0617a3-9b52-4f5b-a31a-dd9810b3f6ed","id":"0ae6567c-bfc2-4db1-9182-d96e8c21bfda"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"6476d742-b599-426c-9e0b-aa56b0ef9c2e","id":"fd09da50-fcb7-4ad5-9851-28c172deaeed"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"44b799ce-569a-481b-933c-3a39a49716ed","id":"f5cbd27b-1d80-48f1-ac80-d133b69daac5"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"530a2ec8-9003-4188-81aa-32aae0132a20","id":"194982be-9929-46a8-8233-dd6a79f2c055"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"67a2443b-f5f9-41d2-bca6-25930fc2c438","id":"26abffa2-a8e6-40ee-8719-382dbc8b2574"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"875eec26-1692-44e0-95af-aec61319b8eb","id":"79d9560c-33e0-4ffe-9b11-caaeb79109b2"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"81789e65-54ed-4daa-966d-57247dcd75a1","id":"6b919f92-dbcb-47d0-814d-ade5f456a10e"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"8789900e-5aba-43fc-9b4c-3fae21f54079","id":"4aa58584-9b59-4449-95a8-40a499b3f534"},{"source":"37646cc6-5b75-42f4-a94a-94306396a11f","target":"51963e2d-489f-4c19-ad7f-03b110456425","id":"5476248f-c72a-42d0-b23a-1d377d67bdef"},{"source":"228e7034-d81c-4efe-9fd2-846aa264d5ee","target":"04d75459-99d2-4764-9ff3-94f97b6e7f67","id":"e531ffc9-3e5e-4a98-a77f-0f4d909daac4"},{"source":"337619a8-0ddd-4533-9d27-63730e7f9b1e","target":"37646cc6-5b75-42f4-a94a-94306396a11f","id":"34563514-2d85-4461-bca3-f3515c9f4afc"},{"source":"9a254e31-617e-4044-94d6-ef0a30eb540a","target":"dc5fd9e9-7c99-4046-959a-629a76e4aa19","id":"370a1571-901a-4f5a-9737-1d50383fd5ed"},{"source":"9a254e31-617e-4044-94d6-ef0a30eb540a","target":"d487ca52-f861-49b3-9527-cfd73afea165","id":"79671950-6004-42c2-ac92-ce8511e04882"},{"source":"8975e01b-95ff-431a-a00b-2223ca4e6d00","target":"03209711-b035-4fbe-b673-6467a737b7f9","id":"cf207713-c973-453e-ac6f-6bd9e8b1d186"},{"source":"8975e01b-95ff-431a-a00b-2223ca4e6d00","target":"75bdf722-745f-4abc-ab11-a42071e05112","id":"c1e7aba3-b0f5-4dac-a2ac-49f4ed46994c"},{"source":"8975e01b-95ff-431a-a00b-2223ca4e6d00","target":"55fd099c-cc4b-475a-9f68-6590438aca7c","id":"ac650f42-cc86-497a-9357-fe542ef4ce8d"},{"source":"68053c72-9ecf-48eb-9c33-bfa9fef1bd18","target":"e0bd1ef8-604a-47a8-9f80-25f9e9bf95ae","id":"418dfb00-9c93-467b-be27-df3f560dd66e"},{"source":"68053c72-9ecf-48eb-9c33-bfa9fef1bd18","target":"cce03918-2f27-4b37-a694-f712e98cf61d","id":"aa7e34e2-572c-4366-bf0f-12fed515e9b8"},{"source":"68053c72-9ecf-48eb-9c33-bfa9fef1bd18","target":"3f97f155-c6c2-4463-9f58-ab59957fbf3d","id":"2fe8880a-f392-4b79-9b81-fdc397c2daab"},{"source":"c90282ce-d12c-4bd6-924c-2faa53ce25cf","target":"71266958-5e4d-46ab-8570-5d4cfc661a77","id":"67e27d8d-5878-424d-a30c-dc00d6c395b7"},{"source":"71266958-5e4d-46ab-8570-5d4cfc661a77","target":"566f12a1-b02b-4e77-a65f-8a01cfa37224","id":"9d629385-5932-428b-8d9a-37e0cdf8e5ff"},{"source":"71266958-5e4d-46ab-8570-5d4cfc661a77","target":"5047af96-dfa6-49d3-aeee-a14ec29b497a","id":"104c1582-2efa-4f3d-ba99-9d6bf2ca797f"},{"source":"566f12a1-b02b-4e77-a65f-8a01cfa37224","target":"c949753e-cbc1-4de1-8400-04fc936f6135","id":"27063c5d-7058-4aff-b466-b5c20beebbb1"},{"source":"566f12a1-b02b-4e77-a65f-8a01cfa37224","target":"d7719872-04f2-40ea-a2e3-afc2b011da1a","id":"f84086d0-3057-4568-8b25-88ab15491656"},{"source":"566f12a1-b02b-4e77-a65f-8a01cfa37224","target":"3cbda0d7-3aa4-4882-b6ca-6cfe321399ae","id":"49d35bda-43e4-4fac-a09e-a6ba4405f8be"},{"source":"5047af96-dfa6-49d3-aeee-a14ec29b497a","target":"c949753e-cbc1-4de1-8400-04fc936f6135","id":"9c17bb37-71b0-4235-a957-c0067b4732eb"},{"source":"5047af96-dfa6-49d3-aeee-a14ec29b497a","target":"d7719872-04f2-40ea-a2e3-afc2b011da1a","id":"8fec273d-630f-4bf7-b8f6-4fedd5306028"},{"source":"5047af96-dfa6-49d3-aeee-a14ec29b497a","target":"3cbda0d7-3aa4-4882-b6ca-6cfe321399ae","id":"85061b0f-8dab-4d53-ab0e-b3dc316feb09"},{"source":"2c9b6410-37cc-42c8-ade9-83226e6a40d9","target":"85ff2ed0-bd28-4b68-831f-6230fb6aff33","id":"c774523f-58af-4c94-a227-53e11c5b514f"},{"source":"3f97f155-c6c2-4463-9f58-ab59957fbf3d","target":"c7fd92b1-948c-4672-b80b-083eac0689b8","id":"10a268a3-0503-4fd0-9da0-2c0a0546ba28"},{"source":"8b7badd5-60df-4e93-900f-8d3712cd74d5","target":"902ef25c-b969-4662-bb5a-8c1a4ffca174","id":"68e41879-f57b-4efc-9393-196e23e03b5e"},{"source":"63faa0c4-cf9f-4689-9490-be123e10740a","target":"28300d45-b449-4e3c-894d-d64dbd030f3d","id":"1b36f583-6ebe-4967-9d24-b77a5187c546"},{"source":"7977d738-8791-4a3a-9b48-265a4bb0d57c","target":"36aeb0f6-6961-4f4e-abd2-88e22ff94ecb","id":"8282e88a-2e3b-4066-b189-218bff2cd66b"},{"source":"872ec233-1b83-4d42-9bf3-d502e2269815","target":"04d75459-99d2-4764-9ff3-94f97b6e7f67","id":"6fa0e77d-eb24-4d04-9620-ffabeed802f0"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"3e0f0524-46e0-4205-8cbe-27a053e8827c","id":"ee95fa62-78a7-4577-ab0e-79bb7a6ada06"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"cb84d46f-4381-4deb-a267-96a7b6e94e42","id":"98d449d0-105b-4a53-b531-001667ef5e8d"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"4b1e48c1-c254-4680-8ed1-ef9b1f93f7f9","id":"b0ba792c-3581-4b17-ac8f-5da097c021ea"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"63faa0c4-cf9f-4689-9490-be123e10740a","id":"50428d2d-0adf-4300-a760-b310b9b36b4d"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"09f4abc3-d70c-41e7-b756-5c5a84772e57","id":"d888fe77-a03c-4e4c-bd0c-6342b2a36850"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"f04f3d73-61a9-4ffb-a1fd-a3c5632a935d","id":"454c0f54-a761-401a-9ecc-9ea5e1755f8d"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"369704b0-3f79-4024-ab5c-a4394bc64262","id":"856c5144-8f19-4b28-9a7f-8f293fd4948d"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"d7c5a5c8-acab-45a1-8fd6-2492de20de0a","id":"8ef0f49c-44bb-4a56-a89a-1e5b02df90a5"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"f05eef62-e035-4406-8cdb-1fdae21a78b5","id":"19070344-9c3c-4f14-8930-b21b78503256"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"e6f92214-a4fa-4174-b9b0-b9f605ad76d5","id":"49dd6502-85e9-4505-b86b-06067129ba47"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"c8be4d50-e59d-4ca1-b855-4df7d5db56a4","id":"c147c5d5-0851-495e-a9a1-1ad9d5377d44"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"8bd0a9e7-3829-41d0-ba52-10f7f2d051e2","id":"880c591b-840c-4aef-9aff-e53c1a5f75fc"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"80f2fc0f-06aa-4836-b157-20e4ef1bc0c5","id":"89ce469f-77cd-45e4-ba4b-f36b8969a083"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"2f433b16-6712-4da8-bba6-d14651ffa9ba","id":"0cd463de-45c4-4172-b068-0894eadfbee2"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"6b4a5931-788c-4ef0-b1ca-30b10364bd9d","id":"cfbbb94a-4413-4c38-879c-79a156b6b1b7"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"8ab74fee-9f74-4068-a60c-831fe178a3ed","id":"1e08e28e-bc6b-47e5-aae9-8e2af5a644e0"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"4a675cf6-4d2a-4652-91a7-9b6cb087aadc","id":"d0ae509e-e5d3-4d89-a99a-5f4c2f9ccf10"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"2d21da46-812f-483e-b079-8babf210dad7","id":"f159b94e-ccee-44f2-952d-a5a9d43c54a9"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"c2c8f456-e1e7-49c6-a274-c7e67aa19c5d","id":"7adcbfe8-2d98-4bdd-b92b-0304c300363e"},{"source":"68992b80-e78b-48fc-a254-2f052daf87a5","target":"1aecc651-c68e-4d94-a640-e95789a19c04","id":"6a4c5082-319f-4cc9-9a0d-05688d594928"},{"source":"cb84d46f-4381-4deb-a267-96a7b6e94e42","target":"c23020e9-eed8-40ad-a4ec-5174abcdc485","id":"595d0fa4-9449-4e34-b50b-c0ba7402ae25"},{"source":"c23020e9-eed8-40ad-a4ec-5174abcdc485","target":"bfe38371-310b-4dc6-b8f5-d6c800f09450","id":"a47cd70c-14e8-400b-a93f-bc762060b768"},{"source":"03209711-b035-4fbe-b673-6467a737b7f9","target":"ca4448cf-490e-4847-9d6a-182cf78277ca","id":"4a737813-22b7-465e-a555-4097302307fc"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"e8adb2fb-56cd-4944-9154-f90a3992d39e","id":"04e5d5b8-8612-4104-9ac2-88755544dec7"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"75e84088-68d2-4b0b-a7a2-987a82b8a9ba","id":"a57635ef-69e2-46ba-af33-9ea89534b84e"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"39f5f019-e88b-4fdb-b46c-3fa358c0d6ff","id":"555b5d0f-7cd1-48d3-947b-9618cd089bbf"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"aed7bdff-9453-4632-a980-6e62b63cc397","id":"e52e4ce7-77ab-425a-b5d3-614843bd6a97"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"71ec145f-677e-4a15-91d0-c6f61cf7c462","id":"091afe99-8276-47c9-bab9-e28ef579a86b"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"68992b80-e78b-48fc-a254-2f052daf87a5","id":"244e37d4-ff21-415a-825d-4fef5c4d1948"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"002a6b22-7151-42a0-8f38-f1938f0fcdac","id":"cd66cd69-f45f-4609-a61f-639bc0061cc6"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"1a601676-9781-4a1b-b20f-83233d7f9434","id":"8c9511d5-281d-43f6-b20f-e2f76b640ab4"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"5a2039dd-cdd6-487d-9984-a65137c5afa0","id":"db6157b2-6d41-4cc1-893f-4697dff33cea"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"99282fe1-44d2-4049-b306-1a8032027049","id":"f69aa1c3-ab93-4da7-a46a-390cf25e425d"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"4af637eb-70bc-4a5a-a9a0-688379de8f13","id":"c7c12129-a8bb-4a8c-82e6-29bc0cf0889c"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"1af598f5-a0a9-4c13-8c45-097d97174f60","id":"c166dc29-3faf-4242-8a43-c5c72c90d020"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"d9ab1cd1-645e-4ff6-a719-9140c83c6cee","id":"c7609e9e-ba49-413c-b721-03990f9908d0"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"a39b444f-84cd-48f4-9933-2508b468c09b","id":"5ca495e2-4509-4b04-a080-3cf669fdda73"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"cc22f81c-beff-4ede-9d8b-ab30852381ff","id":"1f8342b3-6f2b-427f-ac42-0a62e013b857"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"ae831e94-a8fd-4de4-ba80-657179c4888b","id":"71fa79de-7f7c-499c-8e43-734b1f8cefda"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"c2c8f456-e1e7-49c6-a274-c7e67aa19c5d","id":"0023f304-9709-462c-abb6-49934e2263d0"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"b6e74dda-afd6-4842-8cc5-b834630455c5","id":"5e03307c-7eb4-486d-9892-018e40a321ec"},{"source":"64422459-c648-464f-9c5e-0e8f814abd7e","target":"13f85796-aa8e-4aeb-9572-ff5aba012c9d","id":"cab78d47-1db5-449d-a09b-a6386d1331fb"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"8935a0bb-b3ea-494d-8e67-c7cb18467f7a","id":"e300c14a-30f0-43c0-ab15-a18253a027df"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"33151a0c-8017-4550-b022-79e4d4d8484b","id":"1d98bcdc-c0e2-443d-9679-b35f956218ee"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"9a254e31-617e-4044-94d6-ef0a30eb540a","id":"6415ff0d-2b97-4cdc-b2e9-ae708d643271"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"9e1dc48c-69e8-4a74-adf0-2b6a6f8adc2b","id":"44704043-02a5-46c6-9536-cfbd0543d01a"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"8975e01b-95ff-431a-a00b-2223ca4e6d00","id":"4c148adb-bf06-4c86-8f23-52d667d02ae0"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"68053c72-9ecf-48eb-9c33-bfa9fef1bd18","id":"1e0dbae8-30bb-4ae1-af03-aff5b8c0b94f"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"c90282ce-d12c-4bd6-924c-2faa53ce25cf","id":"87d77ee8-3e01-405d-b0c1-879f8e3bdd2c"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"832a2372-1474-4ec5-a82c-1344053d9a11","id":"582f07d9-3a1b-4a10-b6ff-676d670ed805"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"7977d738-8791-4a3a-9b48-265a4bb0d57c","id":"bd28c5dc-c958-4bd8-b4db-084818261783"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"04511e92-5240-453c-9c0e-4d632ab26734","id":"e3b427ac-e422-40be-b50e-ff032834af67"},{"source":"b9140ebb-fd77-46bd-9f29-bc53226f40ed","target":"225cd769-59af-4c54-a353-6e3bdca27e69","id":"34c8845e-2ca4-4113-a48f-fabec3cea186"},{"source":"6476d742-b599-426c-9e0b-aa56b0ef9c2e","target":"8b7badd5-60df-4e93-900f-8d3712cd74d5","id":"e946aa34-b3ab-4a6f-ba81-79b9b6d7b284"},{"source":"225cd769-59af-4c54-a353-6e3bdca27e69","target":"881b14e2-4fde-47b1-b5cb-79063a75b323","id":"3d95036b-54c8-448d-867c-5f3ce27e1819"},{"source":"b6e74dda-afd6-4842-8cc5-b834630455c5","target":"82f1da7a-e819-45bf-9c55-4dc2bfc086c9","id":"244cf8cb-9fe7-46bf-ae28-c23224abf28e"},{"source":"13f85796-aa8e-4aeb-9572-ff5aba012c9d","target":"c7fd92b1-948c-4672-b80b-083eac0689b8","id":"5ef0ca95-e376-4027-8c97-1744af4138bb"},{"source":"13f85796-aa8e-4aeb-9572-ff5aba012c9d","target":"6ccfb467-f3c6-4e6e-9204-e84b3a907776","id":"405aea36-7d23-4fc9-b516-7a47d97322c4"}],"name":"морфин","maxLevel":10,"levelsInfo":{"levelNodesCount":{"0":33,"1":1,"2":1,"3":6,"4":2,"5":12,"6":30,"7":34,"8":6,"9":4}},"isParse":true}
            const window_params = {"width":1200,"height":600,"xStep":50,"yStep":100}

            console.log(graphData)

            

            if (graphData){
                const svg = d3.select("svg")
                svg.selectAll("*").remove() // Очистка предыдущего графа

                svg.attr("width",   window_params.width) //Устанавливает атрибут width
                .attr("height",   window_params.height)
                .append("g").attr('class', 'group') //добавляет новый элемент, тег которого передается в метод в качестве параметра

                const svgGroup = svg.select('g.group')

                // Масштабирование и перемещение
                const zoom = d3.zoom()
                .scaleExtent([0.1, 10])
                .on("zoom", (event)=>{ //Обновление позиционирования элементов при масштабировании
                    svgGroup.attr("transform", event.transform);
                });
                svg.call(zoom);


                const dragstarted = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0.3).restart(); // Увеличиваем "температуру" симуляции для более плавного движения
                    d.fx = d.x; // Фиксируем позицию узла
                    d.fy = d.y;
                }
                
                const dragged = (event, d)=>{
                    d.fx = event.x; // Обновляем фиксированные координаты узла
                    d.fy = event.y;
                }
                
                const dragended = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0); // Охлаждаем симуляцию после перетаскивания
                    d.fx = null; // Отпускаем узел, позволяя симуляции снова влиять на его позицию
                    d.fy = null;
                }

                // Создаем обработчик drag
                const drag = d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);


                // Определение маркера стрелки
                svgGroup.append("defs")
                .append("marker")
                .attr("id", "arrowhead")
                .attr("markerWidth", 5) //Размер области, в которой будет отображаться маркер
                .attr("markerHeight", 4)
                .attr("refX", nodeView.r+4)
                .attr("refY", 2)
                .attr("orient", "auto")
                .append("polygon")
                .attr("points", "0 0, 5 2, 0 4")
                .style("fill", colors.link);

                
                //Добавление ссылок
                let links = svgGroup.append("g").attr('class', 'links')
                .selectAll('.link')
                .data(graphData.links) //Добавление данных
                .enter() //Нужен для ввода дополнительных значений (так как data привязывает только первое)
                .append('path')
                .attr('class', 'link')
                .attr('stroke', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return colors.selectLink
                    return colors.link
                }) // Цвет линии ребра
                .attr('stroke-width', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return 2
                    return 1
                }) // Ширина линии ребра
                .attr("marker-end", "url(#arrowhead)") // Добавление стрелки в конец ребра
                .style('pointer-events', 'none') //(устанавливает стиль) Отключение событий на ребрах (клики и т.д.)

                // Создание узлов
                let nodes = svgGroup.append("g").attr('class', 'nodes')
                .selectAll('.node')
                .data(graphData.nodes)
                .enter()
                .append('g')
                .attr('class', 'node')
                .call(drag);

                nodes.append('circle')
                .attr('class', 'node')
                .attr('id', d => d.id)
                .attr('r', d => d.r) // Радиус узла
                .attr('fill', d=>{
                    //if(selectedNodes.sourseNode === d.id || selectedNodes.targetNode === d.id) return colors.selectNode
                    return colors.node
                }) // Цвет заполнения
                .attr("cursor", "pointer")
                .on('click', (event, d) => {
                    // Добавьте логику для обработки клика по узлу
                });

                //Отображение текста v2
                nodes.append('foreignObject')
                .attr('x', d => -d.r * 0.8)
                .attr('y', d => -d.r * 0.8)
                .attr('width', d => d.r * 1.6)
                .attr('height', d => d.r * 1.6)
                .append('xhtml:div')
                .style('display', 'flex')
                .style('justify-content', 'center')
                .style('align-items', 'center')
                .style('width', '100%')
                .style('height', '100%')
                .style('font-size', '5px')
                .style('text-anchor', 'middle')
                .style('word-wrap', 'break-word')
                .style('overflow', 'hidden')
                .style('pointer-events', 'none')
                .text(d => d.name);

                //Создание симуляции силы v3
                const simulation = d3.forceSimulation(graphData.nodes)
                // Связи между узлами
                .force("link", d3.forceLink(graphData.links).id(d => d.id))//.distance(nodeView.r*10)) //!!! Сила в зависимости от количества узлов в уровне!!!!!
                // Отталкивание узлов
                .force("charge", d3.forceManyBody(graphData.nodes).strength(d=>graphData.levelsInfo.levelNodesCount[d.level]*(-100)))//-3000))
                // Центрирование по x
                .force("center", d3.forceCenter( window_params.width / 2,  window_params.height / 2))
                // Выравнивание по уровням
                .force("y", d3.forceY().strength(6)
                    .y(d =>  window_params.height * ((d.level+1) / (graphData.maxLevel-1)))) //!!!!!!!!!!Уровень с большим числом узлов шире, чем с меньшим
                // Отталкивание по x в рамках одного уровня
                .force("x", d3.forceX().strength(0.05)
                    .x( window_params.width / 2))
                // Дополнительная сила для предотвращения наложения узлов
                .force("collision", d3.forceCollide().radius(40));

                // Обновление позиций узлов и связей при каждой итерации симуляции
                //Обновление симуляции
                simulation.on('tick', () => {
                    links.attr("d", d => `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`);
                    nodes.attr('transform', d => `translate(${d.x}, ${d.y})`); // Правильная позиция для групп
                });
            }
        </script>
    </body>
</html>