<!DOCTYPE html>
<html>
    <head>
        <title>морфин</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/index.css">
        <style>
            .Graphcontainer{
                width: 98%;
                height: 85vh;

                border: solid 0.5px black;
                border-radius: 7px;
            }

            .svgGraph{
                width: 100%;
                height: 100%;
            }   
        </style>
        <script src="./d3.v7.js"></script>
    </head>
    <body>
        <main>
            <div class="flex jc-center">
                <h1>морфин</h1>
            </div>
            <br/>
            <div class='Graphcontainer' >
                <svg class='svgGraph'> </svg>
            </div>
        </main>

        <script>
            const colors = {
                selectNode: "#E8BD6D",
                selectLink: "#8B7474",
                node: "#E9EEF4",
                link: '#B8B5B5'
            }

            const nodeView = {
                r: 30
            }

            const graphData = {"directed":true,"multigraph":false,"graph":{},"nodes":[{"label":"group","weight":5,"id":"c3240717-88db-4e91-9b1c-116668a4cff3","name":"опиоид","level":1,"r":30,"y":260,"x":1200},{"label":"prepare","weight":5,"id":"39bd4f04-fd4d-4590-969f-7aac2d538b9f","name":"морфин","level":2,"r":30,"y":390,"x":1200},{"label":"mechanism","weight":5,"id":"2c189555-8c8f-4209-a9fe-00769c912ebb","name":"обладать высокий сродство к µ-опиоидный рецептор","level":4,"r":30,"y":650,"x":600},{"label":"excretion","weight":5,"id":"344add0f-2997-43b0-8802-f1dce33dc0d5","name":"моча","level":3,"r":30,"y":520,"x":200},{"label":"side_e","weight":5,"id":"23892201-781b-4b52-88c5-b52ac5e5ba2c","name":"некардиогенный отёк лёгкий","level":0,"r":30,"y":130,"x":36.36363636363637},{"label":"side_e","weight":5,"id":"d8492d0f-c49a-4dca-93ff-db78b6211969","name":"поражение зуб","level":0,"r":30,"y":130,"x":116.36363636363637},{"label":"action","weight":5,"id":"5b2ea563-f9a2-4fdf-a007-1343f159583a","name":"приводить к разнообразный психический нежелательный реакция","level":3,"r":30,"y":520,"x":280},{"label":"side_e","weight":5,"id":"fa6b1edd-d35e-48bf-a0f5-63d1edba6326","name":"рецидив герпетический поражение губа","level":0,"r":30,"y":130,"x":196.36363636363637},{"label":"side_e","weight":5,"id":"ada2badf-0016-45e8-9d74-6091e86eeebd","name":"анафилактический и анафилактоидный реакция","level":0,"r":30,"y":130,"x":276.3636363636364},{"label":"side_e","weight":5,"id":"55bce38a-0068-44d7-8cb8-ed5e63b29106","name":"синдром неадекватный продукция антидиуретический гормон","level":0,"r":30,"y":130,"x":356.3636363636364},{"label":"side_e","weight":5,"id":"0cc07375-1421-4e36-8d38-b5cae4beaac7","name":"изменение когнитивный и сенсорный способность","level":0,"r":30,"y":130,"x":436.3636363636364},{"label":"side_e","weight":5,"id":"42b17db8-c4c9-4888-bcc5-f1d47c48d346","name":"когнитивный нарушение/галлюцинация","level":0,"r":30,"y":130,"x":516.3636363636364},{"label":"side_e","weight":5,"id":"39172cef-8c0e-4662-aea7-a7753a798d8f","name":"извращение вкус","level":0,"r":30,"y":130,"x":596.3636363636364},{"label":"side_e","weight":5,"id":"949ff6db-c1c5-442d-9128-85c2c3ec82b1","name":"гранулёма в область кончик катетер","level":0,"r":30,"y":130,"x":676.3636363636364},{"label":"side_e","weight":5,"id":"40b41a7b-7bcf-4dd0-bfc7-c99b52d9bf3c","name":"нистагм","level":0,"r":30,"y":130,"x":756.3636363636364},{"label":"side_e","weight":5,"id":"c958727e-710c-4bd7-a5d0-545e34f22f28","name":"снижение и повышениесердечный сокращение","level":0,"r":30,"y":130,"x":836.3636363636364},{"label":"side_e","weight":5,"id":"ea6bc97a-2833-420f-bae9-f6df8b4ea976","name":"ощущение сердцебиение","level":0,"r":30,"y":130,"x":916.3636363636364},{"label":"side_e","weight":5,"id":"707cabcf-c56a-4fb7-b24e-02b38241fbe8","name":"сердечный недостаточность","level":0,"r":30,"y":130,"x":996.3636363636364},{"label":"side_e","weight":5,"id":"4bcf5e34-2390-461d-94d7-ae295ada52dd","name":"повышение активность панкреатический фермент","level":0,"r":30,"y":130,"x":1076.3636363636365},{"label":"side_e","weight":5,"id":"e2d781a0-e195-4314-bdb4-cd2fee476ed0","name":"сухость в рот","level":0,"r":30,"y":130,"x":1156.3636363636365},{"label":"side_e","weight":5,"id":"b80eef70-7a73-4b1d-8f90-d3ba120ed7bc","name":"жёлчный колика","level":0,"r":30,"y":130,"x":1236.3636363636365},{"label":"side_e","weight":5,"id":"b428bb32-bb50-40a0-ad2c-4b5ff6cdf8e9","name":"реакция гиперчувствительность","level":0,"r":30,"y":130,"x":1316.3636363636365},{"label":"side_e","weight":5,"id":"5a7bf391-0b3c-4146-8695-ba40cea6b042","name":"другой вид сыпь","level":0,"r":30,"y":130,"x":1396.3636363636365},{"label":"side_e","weight":5,"id":"1e86a699-1108-4f46-8afb-1579d94a8105","name":"экзантема","level":0,"r":30,"y":130,"x":1476.3636363636365},{"label":"side_e","weight":5,"id":"ab12ca7f-fc41-4e69-b954-e51aec785c03","name":"покраснение лицо","level":0,"r":30,"y":130,"x":1556.3636363636365},{"label":"side_e","weight":5,"id":"95ef673a-6041-476e-bddb-7f9fe5a40914","name":"насильственный подёргивание мышца","level":0,"r":30,"y":130,"x":1636.3636363636365},{"label":"side_e","weight":5,"id":"049004a4-6032-4568-b00d-37cd1e49d8b9","name":"мочеиспускание","level":0,"r":30,"y":130,"x":1716.3636363636365},{"label":"side_e","weight":5,"id":"5f5700f6-5dbc-4796-8319-a98df80c07c8","name":"аменорея","level":0,"r":30,"y":130,"x":1796.3636363636365},{"label":"side_e","weight":5,"id":"49ef2c3c-1503-48b3-9327-8646259b4e50","name":"снижение либидо","level":0,"r":30,"y":130,"x":1876.3636363636365},{"label":"side_e","weight":5,"id":"428fff53-1873-4078-8c02-37da0fc79da8","name":"потенция","level":0,"r":30,"y":130,"x":1956.3636363636365},{"label":"side_e","weight":5,"id":"edfa80b0-c154-4f7f-9edc-2146fd9bc21b","name":"слабость","level":0,"r":30,"y":130,"x":2036.3636363636365},{"label":"side_e","weight":5,"id":"7fcb77d1-d017-4a79-9522-e8d43b0c5ec3","name":"лекарственный зависимость","level":0,"r":30,"y":130,"x":2116.3636363636365},{"label":"side_e","weight":5,"id":"9afe96d0-4537-49b2-9aca-34fd06b5748c","name":"толерантность","level":0,"r":30,"y":130,"x":2196.3636363636365},{"label":"group","weight":5,"id":"faf57e7b-6b41-4076-95d7-3e16d1e43816","name":"средство, угнетать цнс","level":0,"r":30,"y":130,"x":2276.3636363636365},{"label":"side_e","weight":5,"id":"68a7f3dc-7c6d-4b01-a7be-bbf5cfe4a6f3","name":"нарушение мочеиспускание","level":7,"r":30,"y":1040,"x":35.294117647058826},{"label":"side_e","weight":5,"id":"064fd817-15a5-43cb-82ea-87c3d23897cb","name":"серотониновый синдром","level":0,"r":30,"y":130,"x":2356.3636363636365},{"label":"mechanism","weight":5,"id":"6676ed94-df63-47b7-b2b1-eb6a1b8ff473","name":"агонистом опиоидных рецепторов","level":3,"r":30,"y":520,"x":360},{"label":"side_e","weight":5,"id":"40a80f5f-f37a-4007-9596-9ca8c8e80755","name":"запор","level":6,"r":30,"y":910,"x":40},{"label":"side_e","weight":5,"id":"1d4a93dd-c116-41e4-b7ca-545557cd5332","name":"зуд","level":7,"r":30,"y":1040,"x":115.29411764705883},{"label":"side_e","weight":5,"id":"971a8507-136c-4588-b1d1-77072b0db102","name":"крапивница","level":7,"r":30,"y":1040,"x":195.29411764705884},{"label":"side_e","weight":5,"id":"a9ebe1cc-92ee-4fe8-9404-4353d7a33da4","name":"эритема","level":6,"r":30,"y":910,"x":120},{"label":"side_e","weight":5,"id":"485fb183-3cc4-47aa-b832-b751c2b3ce28","name":"замедление опорожнение желудок","level":6,"r":30,"y":910,"x":200},{"label":"side_e","weight":5,"id":"39d9b155-8c93-44da-9ee5-44b4b5d30171","name":"сокращение сфинктер желчевыводить путь","level":6,"r":30,"y":910,"x":280},{"label":"side_e","weight":5,"id":"56af59b1-9420-4d98-9562-9ffa8dfff8ce","name":"повышение тонус мышца","level":6,"r":30,"y":910,"x":360},{"label":"mechanism","weight":5,"id":"487e3366-32b5-46df-8ae6-7035b11f4a5a","name":"высвобождение гистамин","level":6,"r":30,"y":910,"x":440},{"label":"action","weight":5,"id":"e3e44b5b-0963-4a5c-9b46-ad39ad262cfe","name":"влияние на гипоталамогипофизарный ось","level":6,"r":30,"y":910,"x":520},{"label":"group","weight":5,"id":"7429abbc-ca32-48d1-8850-8840c49d3950","name":"кортикостероид","level":9,"r":30,"y":1300,"x":300},{"label":"hormone","weight":5,"id":"81d2f987-f65d-4a3b-b90f-0ad19f092e51","name":"пролактин","level":9,"r":30,"y":1300,"x":380},{"label":"hormone","weight":5,"id":"83032f22-f515-4994-8f43-778d420cd946","name":"антидиуретический гормон","level":9,"r":30,"y":1300,"x":460},{"label":"action","weight":5,"id":"e8ede176-fc5f-4d97-bc5d-77e4bc77f937","name":"нарушение","level":7,"r":30,"y":1040,"x":275.29411764705884},{"label":"action","weight":5,"id":"4423acad-b78c-4b4f-a035-6cc4c9b60117","name":"продукция","level":8,"r":30,"y":1170,"x":200},{"label":"action","weight":5,"id":"86b03667-c204-42e1-a79d-2517cf074620","name":"действие","level":8,"r":30,"y":1170,"x":280},{"label":"prot_link","weight":5,"id":"876f5dcb-aba8-4b0b-9447-9639db693750","name":"связываться с белок плазма кровь","level":3,"r":30,"y":520,"x":440},{"label":"metabol","weight":5,"id":"10c26420-37e4-45af-a27f-4dc800fe068c","name":"печень","level":3,"r":30,"y":520,"x":520},{"label":"metabol","weight":5,"id":"13622dc0-e42b-4b9f-90b8-54f5c9ab832d","name":"эпителий кишечник","level":3,"r":30,"y":520,"x":600},{"label":"side_e","weight":5,"id":"a1beb6c1-a95c-44c5-8e20-200bbb0ba62d","name":"панкреатит","level":6,"r":30,"y":910,"x":600},{"label":"side_e","weight":5,"id":"233d4e8f-1ca7-4220-aa08-c15a4decfb95","name":"эйфория","level":6,"r":30,"y":910,"x":680},{"label":"side_e","weight":5,"id":"d6479a11-8411-4dde-82c9-cea23cdc8773","name":"дисфория","level":6,"r":30,"y":910,"x":760},{"label":"side_e","weight":5,"id":"4d789d7e-f2ca-4da0-b2a4-240a8dfe3444","name":"беспорядочность мысль","level":6,"r":30,"y":910,"x":840},{"label":"side_e","weight":5,"id":"bb4b9a2c-4260-42c6-b2b1-71b7e803623b","name":"бессонница","level":6,"r":30,"y":910,"x":920},{"label":"side_e","weight":5,"id":"9a1a5b3a-b1c7-44d1-bb5a-869ae1c9acac","name":"бронхоспазм","level":7,"r":30,"y":1040,"x":355.29411764705884},{"label":"side_e","weight":5,"id":"27e8dd4d-ef38-4562-aec0-4b6b3d4e28cf","name":"вызывать различный степень седации","level":6,"r":30,"y":910,"x":1000},{"label":"side_e","weight":5,"id":"a665f934-4081-4a03-8b20-b4740801d497","name":"гиперальгезия","level":6,"r":30,"y":910,"x":1080},{"label":"side_e","weight":5,"id":"cc93cb69-99ae-47fd-9b1a-1cd4f1ae36e7","name":"гипертермия","level":7,"r":30,"y":1040,"x":435.29411764705884},{"label":"side_e","weight":5,"id":"1ab10d72-3be6-4797-8c1d-57d077d3bf22","name":"гипоксия","level":8,"r":30,"y":1170,"x":360},{"label":"side_e","weight":5,"id":"1ceef009-979b-4aa1-a3e8-b337460a14ab","name":"сужение зрачок","level":0,"r":30,"y":130,"x":2436.3636363636365},{"label":"side_e","weight":5,"id":"6ef3d9fb-50d4-4ee6-90a7-02184bf21f5a","name":"кома","level":7,"r":30,"y":1040,"x":515.2941176470588},{"label":"side_e","weight":5,"id":"a9663835-6718-4c91-9976-a306e95fe8ba","name":"смерть","level":0,"r":30,"y":130,"x":2516.3636363636365},{"label":"mechanism","weight":5,"id":"c3ae72bf-7dd0-4184-86ee-df35bc6b4fac","name":"миорелаксировать действие","level":6,"r":30,"y":910,"x":1160},{"label":"group","weight":5,"id":"4948595a-fe2c-4d4c-b317-6d7f01534734","name":"анальгетик","level":0,"r":30,"y":130,"x":2596.3636363636365},{"label":"side_e","weight":5,"id":"b0c56b47-025c-49f3-a67e-42e92c0337c4","name":"синдром «отмена»","level":6,"r":30,"y":910,"x":1240},{"label":"side_e","weight":5,"id":"b83fadab-5f97-4d97-ae01-8b52d7e61f13","name":"диарея","level":7,"r":30,"y":1040,"x":595.2941176470588},{"label":"side_e","weight":5,"id":"3fc4bc3f-d648-46dc-b142-e6808df77702","name":"тахикардия","level":7,"r":30,"y":1040,"x":675.2941176470588},{"label":"side_e","weight":5,"id":"a40d689f-4564-4d78-bf33-46e05a070c2d","name":"мидриаз","level":7,"r":30,"y":1040,"x":755.2941176470588},{"label":"side_e","weight":5,"id":"17e1c33b-136a-46ca-9484-2cab76d111ce","name":"ринит","level":7,"r":30,"y":1040,"x":835.2941176470588},{"label":"side_e","weight":5,"id":"51fb39b0-b239-4ff9-9c69-839235e8e8a7","name":"чихание","level":7,"r":30,"y":1040,"x":915.2941176470588},{"label":"side_e","weight":5,"id":"95b9561c-e3eb-44f3-bf1f-5831301a980e","name":"потливость","level":7,"r":30,"y":1040,"x":995.2941176470588},{"label":"side_e","weight":5,"id":"73119273-223d-4fc7-8908-10e04913e001","name":"зевота","level":7,"r":30,"y":1040,"x":1075.2941176470588},{"label":"side_e","weight":5,"id":"6200f98c-420d-4ae3-a03d-6924b4a1a249","name":"анорексия","level":8,"r":30,"y":1170,"x":440},{"label":"side_e","weight":5,"id":"188181c9-4766-4e40-a041-ac8af865ed45","name":"астения","level":9,"r":30,"y":1300,"x":540},{"label":"side_e","weight":5,"id":"892f4ed5-6d13-4efa-8144-2d2856646ad8","name":"тошнота","level":7,"r":30,"y":1040,"x":1155.2941176470588},{"label":"side_e","weight":5,"id":"813955ac-42b0-4b14-9b62-9f272cbf318a","name":"рвота","level":7,"r":30,"y":1040,"x":1235.2941176470588},{"label":"side_e","weight":5,"id":"e9e32d91-7035-4199-a8f8-f7e1f7692466","name":"нервозность","level":7,"r":30,"y":1040,"x":1315.2941176470588},{"label":"side_e","weight":5,"id":"17362e42-9ffb-4604-a552-5e40cbd7ecec","name":"усталость","level":7,"r":30,"y":1040,"x":1395.2941176470588},{"label":"side_e","weight":5,"id":"1e239fbc-48cf-44eb-bef6-973a1c5e3586","name":"раздражительность","level":7,"r":30,"y":1040,"x":1475.2941176470588},{"label":"side_e","weight":5,"id":"f67c0649-7f94-4b7d-90b3-81e5a922a265","name":"тремор","level":7,"r":30,"y":1040,"x":1555.2941176470588},{"label":"side_e","weight":5,"id":"5459c8cb-6b2c-4324-8a56-c82e01391297","name":"спазм в желудок","level":7,"r":30,"y":1040,"x":1635.2941176470588},{"label":"side_e","weight":5,"id":"898f17e4-0639-49a4-82a8-cf44f15ad4f1","name":"общий слабость","level":7,"r":30,"y":1040,"x":1715.2941176470588},{"label":"side_e","weight":5,"id":"5f39232e-5144-43e9-b5d0-a7cf305398ef","name":"мышечный сокращение","level":7,"r":30,"y":1040,"x":1795.2941176470588},{"label":"side_e","weight":5,"id":"7b9fbeae-2274-4775-84f6-2fdaa3c29134","name":"головной боль","level":7,"r":30,"y":1040,"x":1875.2941176470588},{"label":"side_e","weight":5,"id":"3e3fb309-2359-43e6-a7e5-54725684adf2","name":"повышение артериальный давление","level":7,"r":30,"y":1040,"x":1955.2941176470588},{"label":"side_e","weight":5,"id":"baaf89bc-e408-4e3a-bfbd-488532636529","name":"другой вегетативный симптом","level":7,"r":30,"y":1040,"x":2035.2941176470588},{"label":"side_e","weight":5,"id":"14cda1e9-fdd3-4ac1-b9dd-d74dcfc19f32","name":"диплопия","level":6,"r":30,"y":910,"x":1320},{"label":"side_e","weight":5,"id":"f7ee62bb-dbd1-4d09-96bf-080bce140818","name":"помутнение зрение","level":6,"r":30,"y":910,"x":1400},{"label":"side_e","weight":5,"id":"2b1f508b-863f-4754-baa7-d2e2c23da182","name":"ригидность мышца","level":6,"r":30,"y":910,"x":1480},{"label":"side_e","weight":5,"id":"f7f643a4-378b-4236-ad58-7d342d5311fc","name":"одышка","level":7,"r":30,"y":1040,"x":2115.2941176470586},{"label":"side_e","weight":5,"id":"2aae5416-15bf-4e38-81b9-587c36536102","name":"диспепсия","level":7,"r":30,"y":1040,"x":2195.2941176470586},{"label":"side_e","weight":5,"id":"289f751b-7dec-4270-975a-bfbbe1bf3892","name":"снижение аппетит","level":7,"r":30,"y":1040,"x":2275.2941176470586},{"label":"side_e","weight":5,"id":"781dd070-695e-4cca-8006-b1f70adfc919","name":"озноб","level":8,"r":30,"y":1170,"x":520},{"label":"side_e","weight":5,"id":"c7948deb-353e-4425-8bca-3306f0099cce","name":"эректильный дисфункция","level":6,"r":30,"y":910,"x":1560},{"label":"side_e","weight":5,"id":"1053feb0-7ed0-4434-993b-167cde0b61ce","name":"повышение активность печёночный фермент","level":4,"r":30,"y":650,"x":680},{"label":"side_e","weight":5,"id":"c911e372-4fa2-456f-a425-771ade186ba6","name":"спазм мышца","level":7,"r":30,"y":1040,"x":2355.2941176470586},{"label":"side_e","weight":5,"id":"2ac7f198-c6a2-4aa9-9451-4dcd85dbe999","name":"судорога","level":7,"r":30,"y":1040,"x":2435.2941176470586},{"label":"side_e","weight":5,"id":"316c0f9e-ba5c-4616-8056-af7ca2884bde","name":"мышечный боль","level":8,"r":30,"y":1170,"x":600},{"label":"side_e","weight":5,"id":"ef3db6d4-c3c9-49eb-aaf6-4e19ca879887","name":"почечный колика","level":7,"r":30,"y":1040,"x":2515.2941176470586},{"label":"side_e","weight":5,"id":"1dcf9c75-bb54-4a49-adb6-4563ec6a6304","name":"серьёзный неврологический нарушение","level":6,"r":30,"y":910,"x":1640},{"label":"side_e","weight":5,"id":"22533739-ec9f-4186-858c-2c7e0e6c123d","name":"изменение настроение","level":6,"r":30,"y":910,"x":1720},{"label":"side_e","weight":5,"id":"2c67273c-d702-4325-9be1-df56189baf1c","name":"спутанность сознание","level":6,"r":30,"y":910,"x":1800},{"label":"side_e","weight":5,"id":"e1464bfd-250a-4d3b-b09a-adfed40a88d4","name":"головокружение","level":6,"r":30,"y":910,"x":1880},{"label":"side_e","weight":5,"id":"e6d9d014-48ef-4949-bacd-356a30781025","name":"паралич","level":7,"r":30,"y":1040,"x":2595.2941176470586},{"label":"side_e","weight":5,"id":"bfc6c8b4-35ac-4ce5-a6ce-a1fd43388b5b","name":"периферический отёк","level":7,"r":30,"y":1040,"x":2675.2941176470586},{"label":"side_e","weight":5,"id":"f056a82c-deb0-4c27-941d-87bf5eb4a625","name":"изменение внимание","level":6,"r":30,"y":910,"x":1960},{"label":"side_e","weight":5,"id":"abf65187-2ae9-4182-bd70-6839d6b66d94","name":"снижение артериальный давление","level":6,"r":30,"y":910,"x":2040},{"label":"action","weight":5,"id":"20e29065-07f0-4554-93e0-867b3ed7864f","name":"действие центральный","level":5,"r":30,"y":780,"x":100},{"label":"action","weight":5,"id":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","name":"действие периферический","level":5,"r":30,"y":780,"x":180},{"label":"action","weight":5,"id":"cfc8e58f-8791-45d6-befd-7a8e6e03ae61","name":"действие центральный анальгезирующий","level":5,"r":30,"y":780,"x":260},{"label":"action","weight":5,"id":"5d84b3ee-bcfd-441a-928c-d36648baedad","name":"действие центральный противокашлевой","level":5,"r":30,"y":780,"x":340},{"label":"action","weight":5,"id":"4e5929ab-0887-4b89-a4cf-e41563678350","name":"действие центральный седативный","level":5,"r":30,"y":780,"x":420},{"label":"action","weight":5,"id":"e4066124-df3c-42ff-95b7-2675192301aa","name":"действие центральный транквилизировать","level":5,"r":30,"y":780,"x":500},{"label":"action","weight":5,"id":"0a71977a-8f37-4477-84d3-594973cc942c","name":"действие центральный миотический","level":5,"r":30,"y":780,"x":580},{"label":"action","weight":5,"id":"0ca2d0bf-77cb-46e9-9aac-730e979bd496","name":"действие центральный рвотное","level":5,"r":30,"y":780,"x":660},{"label":"action","weight":5,"id":"1969cdaf-c1f7-43f9-a4d4-1c2daa41253a","name":"действие центральный антидиуретический","level":5,"r":30,"y":780,"x":740},{"label":"action","weight":5,"id":"1c357a21-3707-4b16-a3e1-13a951005bbb","name":"действие центральный замедлять сердечный ритм","level":5,"r":30,"y":780,"x":820},{"label":"action","weight":5,"id":"7dd854cf-6e67-4c97-8a46-18aa97be2f52","name":"действие центральный гипотензивный","level":5,"r":30,"y":780,"x":900},{"label":"action","weight":5,"id":"87e24874-5a59-4772-af98-b50bd6379f78","name":"действие центральный противорвотный","level":5,"r":30,"y":780,"x":980},{"label":"side_e","weight":5,"id":"e801578f-02e5-42a8-a518-0134b5c3ab1a","name":"повышение тонус мышца мочевой пузырь","level":6,"r":30,"y":910,"x":2120},{"label":"side_e","weight":5,"id":"a041d393-ea29-49c6-9eb8-6fced7d23734","name":"повышение тонус мышца сфинктер мочевой пузырь","level":6,"r":30,"y":910,"x":2200},{"label":"side_e","weight":5,"id":"8261b3b9-a465-4c77-a60b-ddd788e25529","name":"угнетение цнс","level":6,"r":30,"y":910,"x":2280},{"label":"side_e","weight":5,"id":"afd9445f-cacc-4ecf-8dba-848304fcf908","name":"угнетение дыхание","level":6,"r":30,"y":910,"x":2360}],"links":[{"source":"c3240717-88db-4e91-9b1c-116668a4cff3","target":"39bd4f04-fd4d-4590-969f-7aac2d538b9f","id":"69f9f4af-9fbb-4898-b0ee-624003959117"},{"source":"39bd4f04-fd4d-4590-969f-7aac2d538b9f","target":"5b2ea563-f9a2-4fdf-a007-1343f159583a","id":"0f1fd5a4-f40d-4231-aff2-53b88d90974e"},{"source":"39bd4f04-fd4d-4590-969f-7aac2d538b9f","target":"6676ed94-df63-47b7-b2b1-eb6a1b8ff473","id":"758757f4-efb0-498b-adda-d183a08a2e0d"},{"source":"39bd4f04-fd4d-4590-969f-7aac2d538b9f","target":"876f5dcb-aba8-4b0b-9447-9639db693750","id":"4f44415f-a292-4c3a-b66c-de659c6a99ea"},{"source":"39bd4f04-fd4d-4590-969f-7aac2d538b9f","target":"10c26420-37e4-45af-a27f-4dc800fe068c","id":"2c854fe3-7933-4a1a-980b-641342f47943"},{"source":"39bd4f04-fd4d-4590-969f-7aac2d538b9f","target":"13622dc0-e42b-4b9f-90b8-54f5c9ab832d","id":"e4652a00-924b-4f55-a6d3-751928c983d0"},{"source":"39bd4f04-fd4d-4590-969f-7aac2d538b9f","target":"344add0f-2997-43b0-8802-f1dce33dc0d5","id":"eb478449-929e-411c-b19d-2d98143ebc98"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"20e29065-07f0-4554-93e0-867b3ed7864f","id":"d7e0e752-5f49-49d0-8185-8aef6949d8a1"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","id":"cc2ae646-75f6-4132-9515-6711241853c8"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"cfc8e58f-8791-45d6-befd-7a8e6e03ae61","id":"1e8602ca-782b-46e2-8415-10b460b5e8f9"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"5d84b3ee-bcfd-441a-928c-d36648baedad","id":"71ed2b48-fca7-4adb-847c-c208820916a9"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"4e5929ab-0887-4b89-a4cf-e41563678350","id":"f828253f-07b7-4c79-901d-6b796e24308a"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"e4066124-df3c-42ff-95b7-2675192301aa","id":"a34bfcbc-c741-45fe-918d-2d5524a7d007"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"0a71977a-8f37-4477-84d3-594973cc942c","id":"1f5826f7-a886-4380-be1a-3bea19fc0905"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"0ca2d0bf-77cb-46e9-9aac-730e979bd496","id":"a0b8ca0c-6154-42ab-90c7-7cdf870ea72b"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"1969cdaf-c1f7-43f9-a4d4-1c2daa41253a","id":"bba6e597-75ae-4f03-a1b8-8a7524177b47"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"1c357a21-3707-4b16-a3e1-13a951005bbb","id":"362d91f4-0eff-46d7-84a7-4c5f9c93ca45"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"7dd854cf-6e67-4c97-8a46-18aa97be2f52","id":"1bcc0fa7-9978-4f6c-8aff-a11c0e4de84f"},{"source":"2c189555-8c8f-4209-a9fe-00769c912ebb","target":"87e24874-5a59-4772-af98-b50bd6379f78","id":"e0a12db6-c09a-4448-b25a-12c5e7e831df"},{"source":"faf57e7b-6b41-4076-95d7-3e16d1e43816","target":"c3240717-88db-4e91-9b1c-116668a4cff3","id":"f8374349-0acc-4ac3-a72f-aa49567e3284"},{"source":"6676ed94-df63-47b7-b2b1-eb6a1b8ff473","target":"2c189555-8c8f-4209-a9fe-00769c912ebb","id":"1c342433-d673-46e3-b414-e308294fe4f3"},{"source":"485fb183-3cc4-47aa-b832-b751c2b3ce28","target":"2aae5416-15bf-4e38-81b9-587c36536102","id":"fdb61f76-4f38-4011-a695-69220e004071"},{"source":"485fb183-3cc4-47aa-b832-b751c2b3ce28","target":"289f751b-7dec-4270-975a-bfbbe1bf3892","id":"7cab8140-3fe2-4f16-82ed-d0a310009be6"},{"source":"56af59b1-9420-4d98-9562-9ffa8dfff8ce","target":"c911e372-4fa2-456f-a425-771ade186ba6","id":"2453067a-1d7b-4141-831a-c4fa6489fdea"},{"source":"56af59b1-9420-4d98-9562-9ffa8dfff8ce","target":"2ac7f198-c6a2-4aa9-9451-4dcd85dbe999","id":"d1c3df51-115b-4105-9e3a-80b4e5897d49"},{"source":"56af59b1-9420-4d98-9562-9ffa8dfff8ce","target":"ef3db6d4-c3c9-49eb-aaf6-4e19ca879887","id":"3a06a890-ce79-49cf-ae21-068465c7aadd"},{"source":"487e3366-32b5-46df-8ae6-7035b11f4a5a","target":"971a8507-136c-4588-b1d1-77072b0db102","id":"d495d851-6635-4283-908b-fdcc1b4df1f3"},{"source":"487e3366-32b5-46df-8ae6-7035b11f4a5a","target":"1d4a93dd-c116-41e4-b7ca-545557cd5332","id":"fa4377aa-1ba2-4888-a5fd-3cd2de512c1a"},{"source":"487e3366-32b5-46df-8ae6-7035b11f4a5a","target":"9a1a5b3a-b1c7-44d1-bb5a-869ae1c9acac","id":"d9b3e83c-622a-46a4-93ac-1faf67dff395"},{"source":"e3e44b5b-0963-4a5c-9b46-ad39ad262cfe","target":"e8ede176-fc5f-4d97-bc5d-77e4bc77f937","id":"9587205b-c3fb-4d2f-9555-9f44012eca01"},{"source":"e8ede176-fc5f-4d97-bc5d-77e4bc77f937","target":"4423acad-b78c-4b4f-a035-6cc4c9b60117","id":"bbcb65eb-8fa4-4a17-9a3e-4d3aa5bbfd9d"},{"source":"e8ede176-fc5f-4d97-bc5d-77e4bc77f937","target":"86b03667-c204-42e1-a79d-2517cf074620","id":"145e4a66-8cb5-44b2-91df-392ffe1c4322"},{"source":"4423acad-b78c-4b4f-a035-6cc4c9b60117","target":"81d2f987-f65d-4a3b-b90f-0ad19f092e51","id":"4689c490-e29f-4fd1-8999-b86c48469724"},{"source":"4423acad-b78c-4b4f-a035-6cc4c9b60117","target":"7429abbc-ca32-48d1-8850-8840c49d3950","id":"e280c88a-19d1-4bf3-9201-3b7341aaf1a9"},{"source":"4423acad-b78c-4b4f-a035-6cc4c9b60117","target":"83032f22-f515-4994-8f43-778d420cd946","id":"25472a3e-90dd-4e51-a75d-cf22b1e917f7"},{"source":"86b03667-c204-42e1-a79d-2517cf074620","target":"81d2f987-f65d-4a3b-b90f-0ad19f092e51","id":"a7e78bf3-4519-49d4-bbab-612a711ce3a1"},{"source":"86b03667-c204-42e1-a79d-2517cf074620","target":"7429abbc-ca32-48d1-8850-8840c49d3950","id":"9773e889-018a-4555-9c60-a02141781451"},{"source":"86b03667-c204-42e1-a79d-2517cf074620","target":"83032f22-f515-4994-8f43-778d420cd946","id":"7fdf368d-3f89-48e8-b7bd-f4e67344295e"},{"source":"10c26420-37e4-45af-a27f-4dc800fe068c","target":"1053feb0-7ed0-4434-993b-167cde0b61ce","id":"614e4380-8e48-4f59-9100-4fc214a580b5"},{"source":"9a1a5b3a-b1c7-44d1-bb5a-869ae1c9acac","target":"1ab10d72-3be6-4797-8c1d-57d077d3bf22","id":"cdbc1034-1956-41a4-a5c8-b9277f72b903"},{"source":"27e8dd4d-ef38-4562-aec0-4b6b3d4e28cf","target":"6ef3d9fb-50d4-4ee6-90a7-02184bf21f5a","id":"35e2d3b4-877a-415b-9614-1da410550449"},{"source":"cc93cb69-99ae-47fd-9b1a-1cd4f1ae36e7","target":"781dd070-695e-4cca-8006-b1f70adfc919","id":"720ede72-78de-44f3-a0b4-4d7b80634b43"},{"source":"c3ae72bf-7dd0-4184-86ee-df35bc6b4fac","target":"bfc6c8b4-35ac-4ce5-a6ce-a1fd43388b5b","id":"3a2c7e40-90f6-45eb-96e0-da9d52ce04f7"},{"source":"4948595a-fe2c-4d4c-b317-6d7f01534734","target":"c3240717-88db-4e91-9b1c-116668a4cff3","id":"ba276636-2e6d-4a67-8b70-b9890b643592"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"b83fadab-5f97-4d97-ae01-8b52d7e61f13","id":"9afb1eee-6f83-499b-a0e5-54fd67b927b0"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"3fc4bc3f-d648-46dc-b142-e6808df77702","id":"7d368576-c077-44a0-aa8c-bc2c2b004c32"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"a40d689f-4564-4d78-bf33-46e05a070c2d","id":"1819bbba-7ba8-4a3b-ad64-7dafd66c9fa4"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"cc93cb69-99ae-47fd-9b1a-1cd4f1ae36e7","id":"ebc6513f-85dd-4228-885e-d4bda1eb28df"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"17e1c33b-136a-46ca-9484-2cab76d111ce","id":"60b93446-5f4b-4d29-8739-265c486485f9"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"51fb39b0-b239-4ff9-9c69-839235e8e8a7","id":"2eb9f26f-ee4c-43fc-9f03-df4d6922ebb3"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"95b9561c-e3eb-44f3-bf1f-5831301a980e","id":"23ad0f1b-473d-47be-850b-128e96c75bd5"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"73119273-223d-4fc7-8908-10e04913e001","id":"ca80307a-e8f7-4bdb-b3c3-e2f94cba7c4f"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"892f4ed5-6d13-4efa-8144-2d2856646ad8","id":"30b2b12f-ff54-4eb9-af6f-022133e872ef"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"813955ac-42b0-4b14-9b62-9f272cbf318a","id":"892c3cad-268c-49e3-bf29-7d6a089d2df3"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"e9e32d91-7035-4199-a8f8-f7e1f7692466","id":"b28ea3e7-65c5-4095-8431-68c9f1da006c"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"17362e42-9ffb-4604-a552-5e40cbd7ecec","id":"5775f80d-a3e0-4e33-947f-defe1274beb1"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"1e239fbc-48cf-44eb-bef6-973a1c5e3586","id":"3205aa64-040f-44c3-a38f-b40f806c98b6"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"f67c0649-7f94-4b7d-90b3-81e5a922a265","id":"2d661517-0a15-4c6e-be70-0186693f5b2b"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"5459c8cb-6b2c-4324-8a56-c82e01391297","id":"418ee9df-d473-408e-be0c-d1da9eb903b3"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"898f17e4-0639-49a4-82a8-cf44f15ad4f1","id":"3675b3a8-c24f-40a3-918a-129ff0d2506f"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"5f39232e-5144-43e9-b5d0-a7cf305398ef","id":"28805d8c-21bc-4469-936f-45dc09c53b74"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"7b9fbeae-2274-4775-84f6-2fdaa3c29134","id":"839d6c1c-fa65-4c88-be96-5d3b09ee0005"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"3e3fb309-2359-43e6-a7e5-54725684adf2","id":"bdfcda0b-9a4d-42fd-a7a2-6663d0c32e91"},{"source":"b0c56b47-025c-49f3-a67e-42e92c0337c4","target":"baaf89bc-e408-4e3a-bfbd-488532636529","id":"5fb6dc2b-57df-48c1-9c7b-e0b5dee1da35"},{"source":"3fc4bc3f-d648-46dc-b142-e6808df77702","target":"6200f98c-420d-4ae3-a03d-6924b4a1a249","id":"61f95d70-9c91-4a72-8774-0abe0658e796"},{"source":"6200f98c-420d-4ae3-a03d-6924b4a1a249","target":"188181c9-4766-4e40-a041-ac8af865ed45","id":"36f1c892-5469-4a0b-b9f1-5a4018a646c5"},{"source":"c911e372-4fa2-456f-a425-771ade186ba6","target":"316c0f9e-ba5c-4616-8056-af7ca2884bde","id":"abf8b587-2ef7-477c-9d84-7ca78b42de65"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"233d4e8f-1ca7-4220-aa08-c15a4decfb95","id":"64c2fe97-d246-4f33-b7d4-57ae4ea69903"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"d6479a11-8411-4dde-82c9-cea23cdc8773","id":"97fcdd8b-96f6-4ea0-9c0c-e5e41f953f5b"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"bb4b9a2c-4260-42c6-b2b1-71b7e803623b","id":"d05f4f4a-9c0e-40cc-8b56-ec97bdf4b5cf"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"4d789d7e-f2ca-4da0-b2a4-240a8dfe3444","id":"52e7f62d-d0ca-4894-a631-7afb9275ad9b"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"a665f934-4081-4a03-8b20-b4740801d497","id":"16bd200b-9b9a-40bf-b0d2-fadd9c8ff64c"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"b0c56b47-025c-49f3-a67e-42e92c0337c4","id":"c930faac-e123-42c4-b44a-4157044db67d"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"14cda1e9-fdd3-4ac1-b9dd-d74dcfc19f32","id":"375d789e-a001-4896-8ea0-f68996819960"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"f7ee62bb-dbd1-4d09-96bf-080bce140818","id":"4761a0bb-a7be-4b16-9089-7736e3ff565c"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"2b1f508b-863f-4754-baa7-d2e2c23da182","id":"b1d98d0f-e7e2-4c72-8fab-8b5ec309b51b"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"c7948deb-353e-4425-8bca-3306f0099cce","id":"aa5b4a8a-9a00-44ec-9a30-ae8dbfcb827d"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"1dcf9c75-bb54-4a49-adb6-4563ec6a6304","id":"e6148e3c-c35e-4d28-8279-9806f57e73e1"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"22533739-ec9f-4186-858c-2c7e0e6c123d","id":"c2531e01-3bfc-4fff-8f56-e08c6c3ff171"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"2c67273c-d702-4325-9be1-df56189baf1c","id":"a0938692-9c62-4861-bb72-b8fced478a13"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"e1464bfd-250a-4d3b-b09a-adfed40a88d4","id":"b1f4a672-b75d-4fd0-ae33-d1364eb8bc42"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"f056a82c-deb0-4c27-941d-87bf5eb4a625","id":"5512857f-4320-4815-8d41-711659ef0b45"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"abf65187-2ae9-4182-bd70-6839d6b66d94","id":"bdd5f7eb-59da-437a-8da9-3bb501cf3d15"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"3e3fb309-2359-43e6-a7e5-54725684adf2","id":"21bacde9-4108-40ea-8728-eb6572e66fb2"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"8261b3b9-a465-4c77-a60b-ddd788e25529","id":"aac65cfa-6462-4d3e-bccc-a95963b3ea6f"},{"source":"20e29065-07f0-4554-93e0-867b3ed7864f","target":"afd9445f-cacc-4ecf-8dba-848304fcf908","id":"57925b94-c1f8-4495-82b9-6992083046a0"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"40a80f5f-f37a-4007-9596-9ca8c8e80755","id":"3fa2aed3-1785-4fc0-af4c-2d4eb176d8f8"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"39d9b155-8c93-44da-9ee5-44b4b5d30171","id":"240fc0d2-8bad-4811-a7ff-14be7c7701f5"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"485fb183-3cc4-47aa-b832-b751c2b3ce28","id":"41c64665-b9ac-4473-903d-170154e10194"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"a9ebe1cc-92ee-4fe8-9404-4353d7a33da4","id":"51661d6a-18a3-4595-bb17-9dbd370e6870"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"56af59b1-9420-4d98-9562-9ffa8dfff8ce","id":"140f83f2-7b7c-45a2-bc7d-0a3c901e39db"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"487e3366-32b5-46df-8ae6-7035b11f4a5a","id":"26f26a5f-5c9f-45ba-a92e-771ed2582b36"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"e3e44b5b-0963-4a5c-9b46-ad39ad262cfe","id":"622b6f89-e56d-4b35-bbaa-f620a8cf8984"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"a1beb6c1-a95c-44c5-8e20-200bbb0ba62d","id":"a1e0358c-5ee4-4d57-87de-e85872a727c0"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"c3ae72bf-7dd0-4184-86ee-df35bc6b4fac","id":"ef211b90-2d1f-441f-b21f-93a21c288689"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"e801578f-02e5-42a8-a518-0134b5c3ab1a","id":"fb0683cc-d2ff-4251-bdeb-a7105821bb95"},{"source":"640bf7ea-0b1a-4168-91f3-f45627c2bd08","target":"a041d393-ea29-49c6-9eb8-6fced7d23734","id":"2d16cdea-bc58-4005-94f9-b11af01f0bcd"},{"source":"4e5929ab-0887-4b89-a4cf-e41563678350","target":"27e8dd4d-ef38-4562-aec0-4b6b3d4e28cf","id":"05698508-50ad-4626-89a0-fd3efe090427"},{"source":"a041d393-ea29-49c6-9eb8-6fced7d23734","target":"68a7f3dc-7c6d-4b01-a7be-bbf5cfe4a6f3","id":"624266a7-a209-4bed-88ac-284bac33d51f"},{"source":"8261b3b9-a465-4c77-a60b-ddd788e25529","target":"e6d9d014-48ef-4949-bacd-356a30781025","id":"534545af-824d-4ba8-80bf-036c73b56de2"},{"source":"afd9445f-cacc-4ecf-8dba-848304fcf908","target":"1ab10d72-3be6-4797-8c1d-57d077d3bf22","id":"fc1896f7-7a0f-41b7-a022-062b228f34d8"},{"source":"afd9445f-cacc-4ecf-8dba-848304fcf908","target":"f7f643a4-378b-4236-ad58-7d342d5311fc","id":"f61aeee1-1080-4edc-bdce-0b264b5af04c"}],"name":"морфин","maxLevel":10,"levelsInfo":{"levelNodesCount":{"0":33,"1":1,"2":1,"3":6,"4":2,"5":12,"6":30,"7":34,"8":6,"9":4}},"isParse":true}
            const window_params = {"width":1200,"height":600,"xStep":50,"yStep":100}

            console.log(graphData)

            

            if (graphData){
                const svg = d3.select("svg")
                svg.selectAll("*").remove() // Очистка предыдущего графа

                svg.attr("width",   window_params.width) //Устанавливает атрибут width
                .attr("height",   window_params.height)
                .append("g").attr('class', 'group') //добавляет новый элемент, тег которого передается в метод в качестве параметра

                const svgGroup = svg.select('g.group')

                // Масштабирование и перемещение
                const zoom = d3.zoom()
                .scaleExtent([0.1, 10])
                .on("zoom", (event)=>{ //Обновление позиционирования элементов при масштабировании
                    svgGroup.attr("transform", event.transform);
                });
                svg.call(zoom);


                const dragstarted = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0.3).restart(); // Увеличиваем "температуру" симуляции для более плавного движения
                    d.fx = d.x; // Фиксируем позицию узла
                    d.fy = d.y;
                }
                
                const dragged = (event, d)=>{
                    d.fx = event.x; // Обновляем фиксированные координаты узла
                    d.fy = event.y;
                }
                
                const dragended = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0); // Охлаждаем симуляцию после перетаскивания
                    d.fx = null; // Отпускаем узел, позволяя симуляции снова влиять на его позицию
                    d.fy = null;
                }

                // Создаем обработчик drag
                const drag = d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);


                // Определение маркера стрелки
                svgGroup.append("defs")
                .append("marker")
                .attr("id", "arrowhead")
                .attr("markerWidth", 5) //Размер области, в которой будет отображаться маркер
                .attr("markerHeight", 4)
                .attr("refX", nodeView.r+4)
                .attr("refY", 2)
                .attr("orient", "auto")
                .append("polygon")
                .attr("points", "0 0, 5 2, 0 4")
                .style("fill", colors.link);

                
                //Добавление ссылок
                let links = svgGroup.append("g").attr('class', 'links')
                .selectAll('.link')
                .data(graphData.links) //Добавление данных
                .enter() //Нужен для ввода дополнительных значений (так как data привязывает только первое)
                .append('path')
                .attr('class', 'link')
                .attr('stroke', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return colors.selectLink
                    return colors.link
                }) // Цвет линии ребра
                .attr('stroke-width', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return 2
                    return 1
                }) // Ширина линии ребра
                .attr("marker-end", "url(#arrowhead)") // Добавление стрелки в конец ребра
                .style('pointer-events', 'none') //(устанавливает стиль) Отключение событий на ребрах (клики и т.д.)

                // Создание узлов
                let nodes = svgGroup.append("g").attr('class', 'nodes')
                .selectAll('.node')
                .data(graphData.nodes)
                .enter()
                .append('g')
                .attr('class', 'node')
                .call(drag);

                nodes.append('circle')
                .attr('class', 'node')
                .attr('id', d => d.id)
                .attr('r', d => d.r) // Радиус узла
                .attr('fill', d=>{
                    //if(selectedNodes.sourseNode === d.id || selectedNodes.targetNode === d.id) return colors.selectNode
                    return colors.node
                }) // Цвет заполнения
                .attr("cursor", "pointer")
                .on('click', (event, d) => {
                    // Добавьте логику для обработки клика по узлу
                });

                //Отображение текста v2
                nodes.append('foreignObject')
                .attr('x', d => -d.r * 0.8)
                .attr('y', d => -d.r * 0.8)
                .attr('width', d => d.r * 1.6)
                .attr('height', d => d.r * 1.6)
                .append('xhtml:div')
                .style('display', 'flex')
                .style('justify-content', 'center')
                .style('align-items', 'center')
                .style('width', '100%')
                .style('height', '100%')
                .style('font-size', '5px')
                .style('text-anchor', 'middle')
                .style('word-wrap', 'break-word')
                .style('overflow', 'hidden')
                .style('pointer-events', 'none')
                .text(d => d.name);

                //Создание симуляции силы v3
                const simulation = d3.forceSimulation(graphData.nodes)
                // Связи между узлами
                .force("link", d3.forceLink(graphData.links).id(d => d.id))//.distance(nodeView.r*10)) //!!! Сила в зависимости от количества узлов в уровне!!!!!
                // Отталкивание узлов
                .force("charge", d3.forceManyBody(graphData.nodes).strength(d=>graphData.levelsInfo.levelNodesCount[d.level]*(-100)))//-3000))
                // Центрирование по x
                .force("center", d3.forceCenter( window_params.width / 2,  window_params.height / 2))
                // Выравнивание по уровням
                .force("y", d3.forceY().strength(6)
                    .y(d =>  window_params.height * ((d.level+1) / (graphData.maxLevel-1)))) //!!!!!!!!!!Уровень с большим числом узлов шире, чем с меньшим
                // Отталкивание по x в рамках одного уровня
                .force("x", d3.forceX().strength(0.05)
                    .x( window_params.width / 2))
                // Дополнительная сила для предотвращения наложения узлов
                .force("collision", d3.forceCollide().radius(40));

                // Обновление позиций узлов и связей при каждой итерации симуляции
                //Обновление симуляции
                simulation.on('tick', () => {
                    links.attr("d", d => `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`);
                    nodes.attr('transform', d => `translate(${d.x}, ${d.y})`); // Правильная позиция для групп
                });
            }
        </script>
    </body>
</html>