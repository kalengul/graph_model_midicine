<!DOCTYPE html>
<html>
    <head>
        <title>амлодипин</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/index.css">
        <style>
            .Graphcontainer{
                width: 98%;
                height: 85vh;

                border: solid 0.5px black;
                border-radius: 7px;
            }

            .svgGraph{
                width: 100%;
                height: 100%;
            }   
        </style>
        <script src="./d3.v7.js"></script>
    </head>
    <body>
        <main>
            <div class="flex jc-center">
                <h1>амлодипин</h1>
            </div>
            <br/>
            <div class='Graphcontainer' >
                <svg class='svgGraph'> </svg>
            </div>
        </main>

        <script>
            const colors = {
                selectNode: "#E8BD6D",
                selectLink: "#8B7474",
                node: "#E9EEF4",
                link: '#B8B5B5'
            }

            const nodeView = {
                r: 30
            }

            const graphData = {"directed":true,"multigraph":false,"graph":{},"nodes":[{"label":"group","weight":5,"id":"0327beaa-7d3b-4dd9-8452-503fb644ee15","name":"средство, действовать на ренин-ангиотензиновый система","level":0,"r":30,"y":127.27272727272728,"x":10.084033613445378},{"label":"group","weight":5,"id":"5aee6521-9359-4e74-9bef-f85be150f4a4","name":"ингибитор ангиотензинпревращать фермент (апф)","level":2,"r":30,"y":387.27272727272725,"x":600},{"label":"group","weight":5,"id":"ce844625-0c1b-431b-adc3-c4aa175ffd9c","name":"ингибитор апф и блокатор кальциевый канал","level":1,"r":30,"y":257.27272727272725,"x":600},{"label":"prepare","weight":5,"id":"d93c5efd-d54d-4878-a4bd-dd0609c35826","name":"амлодипин","level":3,"r":30,"y":517.2727272727273,"x":600},{"label":"side_e","weight":5,"id":"78ae2d54-139f-4b58-adeb-58599b06a8c4","name":"острый артериальный гипотензия","level":0,"r":30,"y":127.27272727272728,"x":90.08403361344537},{"label":"prepare","weight":5,"id":"12c76e18-9148-401e-ba8d-1b75315f6eba","name":"периндоприл","level":3,"r":30,"y":517.2727272727273,"x":680},{"label":"mechanism","weight":5,"id":"72e115fd-4d63-44f5-9eb3-a3d1dd9c0d6b","name":"ингибитор фермент, превращать ангиотензин i в ангиотензин ii","level":4,"r":30,"y":647.2727272727273,"x":171.42857142857142},{"label":"mechanism","weight":5,"id":"132eeb69-2e54-4d6e-9be2-6a9d55ddf739","name":"увеличивать почечный кровоток","level":7,"r":30,"y":1037.2727272727273,"x":200},{"label":"side_e","weight":5,"id":"a6a9e871-a7fa-483d-9639-5cce8c3f1c3e","name":"кардиоваскулярный смерть","level":0,"r":30,"y":127.27272727272728,"x":170.08403361344537},{"label":"side_e","weight":5,"id":"2e9ae90e-2b1e-441d-a587-fb2d8973b9d4","name":"инсульт","level":0,"r":30,"y":127.27272727272728,"x":250.08403361344537},{"label":"absorbtion","weight":5,"id":"76213cd6-d2e6-4656-9ca0-849c04daab38","name":"жкт","level":0,"r":30,"y":127.27272727272728,"x":330.0840336134454},{"label":"metabol","weight":5,"id":"46699cff-a21d-47c4-8fda-4dd341e16584","name":"активный метаболит-периндоприлат","level":0,"r":30,"y":127.27272727272728,"x":410.0840336134454},{"label":"side_e","weight":5,"id":"4843ed10-9be7-45d7-a355-a23f2257773a","name":"отёк","level":0,"r":30,"y":127.27272727272728,"x":490.0840336134454},{"label":"side_e","weight":5,"id":"29c57e29-c205-4041-89f4-3ef8b74a83bd","name":"сонливость","level":0,"r":30,"y":127.27272727272728,"x":570.0840336134454},{"label":"side_e","weight":5,"id":"82eca266-a7b8-4a97-a7bc-5920fc32c7db","name":"головокружение","level":10,"r":30,"y":1427.2727272727273,"x":200},{"label":"side_e","weight":5,"id":"e566c552-b178-481d-9af9-6ab5d324b7ab","name":"головной боль","level":10,"r":30,"y":1427.2727272727273,"x":280},{"label":"side_e","weight":5,"id":"b156dcdb-0c85-43ec-afc7-6305b8b002b5","name":"дисгевзия","level":0,"r":30,"y":127.27272727272728,"x":650.0840336134454},{"label":"side_e","weight":5,"id":"eb84a2d5-08e1-43b8-9b50-16a6a49068d1","name":"парестезия","level":0,"r":30,"y":127.27272727272728,"x":730.0840336134454},{"label":"side_e","weight":5,"id":"8a640f7a-64ae-4083-9848-a9c67c3a5434","name":"звон в ухо","level":10,"r":30,"y":1427.2727272727273,"x":360},{"label":"side_e","weight":5,"id":"d963a26a-718a-421f-bb75-7ace69d32044","name":"ощущение сердцебиение","level":0,"r":30,"y":127.27272727272728,"x":810.0840336134454},{"label":"side_e","weight":5,"id":"9ca355fb-cb51-44e7-93ed-f02b84ffd0d0","name":"артериальный гипотензия","level":0,"r":30,"y":127.27272727272728,"x":890.0840336134454},{"label":"side_e","weight":5,"id":"bf7399bb-8b81-4100-adc2-61c310e0855e","name":"одышка","level":0,"r":30,"y":127.27272727272728,"x":970.0840336134454},{"label":"side_e","weight":5,"id":"7ab6e41f-dc18-49e6-9ec8-4f8957392650","name":"боль в живот","level":0,"r":30,"y":127.27272727272728,"x":1050.0840336134454},{"label":"side_e","weight":5,"id":"4c1c72e4-5f09-4de3-bdec-c5c2de89e5f2","name":"тошнота","level":10,"r":30,"y":1427.2727272727273,"x":440},{"label":"side_e","weight":5,"id":"f795bbfd-7a9b-471f-8eee-eb532781c0a5","name":"рвота","level":0,"r":30,"y":127.27272727272728,"x":1130.0840336134454},{"label":"side_e","weight":5,"id":"6e57d226-ecb2-4811-9ffb-584f2f386561","name":"диспепсия","level":0,"r":30,"y":127.27272727272728,"x":1210.0840336134454},{"label":"side_e","weight":5,"id":"7fa18fc6-3c85-445a-afee-d22e4ff2258a","name":"измененией характер стул","level":0,"r":30,"y":127.27272727272728,"x":1290.0840336134454},{"label":"side_e","weight":5,"id":"c1e03379-b939-4300-bafe-66a8db50e983","name":"диарея","level":0,"r":30,"y":127.27272727272728,"x":1370.0840336134454},{"label":"side_e","weight":5,"id":"7963ce3e-273e-4878-a095-afee9e341f9f","name":"запор","level":0,"r":30,"y":127.27272727272728,"x":1450.0840336134454},{"label":"side_e","weight":5,"id":"a7cddd3c-0d96-4323-8eae-55c44a7c0a15","name":"кожный зуд","level":0,"r":30,"y":127.27272727272728,"x":1530.0840336134454},{"label":"side_e","weight":5,"id":"ec17df8f-19f9-4b64-9229-e64073116ebe","name":"кожный сыпь","level":0,"r":30,"y":127.27272727272728,"x":1610.0840336134454},{"label":"side_e","weight":5,"id":"02356866-804e-4b28-a115-7fc242e2b5df","name":"экзантема","level":0,"r":30,"y":127.27272727272728,"x":1690.0840336134454},{"label":"side_e","weight":5,"id":"a6f776de-2157-45bf-90c9-8591e5f96239","name":"припухлость в область сустав (область лодыжка)","level":0,"r":30,"y":127.27272727272728,"x":1770.0840336134454},{"label":"side_e","weight":5,"id":"cae0db93-01b8-43e3-a06a-e5efea197be7","name":"спазм мышца","level":0,"r":30,"y":127.27272727272728,"x":1850.0840336134454},{"label":"side_e","weight":5,"id":"dcb2f9ef-f66a-4463-83ea-793d3997fccb","name":"повышенный утомляемость","level":0,"r":30,"y":127.27272727272728,"x":1930.0840336134454},{"label":"side_e","weight":5,"id":"e008a886-2f14-4459-b4d8-9eb459d08d96","name":"астения","level":0,"r":30,"y":127.27272727272728,"x":2010.0840336134454},{"label":"side_e","weight":5,"id":"08e883e0-67ab-4b5c-8ea5-c4c6aa7fe658","name":"повышенный утомляемость с смена настроение, слабость, раздражительность, расстройство сон и др","level":1,"r":30,"y":257.27272727272725,"x":680},{"label":"side_e","weight":5,"id":"cf28660d-3c45-41e8-aa0d-87a27eddc19b","name":"ринит","level":0,"r":30,"y":127.27272727272728,"x":2090.084033613445},{"label":"side_e","weight":5,"id":"81cce1f6-cc44-47a9-95d4-5b49d5a62c69","name":"эозинофилия","level":0,"r":30,"y":127.27272727272728,"x":2170.084033613445},{"label":"side_e","weight":5,"id":"af4653f5-42e9-49cd-8c6e-caf6dc594cce","name":"лейкопения/нейтропение","level":0,"r":30,"y":127.27272727272728,"x":2250.084033613445},{"label":"side_e","weight":5,"id":"2f236ed1-1cb8-4bf7-858a-514838669fb2","name":"агранулоцитоз или панцитопения","level":0,"r":30,"y":127.27272727272728,"x":2330.084033613445},{"label":"side_e","weight":5,"id":"2b90e034-95b6-48ce-a802-e441c25cd643","name":"тромбоцитопения","level":0,"r":30,"y":127.27272727272728,"x":2410.084033613445},{"label":"side_e","weight":5,"id":"201aad5e-af08-409c-b447-dacdc458a24c","name":"гемолитический анемия","level":0,"r":30,"y":127.27272727272728,"x":2490.084033613445},{"label":"side_e","weight":5,"id":"f2d4fa76-c7b2-4404-b497-92f32ea73ceb","name":"гипогликемия","level":0,"r":30,"y":127.27272727272728,"x":2570.084033613445},{"label":"side_e","weight":5,"id":"b790370f-1a82-424d-b3e4-607bbef398f1","name":"гипонатриемия","level":0,"r":30,"y":127.27272727272728,"x":2650.084033613445},{"label":"side_e","weight":5,"id":"4befaf49-0fa7-412e-a527-41a8c20a30fc","name":"гипергликемия","level":0,"r":30,"y":127.27272727272728,"x":2730.084033613445},{"label":"side_e","weight":5,"id":"4efe6b0c-0a65-4e48-a7f6-0233160d64a2","name":"бессонница","level":0,"r":30,"y":127.27272727272728,"x":2810.084033613445},{"label":"side_e","weight":5,"id":"a9e6a274-ad38-49cd-a435-00a6bfea253e","name":"лабильность настроение","level":0,"r":30,"y":127.27272727272728,"x":2890.084033613445},{"label":"side_e","weight":5,"id":"22b5b1db-542b-4239-a5b4-5c2bb1ef15ed","name":"депрессия сон","level":0,"r":30,"y":127.27272727272728,"x":2970.084033613445},{"label":"side_e","weight":5,"id":"1c4098fe-bb5f-4c87-a7b0-ec0f1e4d51fa","name":"тремор","level":0,"r":30,"y":127.27272727272728,"x":3050.084033613445},{"label":"side_e","weight":5,"id":"7afbe14a-d9c1-46d4-b8b2-c628b95e070f","name":"гипестезия","level":0,"r":30,"y":127.27272727272728,"x":3130.084033613445},{"label":"side_e","weight":5,"id":"a8e30fc4-99f5-4813-a687-c841986555e8","name":"обморочный состояние","level":0,"r":30,"y":127.27272727272728,"x":3210.084033613445},{"label":"side_e","weight":5,"id":"b954292a-675e-4092-b429-ba5ad4358763","name":"спутанность сознание","level":0,"r":30,"y":127.27272727272728,"x":3290.084033613445},{"label":"side_e","weight":5,"id":"92d9b200-8569-4f25-8518-d4c5f1d287ae","name":"гипертонус","level":0,"r":30,"y":127.27272727272728,"x":3370.084033613445},{"label":"side_e","weight":5,"id":"1cacb502-06b4-4a39-9cf1-cbcb36b4545f","name":"периферический нейропатия","level":0,"r":30,"y":127.27272727272728,"x":3450.084033613445},{"label":"side_e","weight":5,"id":"547b4697-0738-406a-8bf1-4811847f8e4c","name":"экстрапирамидальный расстройство","level":0,"r":30,"y":127.27272727272728,"x":3530.084033613445},{"label":"side_e","weight":5,"id":"ede83754-0175-4f90-8e61-c4d9ebfa13fd","name":"диплопия","level":0,"r":30,"y":127.27272727272728,"x":3610.084033613445},{"label":"side_e","weight":5,"id":"85a6dee2-b199-46df-87fb-46dbf826d17d","name":"тахикардия","level":0,"r":30,"y":127.27272727272728,"x":3690.084033613445},{"label":"side_e","weight":5,"id":"c8325eb2-5eff-43de-b127-afb6cd31a7b3","name":"стенокардия","level":0,"r":30,"y":127.27272727272728,"x":3770.084033613445},{"label":"side_e","weight":5,"id":"5d8e0c84-ada1-466c-ae91-42906edf6960","name":"инфаркт миокард","level":0,"r":30,"y":127.27272727272728,"x":3850.084033613445},{"label":"side_e","weight":5,"id":"e64dbf09-75b4-4e1c-ac6e-9758c2188223","name":"аритмия","level":0,"r":30,"y":127.27272727272728,"x":3930.084033613445},{"label":"side_e","weight":5,"id":"cd8bfd21-5af8-4b04-92ce-5c012148bd5f","name":"васкулит","level":0,"r":30,"y":127.27272727272728,"x":4010.084033613445},{"label":"side_e","weight":5,"id":"f43c50c5-469b-4d1b-bb02-2ca739d2c87e","name":"синдром рейно","level":0,"r":30,"y":127.27272727272728,"x":4090.084033613445},{"label":"side_e","weight":5,"id":"9bc163a2-e209-4f67-9375-b5cea36164ae","name":"бронхоспазм","level":0,"r":30,"y":127.27272727272728,"x":4170.084033613445},{"label":"side_e","weight":5,"id":"01a4c803-4550-4e8e-b95d-71e126bcac90","name":"эозинофильный пневмония","level":0,"r":30,"y":127.27272727272728,"x":4250.084033613445},{"label":"side_e","weight":5,"id":"90aa50fe-2039-46ae-bfd0-c44bafbfd520","name":"гиперплазия десна","level":0,"r":30,"y":127.27272727272728,"x":4330.084033613445},{"label":"side_e","weight":5,"id":"bb6ff25a-439a-4118-8ef7-782718de63d4","name":"сухость в рот","level":0,"r":30,"y":127.27272727272728,"x":4410.084033613445},{"label":"side_e","weight":5,"id":"032d25ae-5f75-4b90-aca8-57810d90d616","name":"панкреатит","level":0,"r":30,"y":127.27272727272728,"x":4490.084033613445},{"label":"side_e","weight":5,"id":"23972320-c466-41d9-956c-bf8211b8f17f","name":"гастрит","level":0,"r":30,"y":127.27272727272728,"x":4570.084033613445},{"label":"side_e","weight":5,"id":"fc699d10-c080-4a52-858b-c7643b515700","name":"желтуха","level":0,"r":30,"y":127.27272727272728,"x":4650.084033613445},{"label":"side_e","weight":5,"id":"53de7395-674d-4aea-8ef3-29e8d2a2d952","name":"отёк квинке","level":0,"r":30,"y":127.27272727272728,"x":4730.084033613445},{"label":"side_e","weight":5,"id":"9ec4e652-6209-40b6-8011-a56488c583a4","name":"многоформный эритема","level":0,"r":30,"y":127.27272727272728,"x":4810.084033613445},{"label":"side_e","weight":5,"id":"419b2381-f4dd-4159-aef1-7af65f8c98af","name":"алопеция","level":0,"r":30,"y":127.27272727272728,"x":4890.084033613445},{"label":"side_e","weight":5,"id":"019e8f04-60b6-487b-8934-3778fb88936c","name":"пурпур","level":0,"r":30,"y":127.27272727272728,"x":4970.084033613445},{"label":"side_e","weight":5,"id":"0480b215-b306-4f2c-9769-f233700f8bc9","name":"изменение цвет кожа","level":0,"r":30,"y":127.27272727272728,"x":5050.084033613445},{"label":"side_e","weight":5,"id":"25d49fb5-35b5-4583-b1a9-ded61e51d397","name":"повышенный потливость","level":0,"r":30,"y":127.27272727272728,"x":5130.084033613445},{"label":"side_e","weight":5,"id":"4c716332-b8de-4241-9534-f560d3fc341d","name":"крапивница","level":0,"r":30,"y":127.27272727272728,"x":5210.084033613445},{"label":"side_e","weight":5,"id":"3ed419c3-8a1f-41f6-995b-aafa5f896991","name":"реакция фоточувствительность","level":0,"r":30,"y":127.27272727272728,"x":5290.084033613445},{"label":"side_e","weight":5,"id":"b07469bb-ad7d-4719-b036-bb633604d295","name":"пемфигоид","level":0,"r":30,"y":127.27272727272728,"x":5370.084033613445},{"label":"side_e","weight":5,"id":"ad481fa4-d3f3-4d40-b002-5775741a76ef","name":"обострение псориаз","level":0,"r":30,"y":127.27272727272728,"x":5450.084033613445},{"label":"side_e","weight":5,"id":"7ede9e98-de56-415d-8b84-b5df04d6576f","name":"синдром стивенс-джонсон","level":0,"r":30,"y":127.27272727272728,"x":5530.084033613445},{"label":"side_e","weight":5,"id":"bac8fa1f-1072-4119-b207-d7d15c3a29ff","name":"эксфолиативный дерматит","level":0,"r":30,"y":127.27272727272728,"x":5610.084033613445},{"label":"side_e","weight":5,"id":"4b449ffe-dfbe-4b2a-b99b-63bb8cafd684","name":"токсический эпидермальный некролизприпухлость","level":0,"r":30,"y":127.27272727272728,"x":5690.084033613445},{"label":"side_e","weight":5,"id":"3e2190e6-1788-4f70-8073-267b6b2f48b3","name":"припухлость в область область сустав","level":0,"r":30,"y":127.27272727272728,"x":5770.084033613445},{"label":"side_e","weight":5,"id":"4c9bb7a9-cb43-4653-8c03-3b2542488376","name":"артралгия","level":0,"r":30,"y":127.27272727272728,"x":5850.084033613445},{"label":"side_e","weight":5,"id":"cc56f9b0-3ff6-4f67-bb68-5d655ad5dd47","name":"миалгия","level":0,"r":30,"y":127.27272727272728,"x":5930.084033613445},{"label":"side_e","weight":5,"id":"9b1c6eab-218c-4f6a-8614-489ee0d35234","name":"мышечный спазм","level":0,"r":30,"y":127.27272727272728,"x":6010.084033613445},{"label":"side_e","weight":5,"id":"ee28b65b-3c8d-4968-adfd-43171063b179","name":"боль в спина мочеиспускание","level":0,"r":30,"y":127.27272727272728,"x":6090.084033613445},{"label":"side_e","weight":5,"id":"927823f5-755c-4bf5-954e-7821d80b9b30","name":"никтурия","level":0,"r":30,"y":127.27272727272728,"x":6170.084033613445},{"label":"side_e","weight":5,"id":"5a9971d9-4ece-45af-8515-6e281ad70df1","name":"поллакиурия","level":0,"r":30,"y":127.27272727272728,"x":6250.084033613445},{"label":"side_e","weight":5,"id":"8880ed23-68fa-45d7-8067-130a0f01ddeb","name":"почечный недостаточность","level":0,"r":30,"y":127.27272727272728,"x":6330.084033613445},{"label":"side_e","weight":5,"id":"5ed3b789-cb8d-4dd2-9e58-6e4c5e6b298f","name":"эректильный дисфункция","level":0,"r":30,"y":127.27272727272728,"x":6410.084033613445},{"label":"side_e","weight":5,"id":"3185f359-cdf8-4a2e-93e7-5754b61e9974","name":"гинекомастие","level":0,"r":30,"y":127.27272727272728,"x":6490.084033613445},{"label":"side_e","weight":5,"id":"c5619d22-fd16-4d37-9efa-e484584855c3","name":"периферический отёк","level":0,"r":30,"y":127.27272727272728,"x":6570.084033613445},{"label":"side_e","weight":5,"id":"f6655311-d1cb-4f15-a81c-5fe190490e04","name":"боль в грудной клетка","level":0,"r":30,"y":127.27272727272728,"x":6650.084033613445},{"label":"side_e","weight":5,"id":"b7c11e9d-4cf7-4c74-9b40-382d6eadb3b5","name":"недомогание","level":0,"r":30,"y":127.27272727272728,"x":6730.084033613445},{"label":"side_e","weight":5,"id":"218e3a1e-15f4-48da-9772-50c23eb01b6f","name":"лихорадка","level":0,"r":30,"y":127.27272727272728,"x":6810.084033613445},{"label":"side_e","weight":5,"id":"80c6f6dc-4801-4d40-8b06-fc66695e8c71","name":"увеличение масса тело","level":0,"r":30,"y":127.27272727272728,"x":6890.084033613445},{"label":"side_e","weight":5,"id":"85cda414-d5cd-45c7-be43-050a8d12da43","name":"снижение масса тело","level":0,"r":30,"y":127.27272727272728,"x":6970.084033613445},{"label":"side_e","weight":5,"id":"7837feb0-bd74-47b9-9fd8-1b6180435041","name":"повышение концентрация мочевина в кровь","level":0,"r":30,"y":127.27272727272728,"x":7050.084033613445},{"label":"side_e","weight":5,"id":"5c6ad5de-ea96-4ba6-8804-6ab5f886529a","name":"повышение концентрация креатинин в кровь","level":0,"r":30,"y":127.27272727272728,"x":7130.084033613445},{"label":"side_e","weight":5,"id":"e4cd699f-d2ff-4c53-b63f-832500cb09e6","name":"повышение концентрация билирубин в кровь","level":0,"r":30,"y":127.27272727272728,"x":7210.084033613445},{"label":"side_e","weight":5,"id":"6a92d07e-0f2c-403c-85b1-dfc2b745afa8","name":"снижение гемоглобин и гематокрит","level":0,"r":30,"y":127.27272727272728,"x":7290.084033613445},{"label":"side_e","weight":5,"id":"4954dd0b-38e3-412d-aa58-4bccd0915544","name":"травма","level":0,"r":30,"y":127.27272727272728,"x":7370.084033613445},{"label":"side_e","weight":5,"id":"32bb9089-86c0-4d87-88a4-9c89028c649a","name":"синдром неадекватный секреция антидиуретический гормон","level":0,"r":30,"y":127.27272727272728,"x":7450.084033613445},{"label":"prepare","weight":5,"id":"a64cd4da-28d5-4655-b585-bcc069236141","name":"симвастатин","level":0,"r":30,"y":127.27272727272728,"x":7530.084033613445},{"label":"prepare","weight":5,"id":"dcf1636d-50c7-44f6-a4fd-a5bf8dd6e9b7","name":"соль калий","level":0,"r":30,"y":127.27272727272728,"x":7610.084033613445},{"label":"side_e","weight":5,"id":"825f5617-c4d8-44c6-823f-44fa58abe01b","name":"риск развитие гиперкалиемия","level":0,"r":30,"y":127.27272727272728,"x":7690.084033613445},{"label":"side_e","weight":5,"id":"9f35877d-e178-4eca-9eb6-18b72834e44c","name":"ухудшение функция почка","level":0,"r":30,"y":127.27272727272728,"x":7770.084033613445},{"label":"side_e","weight":5,"id":"0182dd68-6261-45fb-89c9-861af70c8546","name":"сердечно-сосудистый заболеваемость","level":0,"r":30,"y":127.27272727272728,"x":7850.084033613445},{"label":"side_e","weight":5,"id":"81e5b597-7bf9-4e49-aa68-ff4bf7e7fbd2","name":"смертность","level":0,"r":30,"y":127.27272727272728,"x":7930.084033613445},{"label":"side_e","weight":5,"id":"af9a9815-7cfa-4a8c-a527-5179751c2277","name":"анафилактоидный реакция","level":0,"r":30,"y":127.27272727272728,"x":8010.084033613445},{"label":"side_e","weight":5,"id":"2d4e25c0-cbb5-467b-b261-224403b0e205","name":"ангионевротический отёк","level":0,"r":30,"y":127.27272727272728,"x":8090.084033613445},{"label":"side_e","weight":5,"id":"1b9b1f7a-466d-4a05-8884-189ecf11f51b","name":"повысить риск развитие ангионевротический отёк","level":0,"r":30,"y":127.27272727272728,"x":8170.084033613445},{"label":"side_e","weight":5,"id":"80d7c27c-8214-4239-b1f2-b184f12717e5","name":"мочь повышать риск развитие ангионевротический отёк","level":0,"r":30,"y":127.27272727272728,"x":8250.084033613446},{"label":"side_e","weight":5,"id":"030445d7-2766-4f2d-8f91-2ab17a62406c","name":"отёк дыхательный путь","level":0,"r":30,"y":127.27272727272728,"x":8330.084033613446},{"label":"side_e","weight":5,"id":"c14fc993-27b3-4459-bf52-b2950ea458cb","name":"повышение частота сердечно-сосудистый заболеваемость","level":0,"r":30,"y":127.27272727272728,"x":8410.084033613446},{"label":"side_e","weight":5,"id":"2c581f90-a275-4dcf-a7f3-5be4cd3a0601","name":"обморок","level":0,"r":30,"y":127.27272727272728,"x":8490.084033613446},{"label":"side_e","weight":5,"id":"754aaa14-25fe-4c03-b1a9-4465b2b59b6c","name":"повышаться риск развитие гиперкалиемия","level":0,"r":30,"y":127.27272727272728,"x":8570.084033613446},{"label":"side_e","weight":5,"id":"52374b7f-629d-4242-b51f-17d2d4a5192c","name":"гиперкалиемия","level":0,"r":30,"y":127.27272727272728,"x":8650.084033613446},{"label":"side_e","weight":5,"id":"fc087ebe-0b61-4096-92ac-08b339b0705d","name":"с возможный летальный исход","level":0,"r":30,"y":127.27272727272728,"x":8730.084033613446},{"label":"side_e","weight":5,"id":"dfd72477-0b84-4a93-bb73-459dc875c68d","name":"летальный исход","level":0,"r":30,"y":127.27272727272728,"x":8810.084033613446},{"label":"side_e","weight":5,"id":"260111a4-226a-4d9e-b114-e129f8b9ef7a","name":"развитие ангионевротический отёк","level":0,"r":30,"y":127.27272727272728,"x":8890.084033613446},{"label":"side_e","weight":5,"id":"3a441798-5dd9-4e4a-80aa-de9cd4e26aff","name":"увеличение содержание калий","level":0,"r":30,"y":127.27272727272728,"x":8970.084033613446},{"label":"side_e","weight":5,"id":"bd9ac3c5-0404-4835-aa8a-204251801bbb","name":"нитритоидный реакция","level":0,"r":30,"y":127.27272727272728,"x":9050.084033613446},{"label":"side_e","weight":5,"id":"d0430840-96fb-4363-bbef-66b6051abf75","name":"гиперемия кожа лицо","level":0,"r":30,"y":127.27272727272728,"x":9130.084033613446},{"label":"side_e","weight":5,"id":"8150a0a5-7227-4eaa-8bcd-366001510159","name":"лейкопения","level":0,"r":30,"y":127.27272727272728,"x":9210.084033613446},{"label":"side_e","weight":5,"id":"827b0c4f-462c-41eb-8522-b5b097a85aec","name":"гипотензивный эффект","level":0,"r":30,"y":127.27272727272728,"x":9290.084033613446},{"label":"side_e","weight":5,"id":"77e9ecb2-3af1-48f0-a427-b57e6a60f59c","name":"снижение ад","level":0,"r":30,"y":127.27272727272728,"x":9370.084033613446},{"label":"group","weight":5,"id":"fabe5557-128c-4304-a51c-fa311f2fefbb","name":"бмкк","level":2,"r":30,"y":387.27272727272725,"x":680},{"label":"action","weight":5,"id":"a6c2a5af-df20-4c34-ac95-69356b847604","name":"антигипертензивный действие","level":8,"r":30,"y":1167.2727272727273,"x":400},{"label":"mechanism","weight":5,"id":"5ceb13eb-4221-41cc-95a2-5c64a86e1469","name":"прямой расслаблять воздействие","level":5,"r":30,"y":777.2727272727273,"x":171.42857142857142},{"label":"mechanism","weight":5,"id":"bb618304-a964-420b-af32-fb1179a55911","name":"уменьшать общий ишемический нагрузка","level":8,"r":30,"y":1167.2727272727273,"x":480},{"label":"action","weight":5,"id":"e1cefb49-55bd-4591-9310-ea126a6ab073","name":"вызывать расширение периферический артериол","level":6,"r":30,"y":907.2727272727273,"x":171.42857142857142},{"label":"action","weight":5,"id":"c43f21ce-c9ee-4f0a-aee2-9a7b83a4abac","name":"уменьшать общий периферический сосудистый сопротивление","level":7,"r":30,"y":1037.2727272727273,"x":280},{"label":"mechanism","weight":5,"id":"f5b4cafd-d6a1-4ed6-aaf3-1c80e6c024df","name":"антиангинальный действие","level":9,"r":30,"y":1297.2727272727273,"x":400},{"label":"action","weight":5,"id":"2726d561-cbdf-40c6-8436-3dfee051b804","name":"расширение коронарный артерия и артериол","level":6,"r":30,"y":907.2727272727273,"x":251.42857142857142},{"label":"action","weight":5,"id":"c9920c2f-772b-40fd-b1a3-afcd59d4d76f","name":"увеличивать поступление кислород в миокард","level":7,"r":30,"y":1037.2727272727273,"x":360},{"label":"side_e","weight":5,"id":"b4aabd2d-9d74-414d-a521-0a49abf6ccbd","name":"гипотензия","level":9,"r":30,"y":1297.2727272727273,"x":480},{"label":"action","weight":5,"id":"0d681429-9e19-4b37-81f4-064e0c427625","name":"ингибитор распад брадикинин","level":5,"r":30,"y":777.2727272727273,"x":251.42857142857142},{"label":"action","weight":5,"id":"f0502be5-9cd8-439a-88b7-ea9e3528a7d2","name":"обладать сосудорасширяющий действие","level":6,"r":30,"y":907.2727272727273,"x":331.42857142857144},{"label":"mechanism","weight":5,"id":"86c3ee95-e74b-4791-bab2-69ad8477af74","name":"снижение концентрация ангиотензин ii в плазма кровь","level":5,"r":30,"y":777.2727272727273,"x":331.42857142857144},{"label":"mechanism","weight":5,"id":"f2198a56-7e6b-4fca-bd09-bf65a0c0c8ac","name":"увеличение активность ренин в плазма кровь","level":6,"r":30,"y":907.2727272727273,"x":411.42857142857144},{"label":"mechanism","weight":5,"id":"8ef7abeb-cf08-4771-b8c0-a83a5f4002d2","name":"уменьшение секреция альдостерон","level":7,"r":30,"y":1037.2727272727273,"x":440},{"label":"mechanism","weight":5,"id":"646b9703-ffdd-4843-8697-fc086cb1dd80","name":"активироваться система простагландин","level":7,"r":30,"y":1037.2727272727273,"x":520},{"label":"side_e","weight":5,"id":"7b8f242d-8b8f-4c73-b5ce-1f09f6db642c","name":"кашель","level":8,"r":30,"y":1167.2727272727273,"x":560},{"label":"side_e","weight":5,"id":"62388d34-710b-4c56-af6a-4e4911f9bad2","name":"ортостатический гипотензия","level":10,"r":30,"y":1427.2727272727273,"x":520},{"label":"mechanism","weight":5,"id":"1c206951-3ca8-4795-8253-7efdd9ea813d","name":"уменьшать гипертрофия левый желудочек","level":9,"r":30,"y":1297.2727272727273,"x":560},{"label":"side_e","weight":5,"id":"a6d993e6-c6c7-4dbe-85e2-440ebae14dcf","name":"«прилив» кровь к кожа лицо","level":7,"r":30,"y":1037.2727272727273,"x":600},{"label":"side_e","weight":5,"id":"f0a2c4ec-1cd7-403f-b1e8-89593834a335","name":"вертиго","level":10,"r":30,"y":1427.2727272727273,"x":600},{"label":"metabol","weight":5,"id":"ef1ce9b6-5156-4f57-99a6-26baf40b5111","name":"печень","level":4,"r":30,"y":647.2727272727273,"x":251.42857142857142},{"label":"metabol","weight":5,"id":"cb71315f-81d9-47bd-b538-089d54f31dc6","name":"образование неактивный метаболит","level":5,"r":30,"y":777.2727272727273,"x":411.42857142857144},{"label":"excretion","weight":5,"id":"ee73460d-6515-44e1-8c5c-ce79a300333d","name":"почка","level":4,"r":30,"y":647.2727272727273,"x":331.42857142857144},{"label":"side_e","weight":5,"id":"7bc69cfd-7c59-456e-adf7-3f10e71c2ccd","name":"нарушение функция почка","level":5,"r":30,"y":777.2727272727273,"x":491.42857142857144},{"label":"side_e","weight":5,"id":"bf6f505d-58d0-420c-a8b2-e60cfb725ea1","name":"острый почечный недостаточность","level":6,"r":30,"y":907.2727272727273,"x":491.42857142857144},{"label":"side_e","weight":5,"id":"81ac2718-e971-4646-8d51-4a324797654b","name":"гепатит","level":5,"r":30,"y":777.2727272727273,"x":571.4285714285714},{"label":"side_e","weight":5,"id":"be9c7d24-c8f6-4087-9cf7-ddc8692c05f5","name":"фибрилляция желудочек с летальный исход и коллапс","level":0,"r":30,"y":127.27272727272728,"x":9450.084033613446},{"label":"side_e","weight":5,"id":"60ee5311-9a17-44a4-9dce-71598ff8c337","name":"повышение активность «печёночный» фермент","level":5,"r":30,"y":777.2727272727273,"x":651.4285714285714},{"label":"mechanism","weight":5,"id":"60dd10b2-1021-403e-a2c3-99b7f73b8ccf","name":"ингибировать трансмембранный переход ион кальций в кардиомиоцит","level":4,"r":30,"y":647.2727272727273,"x":411.42857142857144},{"label":"mechanism","weight":5,"id":"d8985e07-250e-4367-a4e7-10aae71f6366","name":"ингибировать трансмембранный переход ион кальций гладкомышечный клетка сосудистый стенка","level":4,"r":30,"y":647.2727272727273,"x":491.42857142857144},{"label":"mechanism","weight":5,"id":"f579f504-ba18-44db-a3f6-e856b03f3167","name":"восстановление эластичность крупный артерия","level":4,"r":30,"y":647.2727272727273,"x":571.4285714285714},{"label":"mechanism","weight":5,"id":"4d5c1401-fff7-48a5-8907-76c0093a4adb","name":"восстановление структура сосудистый стенка мелкий артерия","level":4,"r":30,"y":647.2727272727273,"x":651.4285714285714},{"label":"mechanism","weight":5,"id":"43c02558-b4db-444c-8be4-32ab5cb49f47","name":"повышение активность калликреин-кининовый система тканевый","level":6,"r":30,"y":907.2727272727273,"x":571.4285714285714},{"label":"mechanism","weight":5,"id":"0552ef23-6e3f-49bf-946b-d4ecf64a3cd6","name":"повышение активность калликреин-кининовый система циркулировать","level":6,"r":30,"y":907.2727272727273,"x":651.4285714285714}],"links":[{"source":"0327beaa-7d3b-4dd9-8452-503fb644ee15","target":"ce844625-0c1b-431b-adc3-c4aa175ffd9c","id":"9db5b171-8742-4a9f-b64a-f274f1d296bc"},{"source":"5aee6521-9359-4e74-9bef-f85be150f4a4","target":"12c76e18-9148-401e-ba8d-1b75315f6eba","id":"b3285849-690b-446e-86db-09fe92df8809"},{"source":"ce844625-0c1b-431b-adc3-c4aa175ffd9c","target":"5aee6521-9359-4e74-9bef-f85be150f4a4","id":"a479b545-8919-47dd-8bfc-b1ecd08054c0"},{"source":"ce844625-0c1b-431b-adc3-c4aa175ffd9c","target":"fabe5557-128c-4304-a51c-fa311f2fefbb","id":"87efe028-2d08-484c-8b04-44fc42aba5fe"},{"source":"d93c5efd-d54d-4878-a4bd-dd0609c35826","target":"ef1ce9b6-5156-4f57-99a6-26baf40b5111","id":"fccbe05a-beb9-4676-b068-f86a6da26d4f"},{"source":"d93c5efd-d54d-4878-a4bd-dd0609c35826","target":"ee73460d-6515-44e1-8c5c-ce79a300333d","id":"f4e11e30-7d1f-4db4-9035-12f3467bf8d9"},{"source":"d93c5efd-d54d-4878-a4bd-dd0609c35826","target":"60dd10b2-1021-403e-a2c3-99b7f73b8ccf","id":"d12672b8-1476-4d0b-8a37-e28627e7ef68"},{"source":"d93c5efd-d54d-4878-a4bd-dd0609c35826","target":"d8985e07-250e-4367-a4e7-10aae71f6366","id":"3c2e6429-4fc1-4ed0-a3c6-b925ca264dba"},{"source":"12c76e18-9148-401e-ba8d-1b75315f6eba","target":"72e115fd-4d63-44f5-9eb3-a3d1dd9c0d6b","id":"a693c4da-e127-4add-9f18-4c686084591b"},{"source":"12c76e18-9148-401e-ba8d-1b75315f6eba","target":"f579f504-ba18-44db-a3f6-e856b03f3167","id":"9693d3c6-094f-420f-894f-58249a340174"},{"source":"12c76e18-9148-401e-ba8d-1b75315f6eba","target":"4d5c1401-fff7-48a5-8907-76c0093a4adb","id":"ec686363-c951-4e29-b25b-88d09997b854"},{"source":"72e115fd-4d63-44f5-9eb3-a3d1dd9c0d6b","target":"86c3ee95-e74b-4791-bab2-69ad8477af74","id":"eb690901-2a34-4491-a6db-7cf2f337f1c9"},{"source":"72e115fd-4d63-44f5-9eb3-a3d1dd9c0d6b","target":"0d681429-9e19-4b37-81f4-064e0c427625","id":"665f6177-665c-43ce-9e74-8861bf148462"},{"source":"e008a886-2f14-4459-b4d8-9eb459d08d96","target":"08e883e0-67ab-4b5c-8ea5-c4c6aa7fe658","id":"98902977-f3d6-4a82-b266-47f67b86efc1"},{"source":"fabe5557-128c-4304-a51c-fa311f2fefbb","target":"d93c5efd-d54d-4878-a4bd-dd0609c35826","id":"0919dc24-67a8-4806-a4a5-760bb69c87c0"},{"source":"a6c2a5af-df20-4c34-ac95-69356b847604","target":"b4aabd2d-9d74-414d-a521-0a49abf6ccbd","id":"5b3d01d8-1988-4c5a-aa1f-e46d64eb908e"},{"source":"a6c2a5af-df20-4c34-ac95-69356b847604","target":"1c206951-3ca8-4795-8253-7efdd9ea813d","id":"203e1cc4-6501-4740-b6b2-4b2151e91d3e"},{"source":"5ceb13eb-4221-41cc-95a2-5c64a86e1469","target":"a6c2a5af-df20-4c34-ac95-69356b847604","id":"ba38b2f2-274f-4471-b23e-71b6beeb6a2c"},{"source":"5ceb13eb-4221-41cc-95a2-5c64a86e1469","target":"e1cefb49-55bd-4591-9310-ea126a6ab073","id":"c846f1b0-9ac2-4740-94b9-84e7bf5ecf3a"},{"source":"5ceb13eb-4221-41cc-95a2-5c64a86e1469","target":"2726d561-cbdf-40c6-8436-3dfee051b804","id":"396fd709-286b-4b31-bcdc-5ab4729051be"},{"source":"bb618304-a964-420b-af32-fb1179a55911","target":"f5b4cafd-d6a1-4ed6-aaf3-1c80e6c024df","id":"4c495776-5d76-431d-87c8-c95780e399d2"},{"source":"e1cefb49-55bd-4591-9310-ea126a6ab073","target":"c43f21ce-c9ee-4f0a-aee2-9a7b83a4abac","id":"be1b78d2-a6c3-4050-bf7e-0990be73c2ed"},{"source":"c43f21ce-c9ee-4f0a-aee2-9a7b83a4abac","target":"a6c2a5af-df20-4c34-ac95-69356b847604","id":"ef93a38f-a7a8-4626-a8cb-c7eea8cb3a61"},{"source":"c43f21ce-c9ee-4f0a-aee2-9a7b83a4abac","target":"bb618304-a964-420b-af32-fb1179a55911","id":"141de0be-8ac8-4a14-bc97-a380645f4879"},{"source":"2726d561-cbdf-40c6-8436-3dfee051b804","target":"c9920c2f-772b-40fd-b1a3-afcd59d4d76f","id":"3d76011c-27ba-41e3-b157-06fde4f48fb3"},{"source":"c9920c2f-772b-40fd-b1a3-afcd59d4d76f","target":"bb618304-a964-420b-af32-fb1179a55911","id":"b684344a-4329-41a8-a4a2-03f2dfaf0d48"},{"source":"b4aabd2d-9d74-414d-a521-0a49abf6ccbd","target":"82eca266-a7b8-4a97-a7bc-5920fc32c7db","id":"100c27f2-1d9e-499a-b1d8-3abf064e2be8"},{"source":"b4aabd2d-9d74-414d-a521-0a49abf6ccbd","target":"4c1c72e4-5f09-4de3-bdec-c5c2de89e5f2","id":"861cae0a-4ad5-4a93-8d78-417e89a6bc99"},{"source":"b4aabd2d-9d74-414d-a521-0a49abf6ccbd","target":"8a640f7a-64ae-4083-9848-a9c67c3a5434","id":"783d6646-b1a7-4fe5-9eab-bd51a6090523"},{"source":"b4aabd2d-9d74-414d-a521-0a49abf6ccbd","target":"e566c552-b178-481d-9af9-6ab5d324b7ab","id":"4c984e98-b2d5-4598-85ba-8ae3182121d7"},{"source":"b4aabd2d-9d74-414d-a521-0a49abf6ccbd","target":"62388d34-710b-4c56-af6a-4e4911f9bad2","id":"64604e7a-c410-4c73-af5c-fe684fd3d0fc"},{"source":"b4aabd2d-9d74-414d-a521-0a49abf6ccbd","target":"f0a2c4ec-1cd7-403f-b1e8-89593834a335","id":"96d177ae-0ccf-4154-a4d3-72ac4f48b85c"},{"source":"0d681429-9e19-4b37-81f4-064e0c427625","target":"f0502be5-9cd8-439a-88b7-ea9e3528a7d2","id":"08ae49d5-3131-4f79-a6a8-28e516e607cb"},{"source":"0d681429-9e19-4b37-81f4-064e0c427625","target":"43c02558-b4db-444c-8be4-32ab5cb49f47","id":"ae9f2150-6d57-4658-84eb-620e5bbbcfc7"},{"source":"0d681429-9e19-4b37-81f4-064e0c427625","target":"0552ef23-6e3f-49bf-946b-d4ecf64a3cd6","id":"862ca7ee-361a-4aa2-a36f-ef0d5293124d"},{"source":"f0502be5-9cd8-439a-88b7-ea9e3528a7d2","target":"c43f21ce-c9ee-4f0a-aee2-9a7b83a4abac","id":"0c9f8ae8-29cc-4d72-be37-fd066c0f41bb"},{"source":"f0502be5-9cd8-439a-88b7-ea9e3528a7d2","target":"132eeb69-2e54-4d6e-9be2-6a9d55ddf739","id":"e6bbd0c2-13f1-4348-b2ab-924db84a272b"},{"source":"f0502be5-9cd8-439a-88b7-ea9e3528a7d2","target":"a6d993e6-c6c7-4dbe-85e2-440ebae14dcf","id":"7ac46bb7-b574-4168-ab93-1a0b3a2d3641"},{"source":"86c3ee95-e74b-4791-bab2-69ad8477af74","target":"f2198a56-7e6b-4fca-bd09-bf65a0c0c8ac","id":"2a020980-2fdf-40fe-9d95-45a0f872c0f4"},{"source":"86c3ee95-e74b-4791-bab2-69ad8477af74","target":"a6c2a5af-df20-4c34-ac95-69356b847604","id":"2f908e89-7c42-4b76-96ab-c929c10faaea"},{"source":"f2198a56-7e6b-4fca-bd09-bf65a0c0c8ac","target":"8ef7abeb-cf08-4771-b8c0-a83a5f4002d2","id":"743b7f3b-fa7f-4dae-aed0-824cb7244322"},{"source":"8ef7abeb-cf08-4771-b8c0-a83a5f4002d2","target":"a6c2a5af-df20-4c34-ac95-69356b847604","id":"97941e36-aa0d-4249-951f-047bd63f95c9"},{"source":"646b9703-ffdd-4843-8697-fc086cb1dd80","target":"a6c2a5af-df20-4c34-ac95-69356b847604","id":"61bf8827-94f7-4bfc-bc18-98ab45125e08"},{"source":"646b9703-ffdd-4843-8697-fc086cb1dd80","target":"7b8f242d-8b8f-4c73-b5ce-1f09f6db642c","id":"d6e6c57d-6c08-48f6-9f94-21f4d86ef33a"},{"source":"ef1ce9b6-5156-4f57-99a6-26baf40b5111","target":"cb71315f-81d9-47bd-b538-089d54f31dc6","id":"e683be25-e89c-4213-bedf-eac5af0220a3"},{"source":"ef1ce9b6-5156-4f57-99a6-26baf40b5111","target":"81ac2718-e971-4646-8d51-4a324797654b","id":"a0ede993-d6e2-4408-be7b-ae03e798ec14"},{"source":"ef1ce9b6-5156-4f57-99a6-26baf40b5111","target":"60ee5311-9a17-44a4-9dce-71598ff8c337","id":"0896da5c-f0e6-4dcb-967b-d9688ad2b948"},{"source":"ee73460d-6515-44e1-8c5c-ce79a300333d","target":"7bc69cfd-7c59-456e-adf7-3f10e71c2ccd","id":"3dbcbf8e-cab9-43d3-b20b-4236f045cc92"},{"source":"7bc69cfd-7c59-456e-adf7-3f10e71c2ccd","target":"bf6f505d-58d0-420c-a8b2-e60cfb725ea1","id":"a3190884-96e3-41ce-87b7-aa2539d88b95"},{"source":"d8985e07-250e-4367-a4e7-10aae71f6366","target":"5ceb13eb-4221-41cc-95a2-5c64a86e1469","id":"8f9af24d-df28-4e12-bd18-27f5a157eb12"},{"source":"43c02558-b4db-444c-8be4-32ab5cb49f47","target":"646b9703-ffdd-4843-8697-fc086cb1dd80","id":"6083ac88-064b-4917-816b-d71bad7d96a7"},{"source":"0552ef23-6e3f-49bf-946b-d4ecf64a3cd6","target":"646b9703-ffdd-4843-8697-fc086cb1dd80","id":"764d5e63-22d6-4bd5-896c-e664e91e70f4"}],"name":"амлодипин","maxLevel":11,"levelsInfo":{"levelNodesCount":{"0":119,"1":2,"2":2,"3":2,"4":7,"5":7,"6":7,"7":6,"8":3,"9":3,"10":6}},"isParse":true}
            const window_params = {"width":1200,"height":600,"xStep":50,"yStep":100}

            console.log(graphData)

            

            if (graphData){
                const svg = d3.select("svg")
                svg.selectAll("*").remove() // Очистка предыдущего графа

                svg.attr("width",   window_params.width) //Устанавливает атрибут width
                .attr("height",   window_params.height)
                .append("g").attr('class', 'group') //добавляет новый элемент, тег которого передается в метод в качестве параметра

                const svgGroup = svg.select('g.group')

                // Масштабирование и перемещение
                const zoom = d3.zoom()
                .scaleExtent([0.1, 10])
                .on("zoom", (event)=>{ //Обновление позиционирования элементов при масштабировании
                    svgGroup.attr("transform", event.transform);
                });
                svg.call(zoom);


                const dragstarted = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0.3).restart(); // Увеличиваем "температуру" симуляции для более плавного движения
                    d.fx = d.x; // Фиксируем позицию узла
                    d.fy = d.y;
                }
                
                const dragged = (event, d)=>{
                    d.fx = event.x; // Обновляем фиксированные координаты узла
                    d.fy = event.y;
                }
                
                const dragended = (event, d)=>{
                    if (!event.active) simulation.alphaTarget(0); // Охлаждаем симуляцию после перетаскивания
                    d.fx = null; // Отпускаем узел, позволяя симуляции снова влиять на его позицию
                    d.fy = null;
                }

                // Создаем обработчик drag
                const drag = d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);


                // Определение маркера стрелки
                svgGroup.append("defs")
                .append("marker")
                .attr("id", "arrowhead")
                .attr("markerWidth", 5) //Размер области, в которой будет отображаться маркер
                .attr("markerHeight", 4)
                .attr("refX", nodeView.r+4)
                .attr("refY", 2)
                .attr("orient", "auto")
                .append("polygon")
                .attr("points", "0 0, 5 2, 0 4")
                .style("fill", colors.link);

                
                //Добавление ссылок
                let links = svgGroup.append("g").attr('class', 'links')
                .selectAll('.link')
                .data(graphData.links) //Добавление данных
                .enter() //Нужен для ввода дополнительных значений (так как data привязывает только первое)
                .append('path')
                .attr('class', 'link')
                .attr('stroke', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return colors.selectLink
                    return colors.link
                }) // Цвет линии ребра
                .attr('stroke-width', d=>{
                    //if((d.source.id === selectedNodes.sourseNode && d.target.id === selectedNodes.targetNode)||(d.target.id === selectedNodes.sourseNode && d.source.id === selectedNodes.targetNode)) return 2
                    return 1
                }) // Ширина линии ребра
                .attr("marker-end", "url(#arrowhead)") // Добавление стрелки в конец ребра
                .style('pointer-events', 'none') //(устанавливает стиль) Отключение событий на ребрах (клики и т.д.)

                // Создание узлов
                let nodes = svgGroup.append("g").attr('class', 'nodes')
                .selectAll('.node')
                .data(graphData.nodes)
                .enter()
                .append('g')
                .attr('class', 'node')
                .call(drag);

                nodes.append('circle')
                .attr('class', 'node')
                .attr('id', d => d.id)
                .attr('r', d => d.r) // Радиус узла
                .attr('fill', d=>{
                    //if(selectedNodes.sourseNode === d.id || selectedNodes.targetNode === d.id) return colors.selectNode
                    return colors.node
                }) // Цвет заполнения
                .attr("cursor", "pointer")
                .on('click', (event, d) => {
                    // Добавьте логику для обработки клика по узлу
                });

                //Отображение текста v2
                nodes.append('foreignObject')
                .attr('x', d => -d.r * 0.8)
                .attr('y', d => -d.r * 0.8)
                .attr('width', d => d.r * 1.6)
                .attr('height', d => d.r * 1.6)
                .append('xhtml:div')
                .style('display', 'flex')
                .style('justify-content', 'center')
                .style('align-items', 'center')
                .style('width', '100%')
                .style('height', '100%')
                .style('font-size', '5px')
                .style('text-anchor', 'middle')
                .style('word-wrap', 'break-word')
                .style('overflow', 'hidden')
                .style('pointer-events', 'none')
                .text(d => d.name);

                //Создание симуляции силы v3
                const simulation = d3.forceSimulation(graphData.nodes)
                // Связи между узлами
                .force("link", d3.forceLink(graphData.links).id(d => d.id))//.distance(nodeView.r*10)) //!!! Сила в зависимости от количества узлов в уровне!!!!!
                // Отталкивание узлов
                .force("charge", d3.forceManyBody(graphData.nodes).strength(d=>graphData.levelsInfo.levelNodesCount[d.level]*(-100)))//-3000))
                // Центрирование по x
                .force("center", d3.forceCenter( window_params.width / 2,  window_params.height / 2))
                // Выравнивание по уровням
                .force("y", d3.forceY().strength(6)
                    .y(d =>  window_params.height * ((d.level+1) / (graphData.maxLevel-1)))) //!!!!!!!!!!Уровень с большим числом узлов шире, чем с меньшим
                // Отталкивание по x в рамках одного уровня
                .force("x", d3.forceX().strength(0.05)
                    .x( window_params.width / 2))
                // Дополнительная сила для предотвращения наложения узлов
                .force("collision", d3.forceCollide().radius(40));

                // Обновление позиций узлов и связей при каждой итерации симуляции
                //Обновление симуляции
                simulation.on('tick', () => {
                    links.attr("d", d => `M${d.source.x},${d.source.y} L${d.target.x},${d.target.y}`);
                    nodes.attr('transform', d => `translate(${d.x}, ${d.y})`); // Правильная позиция для групп
                });
            }
        </script>
    </body>
</html>